(window.webpackPublishersJsonp=window.webpackPublishersJsonp||[]).push([[7],{1028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleCommentsContainer=void 0;var o=n(18),r=n(1221),s=n(91),i=n(27);const a=(0,o.connect)(({experiments:{turnOffComments:e,shouldRenderCommentsDisabledMessage:t,commentsDisabledMessageWithSmallMargins:n},publication:{content:{type:o}}},r)=>({shouldRenderComments:r.shouldRenderComments&&!e,shouldRenderCommentsDisabledMessage:t,commentsDisabledMessageWithSmallMargins:n,onLibShow:s.rumManager.zenCommentsLoad,isNarrative:o===i.PublicationContentType.narrative,isMicroPost:o===i.PublicationContentType.post}))(r.ArticleComments);t.ArticleCommentsContainer=a},1114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionOnIntersectionWrapper",{enumerable:!0,get:function(){return o.ActionOnIntersectionWrapper}});var o=n(1220)},1220:function(e,t,n){"use strict";var o=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.ActionOnIntersectionWrapper=function({children:e,onIntersect:t,className:n}){const o=(0,r.useRef)(null);return(0,s.useMounted)(()=>{const e=(0,i.initIntersectionObserver)(([e],n)=>{o.current&&e.isIntersecting&&(n.unobserve(o.current),t())},{threshold:0,rootMargin:"0px"}).then(e=>(o.current&&e.observe(o.current),e));return()=>{e.then(e=>{e&&e.disconnect()})}}),r.default.createElement("div",{ref:o,className:n},e)};var r=o(n(0)),s=n(79),i=n(143)},1221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleComments",{enumerable:!0,get:function(){return o.ArticleComments}});var o=n(1222)},1222:function(e,t,n){"use strict";var o=n(1),r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleComments=void 0;var s=o(n(2)),i=o(n(11)),a=r(n(0)),l=n(659),c=n(267),d=n(1114),m=n(9),u=n(1223),h=n(91);n(1224);const{bl:f,el:v}=(0,m.createBlock)("article-comments");var p=(0,s.default)(l.CommentsPlaceholder,{}),b=(0,s.default)(l.CommentsPlaceholder,{});const P=(0,c.SocialsAppHOC)(class extends a.Component{constructor(...e){super(...e),(0,i.default)(this,"commentsContainerRef",a.default.createRef()),(0,i.default)(this,"renderComments",({socialsApp:e,socialsOptions:t})=>{const{onLibShow:n}=this.props,o=this.commentsContainerRef.current;o&&e&&(e.render(o,t),n())}),(0,i.default)(this,"handleShowComments",()=>{h.rumManager.zenCommentsShow()})}componentDidMount(){const{shouldScroll:e,loadAppPromise:t}=this.props;t&&t.then(this.renderComments);const n=0===performance.navigation.type;e&&n&&0===window.pageYOffset&&this.scrollToComments()}scrollToComments(){const{isMobile:e,elementToScroll:t,elementsToWatch:o}=this.props,r=this.commentsContainerRef.current;if(r){const s=r.getBoundingClientRect().top,i=e?0:-75,a=s+i;if(t)(Element.prototype.scroll?Promise.resolve():n.e(42).then(n.t.bind(null,1726,7)).then(()=>{})).then(()=>t.scroll(0,a));else if(window.scrollBy(0,a),o){const e=new u.PagePositionObserver;e.init(o,r,i),e.setIgnoreScroll(2)}}}renderInner(){const{isMobile:e,isMicroPost:t,isNarrative:n,shouldRenderComments:o,shouldRenderCommentsDisabledMessage:r,commentsDisabledMessageWithSmallMargins:i}=this.props,{commentsContainerRef:l}=this;return o?e?(0,s.default)("div",{className:f({mobile:e,micropost:t})},void 0,a.default.createElement("div",{ref:l,className:f({},["comments-content"])},(0,s.default)("div",{className:f({placeholder:!0})},void 0,p))):a.default.createElement("div",{ref:l,className:f({desktop:!0,narrative:Boolean(n),"with-hidden-socials":!0},["comments-content"])},(0,s.default)("div",{className:f({placeholder:!0})},void 0,b)):(0,s.default)("div",{className:f({narrative:n,mobile:e,micropost:t,"disabled-message":r,"min-space":i,"with-hidden-socials":!e}),style:{display:"none"}},void 0,a.default.createElement("div",{ref:l,className:f({},["comments-content"])}))}render(){return(0,s.default)(d.ActionOnIntersectionWrapper,{onIntersect:this.handleShowComments,className:v("observer-containers")},void 0,this.renderInner())}});t.ArticleComments=P},1223:function(e,t,n){"use strict";var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.PagePositionObserver=void 0;var r=o(n(11));t.PagePositionObserver=class{constructor(){(0,r.default)(this,"observers",[]),(0,r.default)(this,"ignoreNextScrollEvent",0),(0,r.default)(this,"mutationCallback",(e,t)=>{this.setIgnoreScroll(1),window.scrollBy(0,e.getBoundingClientRect().top+t)}),(0,r.default)(this,"startObserve",(e,t,n)=>{const o=new MutationObserver(()=>this.mutationCallback(t,n));o.observe(e,{childList:!0,subtree:!0}),this.observers.push(o),window.addEventListener("scroll",this.maybeStopObserve)}),(0,r.default)(this,"stopObserve",()=>{this.observers.forEach(e=>{e.disconnect()}),this.observers=[],window.removeEventListener("scroll",this.maybeStopObserve)}),(0,r.default)(this,"maybeStopObserve",()=>{if(this.ignoreNextScrollEvent<=0)return this.stopObserve(),void(this.ignoreNextScrollEvent=0);this.setIgnoreScroll(-1)}),(0,r.default)(this,"setIgnoreScroll",e=>{this.ignoreNextScrollEvent+=e})}init(e,t,n){e.length&&(this.observers.length||e.forEach(e=>{this.startObserve(e,t,n)}))}stop(){this.observers.length&&this.stopObserve()}}},1224:function(e,t,n){},552:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnimatedPlaceholder",{enumerable:!0,get:function(){return o.AnimatedPlaceholder}}),Object.defineProperty(t,"AnimatedPlaceholderSection",{enumerable:!0,get:function(){return o.AnimatedPlaceholderSection}}),Object.defineProperty(t,"createAnimatedPlaceholderSection",{enumerable:!0,get:function(){return o.createAnimatedPlaceholderSection}});var o=n(901)},659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommentsPlaceholder",{enumerable:!0,get:function(){return o.CommentsPlaceholder}});var o=n(902)},742:function(e,t,n){},743:function(e,t,n){},744:function(e,t,n){},901:function(e,t,n){"use strict";var o=n(3),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedPlaceholder=t.AnimatedPlaceholderSection=t.createAnimatedPlaceholderSection=void 0;var s=r(n(14));n(742);var i=o(n(0)),a=n(30);const l=(0,n(12).bevis)("animated-placeholder"),c=e=>(0,i.forwardRef)((t,n)=>{const o=(0,a.mergeProps)(t,{className:l("section")});return i.default.createElement(e,(0,s.default)({ref:n},o))});t.createAnimatedPlaceholderSection=c;const d=c("div");t.AnimatedPlaceholderSection=d;const m=(0,i.forwardRef)((e,t)=>{const{isAnimated:n=!0,children:o,...r}=e,c=(0,a.mergeProps)(r,{className:l()});return i.default.createElement("div",(0,s.default)({ref:t},c),n?(e=>{const t=i.default.Children.count(e),n=1.6+.15*t,o=.25*n;return i.default.Children.map(e,(e,r)=>i.default.cloneElement(e,{style:{...e.props.style,animationDelay:`${o/(t-1)*r}s`,animationDuration:`${n}s`}}))})(o):o)});t.AnimatedPlaceholder=m},902:function(e,t,n){"use strict";var o=n(3),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsPlaceholder=void 0;var s=r(n(2)),i=o(n(0)),a=n(552),l=n(903),c=n(905);const d=(0,n(12).bevis)("comments-placeholder"),m=(0,a.createAnimatedPlaceholderSection)(l.CommentsPlaceholderHeading),u=(0,a.createAnimatedPlaceholderSection)(c.CommentsPlaceholderComment);var h=(0,s.default)(m,{}),f=(0,s.default)(u,{}),v=(0,s.default)(u,{});const p=(0,i.memo)(()=>(0,s.default)(a.AnimatedPlaceholder,{className:d(),isAnimated:!0},void 0,h,f,v),()=>!0);t.CommentsPlaceholder=p},903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommentsPlaceholderHeading",{enumerable:!0,get:function(){return o.CommentsPlaceholderHeading}});var o=n(904)},904:function(e,t,n){"use strict";var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsPlaceholderHeading=void 0,n(743);var r=o(n(0)),s=n(12),i=n(30);const a=(0,s.bevis)("comments-placeholder");t.CommentsPlaceholderHeading=(e=>{const t=(0,i.mergeProps)(e,{className:a("heading")});return r.default.createElement("div",t)})},905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommentsPlaceholderComment",{enumerable:!0,get:function(){return o.CommentsPlaceholderComment}});var o=n(906)},906:function(e,t,n){"use strict";var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsPlaceholderComment=void 0;var r=o(n(2));n(744);var s=o(n(0)),i=n(12),a=n(30);const l=(0,i.bevis)("comments-placeholder");t.CommentsPlaceholderComment=(e=>{const t=(0,a.mergeProps)(e,{className:l("comment")});return s.default.createElement("div",t,(0,r.default)("div",{className:l("avatar")}),(0,r.default)("div",{className:l("text")}))})}}]);