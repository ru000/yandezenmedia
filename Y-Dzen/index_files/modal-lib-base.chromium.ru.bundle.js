!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=57)}([function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var i=0,a=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),u=o(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=a,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var i=t.createSelector=s(o)},function(e,t,n){"use strict";var r=n(60),o={};o[n(37)("toStringTag")]="z",o+""!="[object z]"&&n(39)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},,,function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var o=n&&!0===n.clone;return o&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,o,s){var i=n.slice();return o.forEach(function(o,a){void 0===i[a]?i[a]=t(o,s):e(o)?i[a]=r(n[a],o,s):-1===n.indexOf(o)&&i.push(t(o,s))}),i}function r(o,s,i){var a=Array.isArray(s),c=i||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(o)?l(o,s,i):t(s,i):function(n,o,s){var i={};return e(n)&&Object.keys(n).forEach(function(e){i[e]=t(n[e],s)}),Object.keys(o).forEach(function(a){e(o[a])&&n[a]?i[a]=r(n[a],o[a],s):i[a]=t(o[a],s)}),i}(o,s,i)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),r=t(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),o=r.svg,s=r.xlink,i={};i[o.name]=o.uri,i[s.name]=s.uri;var a=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(i,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(a(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var o=n&&!0===n.clone;return o&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,o,s){var i=n.slice();return o.forEach(function(o,a){void 0===i[a]?i[a]=t(o,s):e(o)?i[a]=r(n[a],o,s):-1===n.indexOf(o)&&i.push(t(o,s))}),i}function r(o,s,i){var a=Array.isArray(s),c=i||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(o)?l(o,s,i):t(s,i):function(n,o,s){var i={};return e(n)&&Object.keys(n).forEach(function(e){i[e]=t(n[e],s)}),Object.keys(o).forEach(function(a){e(o[a])&&n[a]?i[a]=r(n[a],o[a],s):i[a]=t(o[a],s)}),i}(o,s,i)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var n=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),r=n.svg,o=n.xlink,s={};s[r.name]=r.uri,s[o.name]=o.uri;var i,a=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(t(s,n||{}))+">"+e+"</svg>"},c=n.svg,l=n.xlink,u={attrs:(i={style:["position: absolute","width: 0","height: 0"].join("; ")},i[c.name]=c.uri,i[l.name]=l.uri,i)},d=function(e){this.config=t(u,e||{}),this.symbols=[]};d.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},d.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},d.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},d.prototype.has=function(e){return null!==this.find(e)},d.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return a(t,e)},d.prototype.toString=function(){return this.stringify()},d.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var p=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var h=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return h(a(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(p),m={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},b=function(e){return Array.prototype.slice.call(e,0)},g=navigator.userAgent,v={isChrome:/chrome/i.test(g),isFirefox:/firefox/i.test(g),isIE:/msie/i.test(g)||/trident/i.test(g),isEdge:/edge/i.test(g)},y=function(e){var t=[];return b(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},_=function(e){return(e||window.location.href).split("#")[0]},E=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},w=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),b(e.querySelectorAll("symbol")).forEach(function(e){b(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var S=n.xlink.uri,k="xlink:href",C=/[{}|\\\^\[\]`"<>]/g;function O(e){return e.replace(C,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var T,P=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],A=P.map(function(e){return"["+e+"]"}).join(","),R=function(e,t,n,r){var o=O(n),s=O(r);(function(e,t){return b(e).reduce(function(e,n){if(!n.attributes)return e;var r=b(n.attributes),o=t?r.filter(t):r;return e.concat(o)},[])})(e.querySelectorAll(A),function(e){var t=e.localName,n=e.value;return-1!==P.indexOf(t)&&-1!==n.indexOf("url("+o)}).forEach(function(e){return e.value=e.value.replace(o,s)}),function(e,t,n){b(e).forEach(function(e){var r=e.getAttribute(k);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(S,k,o)}})}(t,o,s)},x={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},N=function(e){function n(n){var r=this;void 0===n&&(n={}),e.call(this,t(m,n));var o=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=o,this.node=null;var s=this.config;if(s.autoConfigure&&this._autoConfigure(n),s.syncUrlsWithBaseTag){var i=document.getElementsByTagName("base")[0].getAttribute("href");o.on(x.MOUNT,function(){return r.updateUrls("#",i)})}var a=this._handleLocationChange.bind(this);this._handleLocationChange=a,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,a),s.locationChangeAngularEmitter&&E(s.locationChangeEvent),o.on(x.MOUNT,function(e){s.moveGradientsOutsideSymbol&&w(e)}),o.on(x.SYMBOL_MOUNT,function(e){s.moveGradientsOutsideSymbol&&w(e.parentNode),(v.isIE||v.isEdge)&&y(e)})}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=v.isFirefox)},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},n.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(x.SYMBOL_MOUNT,t.node)),n},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(x.SYMBOL_MOUNT,e.node)}),b(r.querySelectorAll("symbol")).forEach(function(e){var t=f.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(x.MOUNT,r),r},n.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(x.MOUNT,r),r},n.prototype.render=function(){return h(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return R(this.node,n,_(e)+"#",_(t)+"#"),!0},Object.defineProperties(n.prototype,r),n}(d),I=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),o=1;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?T=window.__SVG_SPRITE__:(T=new N({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=T);var L=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?T.attach(e):T.mount(document.body,!0)};return document.body?L():I(L),T})},function(e,t,n){e.exports=n(89)()},,function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return a});var r=n(29),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function i(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function a(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function f(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),d.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=d.indexOf(e);d.splice(n,1),u=null}}}function b(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return b({type:s.INIT}),(o={dispatch:b,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,b({type:s.REPLACE})}})[r.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},o}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:s.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+s.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var l=a[s],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var h=c(l,t);throw new Error(h)}o[l]=p,r=r||p!==d}return(r=r||a.length!==Object.keys(e).length)?o:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=u(o,t))}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map(function(e){return e(o)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{dispatch:r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,s)(n.dispatch)})}}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,s,i,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,i,a],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},,,,function(e,t,n){e.exports=n(71)()},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(s){if(void 0===(o="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=s(),!!0){var i=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=i,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,s){var i;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},r.defaults,s)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{i=JSON.stringify(o),/^[\{\[]/.test(i)&&(o=i)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in s)s[l]&&(c+="; "+l,!0!==s[l]&&(c+="="+s[l]));return document.cookie=t+"="+o+c}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),f=h.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var m=h[0].replace(d,decodeURIComponent);if(f=n.read?n.read(f,m):n(f,m)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){i=f;break}t||(i[m]=f)}catch(e){}}return i}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=n(78)()},function(e,t,n){"use strict";var r=n(91),o=n(42),s=n(93),i=n(23),a=[].sort,c=[1,2,3];r(r.P+r.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!n(95)(a)),"Array",{sort:function(e){return void 0===e?a.call(s(this)):a.call(s(this),o(e))}})},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r=n(73),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?i:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var o=h(n);o&&o!==f&&e(t,o,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var a=c(t),m=c(n),b=0;b<i.length;++b){var g=i[b];if(!(s[g]||r&&r[g]||m&&m[g]||a&&a[g])){var v=p(n,g);try{l(t,g,v)}catch(e){}}}return t}return t}},,,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function s(e,n){function r(){var e=s;o(e)&&e.a.parentNode&&n(e.g)}var s=e;t(e.b,r),t(e.c,r),o(e)}function i(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}i.prototype.load=function(e,t){var o=this,i=e||"BESbswy",l=0,u=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var f=new Promise(function(e,t){!function n(){(new Date).getTime()-p>=u?t():document.fonts.load(h(o,'"'+o.family+'"'),i).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),m=new Promise(function(e,t){l=setTimeout(t,u)});Promise.race([m,f]).then(function(){clearTimeout(l),e(o)},function(){t(o)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=b&&-1!=g||-1!=b&&-1!=v||-1!=g&&-1!=v)&&((t=b!=g&&b!=v&&g!=v)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(b==y&&g==y&&v==y||b==_&&g==_&&v==_||b==E&&g==E&&v==E)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(l),e(o))}var d=new n(i),f=new n(i),m=new n(i),b=-1,g=-1,v=-1,y=-1,_=-1,E=-1,w=document.createElement("div");w.dir="ltr",r(d,h(o,"sans-serif")),r(f,h(o,"serif")),r(m,h(o,"monospace")),w.appendChild(d.a),w.appendChild(f.a),w.appendChild(m.a),document.body.appendChild(w),y=d.a.offsetWidth,_=f.a.offsetWidth,E=m.a.offsetWidth,function e(){if((new Date).getTime()-p>=u)w.parentNode&&w.parentNode.removeChild(w),t(o);else{var n=document.hidden;!0!==n&&void 0!==n||(b=d.a.offsetWidth,g=f.a.offsetWidth,v=m.a.offsetWidth,c()),l=setTimeout(e,50)}}(),s(d,function(e){b=e,c()}),r(d,h(o,'"'+o.family+'",sans-serif')),s(f,function(e){g=e,c()}),r(f,h(o,'"'+o.family+'",serif')),s(m,function(e){v=e,c()}),r(m,h(o,'"'+o.family+'",monospace'))})})},e.exports=i}()},,function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";(function(e){var r,o=n(47);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var s=Object(o.a)(r);t.a=s}).call(this,n(76)(e))},function(e,t,n){var r=n(86);e.exports=f,e.exports.parse=s,e.exports.compile=function(e,t){return c(s(e,t))},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=h;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,i=0,a="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],p=n[1],h=n.index;if(a+=e.slice(i,h),i=h+d.length,p)a+=p[1];else{var f=e[i],m=n[2],b=n[3],g=n[4],v=n[5],y=n[6],_=n[7];a&&(r.push(a),a="");var E=null!=m&&null!=f&&f!==m,w="+"===y||"*"===y,S="?"===y||"*"===y,k=n[2]||c,C=g||v;r.push({name:b||s++,prefix:m||"",delimiter:k,optional:S,repeat:w,partial:E,asterisk:!!_,pattern:C?u(C):_?".*":"[^"+l(k)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var s="",c=n||{},l=(o||{}).pretty?i:encodeURIComponent,u=0;u<e.length;u++){var d=e[u];if("string"!=typeof d){var p,h=c[d.name];if(null==h){if(d.optional){d.partial&&(s+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=l(h[f]),!t[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");s+=(0===f?d.prefix:d.delimiter)+p}}else{if(p=d.asterisk?a(h):l(h),!t[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');s+=d.prefix+p}}else s+=d}return s}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,s=!1!==n.end,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=l(c);else{var u=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+u+h+")*"),i+=h=c.optional?c.partial?u+"("+h+")?":"(?:"+u+"("+h+"))?":u+"("+h+")"}}var f=l(n.delimiter||"/"),m=i.slice(-f.length)===f;return o||(i=(m?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=s?"$":o&&m?"":"(?="+f+"|$)",d(new RegExp("^"+i,p(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(f(e[o],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return h(s(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,o=Array.isArray(t),s=Array.isArray(n);if(o&&s){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(o!=s)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i=Object.keys(t);if(i.length!==Object.keys(n).length)return!1;var a=t instanceof Date,c=n instanceof Date;if(a&&c)return t.getTime()==n.getTime();if(a!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=0;r<i.length;r++)if(!e(t[i[r]],n[i[r]]))return!1;return!0}return!1}},,,,,,function(e,t,n){var r=n(62)("wks"),o=n(38),s=n(16).Symbol,i="function"==typeof s;(e.exports=function(e){return r[e]||(r[e]=i&&s[e]||(i?s:o)("Symbol."+e))}).store=r},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(16),o=n(40),s=n(70),i=n(38)("src"),a=Function.toString,c=(""+a).split("toString");n(26).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(s(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(s(n,i)||o(n,i,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||a.call(this)})},function(e,t,n){var r=n(64),o=n(69);e.exports=n(28)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};o(n(0));var r=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";e.exports=n(75)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(0)),o=s(n(77));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t,n){"use strict";e.exports=n(98)},function(e){e.exports={"lib-prefix":"zen-ui",colors:{"black-70":"#4d4d4d",blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff","button-placeholder-color-from":"#f3f1ed","button-placeholder-color-to":"#eceae6","datepicker-calendar-week-day-color":"#757575","datepicker-calendar-day-hover":"#e4e7e7","datepicker-calendar-day-selected":"#ffeba0","datepicker-calendar-day-selected-hover":"#fff5d0"}}},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cg opacity='0.8'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.0463 8.89712C11.6333 8.14245 12 7.08029 12 6C12 4.23229 10.5276 3 9 3C7.47236 3 6 4.23229 6 6C6 7.08029 6.36674 8.14245 6.9537 8.89712C7.52381 9.63011 8.22849 10 9 10C9.77151 10 10.4762 9.63011 11.0463 8.89712ZM9 12C12 12 14 9 14 6C14 3 11.5 1 9 1C6.5 1 4 3 4 6C4 9 6 12 9 12Z' fill='black'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3.98398 17.1423C3.98953 17.1221 4 17.0727 4 17H2C2 16.7366 2.08482 16.4953 2.1541 16.3336C2.23429 16.1465 2.34521 15.9494 2.4825 15.7511C2.75823 15.3528 3.16504 14.9139 3.72114 14.5061C4.84448 13.6823 6.55578 13 9 13C11.4442 13 13.1555 13.6823 14.2789 14.5061C14.835 14.9139 15.2418 15.3528 15.5175 15.7511C15.6548 15.9494 15.7657 16.1465 15.8459 16.3336C15.9152 16.4953 16 16.7366 16 17H14C14 17.0727 14.0105 17.1221 14.016 17.1423C14.0142 17.1373 14.0114 17.1303 14.0076 17.1215C13.9882 17.0762 13.9468 16.9959 13.8731 16.8895C13.727 16.6784 13.4775 16.3986 13.0961 16.1189C12.3445 15.5677 11.0558 15 9 15C6.94422 15 5.65552 15.5677 4.90386 16.1189C4.52246 16.3986 4.27302 16.6784 4.12688 16.8895C4.05322 16.9959 4.0118 17.0762 3.99239 17.1215C3.98858 17.1303 3.98585 17.1373 3.98398 17.1423Z' fill='black'/%3E %3C/g%3E %3C/svg%3E\""},,,,,function(e,t,n){n(58),n(178),e.exports=n(177)},function(e,t,n){"use strict";n.r(t);n(59)},function(e,t){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}))},function(e,t,n){var r=n(61),o=n(37)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(26),o=n(16),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(63)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var r=n(65),o=n(66),s=n(68),i=Object.defineProperty;t.f=n(28)?Object.defineProperty:function(e,t,n){if(r(e),t=s(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(27);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(28)&&!n(23)(function(){return 7!=Object.defineProperty(n(67)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(27),o=n(16).document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){var r=n(27);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(72);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,s,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(74)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case i:case c:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case l:return e;default:return t}}case b:case m:case s:return t}}}function v(e){return g(e)===p}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=h,t.Fragment=i,t.Lazy=b,t.Memo=m,t.Portal=s,t.Profiler=c,t.StrictMode=a,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===c||e===a||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return v(e)||g(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===h},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===b},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===s},t.isProfiler=function(e){return g(e)===c},t.isStrictMode=function(e){return g(e)===a},t.isSuspense=function(e){return g(e)===f}},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,b=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case i:case c:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case g:case b:case l:return e;default:return t}}case s:return t}}}function w(e){return E(e)===p}t.typeOf=E,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=b,t.Portal=s,t.Profiler=c,t.StrictMode=a,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===c||e===a||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===b||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===_)},t.isAsyncMode=function(e){return w(e)||E(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===i},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===b},t.isPortal=function(e){return E(e)===s},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===f}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=(i(r),i(n(17))),s=i(n(81));i(n(82));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=1073741823;t.default=function(e,t){var n,i,d="__create-react-context-"+(0,s.default)()+"__",p=function(e){function n(){var t,r;a(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=r=c(this,e.call.apply(e,[this].concat(s))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(r.props.value),c(r,t)}return l(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)?(o="function"==typeof t?t(n,r):u,0!=(o|=0)&&this.emitter.set(e.value,o)):o=0}},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[d]=o.default.object.isRequired,n);var h=function(t){function n(){var e,r;a(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return e=r=c(this,t.call.apply(t,[this].concat(s))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return l(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?u:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?u:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(r.Component);return h.contextTypes=((i={})[d]=o.default.object,i),{Provider:p,Consumer:h}},e.exports=t.default},function(e,t,n){"use strict";var r=n(41),o=n(79),s=n(80);e.exports=function(){function e(e,t,n,r,i,a){a!==s&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,s,i,a,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,s,i,a,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="__global_unique_id__";e.exports=function(){return global[r]=(global[r]||0)+1}},function(e,t,n){"use strict";var r=n(41);e.exports=r},function(e,t,n){e.exports=n(84)()},function(e,t,n){"use strict";var r=n(85);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,s,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(88)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case i:case c:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case l:return e;default:return t}}case b:case m:case s:return t}}}function v(e){return g(e)===p}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=h,t.Fragment=i,t.Lazy=b,t.Memo=m,t.Portal=s,t.Profiler=c,t.StrictMode=a,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===c||e===a||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return v(e)||g(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===h},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===b},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===s},t.isProfiler=function(e){return g(e)===c},t.isStrictMode=function(e){return g(e)===a},t.isSuspense=function(e){return g(e)===f}},function(e,t,n){"use strict";var r=n(90);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,s,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(16),o=n(26),s=n(40),i=n(39),a=n(92),c=function(e,t,n){var l,u,d,p,h=e&c.F,f=e&c.G,m=e&c.S,b=e&c.P,g=e&c.B,v=f?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=f?o:o[t]||(o[t]={}),_=y.prototype||(y.prototype={});for(l in f&&(n=t),n)d=((u=!h&&v&&void 0!==v[l])?v:n)[l],p=g&&u?a(d,r):b&&"function"==typeof d?a(Function.call,d):d,v&&i(v,l,d,e&c.U),y[l]!=d&&s(y,l,p),b&&_[l]!=d&&(_[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(42);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(94);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),s=l(n(17)),i=l(n(99)),a=l(n(103)),c=n(45);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=r=u(this,e.call.apply(e,[this].concat(i))),r._wrapChild=function(e){return o.default.createElement(a.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(i.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(100)),s=c(n(0)),i=c(n(17)),a=(c(n(101)),n(102));function c(e){return e&&e.__esModule?e:{default:e}}i.default.any,i.default.func,i.default.node;var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return s.performAppear=function(e,t){s.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(s._handleDoneAppearing.bind(s,e,t)):s._handleDoneAppearing(e,t)},s._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete s.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(s.props.children);n&&n.hasOwnProperty(e)||s.performLeave(e,t)},s.performEnter=function(e,t){s.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(s._handleDoneEntering.bind(s,e,t)):s._handleDoneEntering(e,t)},s._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete s.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(s.props.children);n&&n.hasOwnProperty(e)||s.performLeave(e,t)},s.performLeave=function(e,t){s.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(s._handleDoneLeaving.bind(s,e,t)):s._handleDoneLeaving(e,t)},s._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete s.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(s.props.children);n&&n.hasOwnProperty(e)?s.keysToEnter.push(e):s.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},s.childRefs=Object.create(null),s.state={children:(0,a.getChildMapping)(n.children)},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,a.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,a.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var s in n){var i=t&&t.hasOwnProperty(s);!n[s]||i||this.currentlyTransitioningKeys[s]||this.keysToLeave.push(s)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,a=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};a===r&&i&&(c=(0,o.default)(r.ref,c)),t.push(s.default.cloneElement(a,{key:n,ref:c}))}};for(var i in this.state.children)n(i);var a=r({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,s.default.createElement(this.props.component,a,t)},t}(s.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var s in e)t.hasOwnProperty(s)?o.length&&(r[s]=o,o=[]):o.push(s);var i=void 0,a={};for(var c in t){if(r.hasOwnProperty(c))for(i=0;i<r[c].length;i++){var l=r[c][i];a[r[c][i]]=n(l)}a[c]=n(c)}for(i=0;i<o.length;i++)a[o[i]]=n(o[i]);return a};var r=n(0)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(104)),s=p(n(106)),i=p(n(107)),a=n(108),c=p(n(0)),l=p(n(17)),u=n(19),d=n(45);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=[];a.transitionEnd&&f.push(a.transitionEnd),a.animationEnd&&f.push(a.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(s))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||i+"-active",l=null,d=void 0;(0,o.default)(r,i),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,s.default)(r,i),(0,s.default)(r,c),d&&d(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):a.transitionEnd&&(d=function(e,t){return f.length?f.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){f.length&&f.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,i.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,o.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(105));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(44));var o,s="clearTimeout",i=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&["","webkit","moz","o","ms"].some(function(e){var t=a(e,"request");if(t in window)return s=a(e,"cancel"),i=function(e){return window[t](e)}});var c=(new Date).getTime();(o=function(e){return i(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",o=void 0,s=void 0,i=void 0,a=void 0,c=void 0,l=void 0,u=void 0,d=void 0,p=void 0,h=void 0,f=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(44)).default){var m=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,o=void 0,s="",i=0;i<n.length;i++){var a=n[i];if(a+"TransitionProperty"in e){s="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),o=t[a]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!o&&"animationName"in e&&(o="animationend");return e=null,{animationEnd:o,transitionEnd:r,prefix:s}}();o=m.prefix,t.transitionEnd=s=m.transitionEnd,t.animationEnd=i=m.animationEnd,t.transform=r=o+"-"+r,t.transitionProperty=a=o+"-transition-property",t.transitionDuration=c=o+"-transition-duration",t.transitionDelay=u=o+"-transition-delay",t.transitionTiming=l=o+"-transition-timing-function",t.animationName=d=o+"-animation-name",t.animationDuration=p=o+"-animation-duration",t.animationTiming=h=o+"-animation-delay",t.animationDelay=f=o+"-animation-timing-function"}t.transform=r,t.transitionProperty=a,t.transitionTiming=l,t.transitionDelay=u,t.transitionDuration=c,t.transitionEnd=s,t.animationName=d,t.animationDuration=p,t.animationTiming=h,t.animationDelay=f,t.animationEnd=i,t.default={transform:r,end:s,property:a,timing:l,delay:u,duration:c}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n(134)()},function(e,t,n){"use strict";var r=n(135);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,s,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),s=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:"@@router/CALL_HISTORY_METHOD",payload:{method:e,args:n}}}},i=s("push"),a=(s("replace"),s("go"),s("goBack"));s("goForward");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&l(e),s=t&&l(t),i=o||s;if(e&&l(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a=void 0;if(r.length){var c=r[r.length-1];a="."===c||".."===c||""===c}else a=!1;for(var d=0,p=r.length;p>=0;p--){var h=r[p];"."===h?u(r,p):".."===h?(u(r,p),d++):d&&(u(r,p),d--)}if(!i)for(;d--;d)r.unshift("..");!i||""===r[0]||r[0]&&l(r[0])||r.unshift("");var f=r.join("/");return a&&"/"!==f.substr(-1)&&(f+="/"),f},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var h=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r=void 0===t?"undefined":p(t);if(r!==(void 0===n?"undefined":p(n)))return!1;if("object"===r){var o=t.valueOf(),s=n.valueOf();if(o!==t||s!==n)return e(o,s);var i=Object.keys(t),a=Object.keys(n);return i.length===a.length&&i.every(function(r){return e(t[r],n[r])})}return!1},f=!0,m="Invariant failed";var b=function(e,t){if(!e)throw f?new Error(m):new Error(m+": "+(t||""))};function g(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function _(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function E(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function w(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=c({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=d(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function S(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&h(e.state,t.state)}function k(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,o):o(!0):o(!1!==s)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}var C=!("undefined"==typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var T="popstate",P="hashchange";function A(){try{return window.history.state||{}}catch(e){return{}}}function R(e){void 0===e&&(e={}),C||b(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,s=o.forceRefresh,i=void 0!==s&&s,a=o.getUserConfirmation,l=void 0===a?O:a,u=o.keyLength,d=void 0===u?6:u,p=e.basename?_(g(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,o=window.location,s=o.pathname+o.search+o.hash;return p&&(s=y(s,p)),w(s,r,n)}function f(){return Math.random().toString(36).substr(2,d)}var m=k();function v(e){c(U,e),U.length=t.length,m.notifyListeners(U.location,U.action)}function S(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||N(h(e.state))}function R(){N(h(A()))}var x=!1;function N(e){if(x)x=!1,v();else{m.confirmTransitionTo(e,"POP",l,function(t){t?v({action:"POP",location:e}):function(e){var t=U.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(x=!0,M(o))}(e)})}}var I=h(A()),L=[I.key];function j(e){return p+E(e)}function M(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?(window.addEventListener(T,S),r&&window.addEventListener(P,R)):0===D&&(window.removeEventListener(T,S),r&&window.removeEventListener(P,R))}var B=!1;var U={length:t.length,action:"POP",location:I,createHref:j,push:function(e,r){var o=w(e,r,f(),U.location);m.confirmTransitionTo(o,"PUSH",l,function(e){if(e){var r=j(o),s=o.key,a=o.state;if(n)if(t.pushState({key:s,state:a},null,r),i)window.location.href=r;else{var c=L.indexOf(U.location.key),l=L.slice(0,-1===c?0:c+1);l.push(o.key),L=l,v({action:"PUSH",location:o})}else window.location.href=r}})},replace:function(e,r){var o=w(e,r,f(),U.location);m.confirmTransitionTo(o,"REPLACE",l,function(e){if(e){var r=j(o),s=o.key,a=o.state;if(n)if(t.replaceState({key:s,state:a},null,r),i)window.location.replace(r);else{var c=L.indexOf(U.location.key);-1!==c&&(L[c]=o.key),v({action:"REPLACE",location:o})}else window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=m.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var x="hashchange",N={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:g},slash:{encodePath:g,decodePath:g}};function I(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function L(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function j(e){void 0===e&&(e={}),C||b(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?O:r,s=n.hashType,i=void 0===s?"slash":s,a=e.basename?_(g(e.basename)):"",l=N[i],u=l.encodePath,d=l.decodePath;function p(){var e=d(I());return a&&(e=y(e,a)),w(e)}var h=k();function f(e){c(U,e),U.length=t.length,h.notifyListeners(U.location,U.action)}var m=!1,v=null;function T(){var e=I(),t=u(e);if(e!==t)L(t);else{var n=p(),r=U.location;if(!m&&S(r,n))return;if(v===E(n))return;v=null,function(e){if(m)m=!1,f();else{h.confirmTransitionTo(e,"POP",o,function(t){t?f({action:"POP",location:e}):function(e){var t=U.location,n=j.lastIndexOf(E(t));-1===n&&(n=0);var r=j.lastIndexOf(E(e));-1===r&&(r=0);var o=n-r;o&&(m=!0,M(o))}(e)})}}(n)}}var P=I(),A=u(P);P!==A&&L(A);var R=p(),j=[E(R)];function M(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?window.addEventListener(x,T):0===D&&window.removeEventListener(x,T)}var B=!1;var U={length:t.length,action:"POP",location:R,createHref:function(e){return"#"+u(a+E(e))},push:function(e,t){var n=w(e,void 0,void 0,U.location);h.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=E(n),r=u(a+t);if(I()!==r){v=t,function(e){window.location.hash=e}(r);var o=j.lastIndexOf(E(U.location)),s=j.slice(0,-1===o?0:o+1);s.push(t),j=s,f({action:"PUSH",location:n})}else f()}})},replace:function(e,t){var n=w(e,void 0,void 0,U.location);h.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=E(n),r=u(a+t);I()!==r&&(v=t,L(r));var o=j.indexOf(E(U.location));-1!==o&&(j[o]=t),f({action:"REPLACE",location:n})}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=h.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function M(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,s=t.initialIndex,i=void 0===s?0:s,a=t.keyLength,l=void 0===a?6:a,u=k();function d(e){c(g,e),g.length=g.entries.length,u.notifyListeners(g.location,g.action)}function p(){return Math.random().toString(36).substr(2,l)}var h=M(i,0,o.length-1),f=o.map(function(e){return w(e,void 0,"string"==typeof e?p():e.key||p())}),m=E;function b(e){var t=M(g.index+e,0,g.entries.length-1),r=g.entries[t];u.confirmTransitionTo(r,"POP",n,function(e){e?d({action:"POP",location:r,index:t}):d()})}var g={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:m,push:function(e,t){var r=w(e,t,p(),g.location);u.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=w(e,t,p(),g.location);u.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(g.entries[g.index]=r,d({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return g}const F="USER_BLOCKED_REQUEST",B="USER_SUBSCRIPTIONS_REQUEST";let U;!function(e){e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.Blocked="blocked",e.Unblocked="unblocked"}(U||(U={}));const z={SOURCE_BLOCK:U.Blocked,SOURCE_UNBLOCK:U.Unblocked,SOURCE_SUBSCRIBE:U.Subscribed,SOURCE_UNSUBSCRIBE:U.Unsubscribed},H=e=>()=>t=>n=>{const{type:r,payload:o}=n,{outputBus:s}=e,i=z[r];if(i&&o&&s){const{id:e}=o;s.emit("sourceChange",{id:e,type:i})}return t(n)};var $=n(9);function V(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var W=V();W.withExtraArgument=V;var q=W;n(2);var G=n(1),K=n(48),Y=n.n(K);function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n(83);var Z=n(30),J=n.n(Z);n(87);function X(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var ee=n(20),te=n.n(ee),ne=function(e){var t=Y()();return t.Provider.displayName=e+".Provider",t.Consumer.displayName=e+".Consumer",t}("Router"),re=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Q(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(ne.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var oe={},se=1e4,ie=0;function ae(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(oe[e])return oe[e];var t=J.a.compile(e);return ie<se&&(oe[e]=t,ie++),t}(e)(t,{pretty:!0})}var ce={},le=1e4,ue=0;function de(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,o=n.exact,s=void 0!==o&&o,i=n.strict,a=void 0!==i&&i,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce(function(t,n){if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ce[n]||(ce[n]={});if(r[e])return r[e];var o=[],s={regexp:J()(e,o,t),keys:o};return ue<le&&(r[e]=s,ue++),s}(n,{end:s,strict:a,sensitive:l}),o=r.regexp,i=r.keys,c=o.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),p=e===u;return s&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:i.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}o.a.Component;function pe(e){return"/"===e.charAt(0)?e:"/"+e}function he(e,t){if(!e)return t;var n=pe(e);return 0!==t.pathname.indexOf(n)?t:c({},t,{pathname:t.pathname.substr(n.length)})}function fe(e){return"string"==typeof e?e:E(e)}function me(e){return function(){b(!1)}}function be(){}o.a.Component;o.a.Component;const ge=(...e)=>(t,n)=>e.reduce((e,t)=>t(e,n),t),ve=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};let ye,_e,Ee,we,Se,ke,Ce,Oe,Te,Pe;!function(e){e.Light="white",e.Dark="black"}(ye||(ye={})),function(e){e.Initial="initial",e.Pending="pending",e.Error="error",e.Success="success"}(_e||(_e={})),function(e){e.SUBSCRIBED="subscribed",e.BLOCKED="blocked",e.NOT_SUBSCRIBED="not_subscribed"}(Ee||(Ee={})),function(e){e.Normal="normal",e.Header="header",e.PinnedCarousel="pinned-carousel"}(we||(we={})),function(e){e.Normal="normal",e.Navbar="navbar",e.AdfoxSmartBanner="adfox-smart-banner",e.BlockFeedBanner="block-feed-banner"}(Se||(Se={})),function(e){e.Top="top",e.Bottom="bottom"}(ke||(ke={})),function(e){e.Black="black",e.White="white"}(Ce||(Ce={})),function(e){e.App="app",e.More="more",e.Error="error",e.Load="load"}(Oe||(Oe={})),function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(Te||(Te={})),function(e){e.Feed="feed",e.Category="category",e.Categories="categories",e.Profile="profile",e.SwitchableSubs="switchable_subs",e.Suggest="suggest",e.Blocked="blocked",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.Preferences="preferences",e.Language="language",e.SendAppLinkSms="send_app_link_sms",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos",e.GetVideoPopupData="get_video_popup_data"}(Pe||(Pe={}));let Ae,Re,xe,Ne,Ie,Le,je,Me,De,Fe,Be,Ue,ze,He,$e,Ve;!function(e){e.Blur="blur",e.Fade="fade"}(Ae||(Ae={})),function(e){e.Pinned="pinned",e.Feed="feed",e.PinnedLib="pinned-lib"}(Re||(Re={})),function(e){e.Yabro1="yabro-1",e.Generic="generic"}(xe||(xe={})),function(e){e.Placeholder="Placeholder",e.Zen="Zen"}(Ne||(Ne={})),function(e){e.NAV_TOP_FIXED="top-fix",e.NAV_BOTTOM_FIXED="bottom-fix",e.NAV_TOP_FREE="top-free"}(Ie||(Ie={})),function(e){e.Coccoc="coccoc",e.Default="default"}(Le||(Le={})),function(e){e.A1="1a",e.A2="2a",e.B2="2b",e.OLD="old"}(je||(je={})),function(e){e.BIG="big",e.SMALL="small",e.FREE="free"}(Me||(Me={})),function(e){e.Suggest="catalog_suggest",e.Carousel="catalog_carousel",e.Category="catalog_category",e.Subs="subscriptions",e.Blocked="profile_blocked",e.Onboarding="onboarding_popup",e.Similar="feed",e.Feed="feed",e.Interest="interest",e.Channel="channel",e.Activity="activity_feed",e.Subscriptions="subscriptions",e.LeftColumn="left_column",e.VideoRecommend="video_recommend"}(De||(De={})),function(e){e.Suggest="suggest",e.Carousel="list_of_categories",e.Category="category",e.Subs="subscriptions",e.Blocked="blocked",e.Onboarding="onboarding_popup",e.Similar="similar",e.Feed="layout",e.Subscribers="user_subscribers",e.LeftColumn="left_column"}(Fe||(Fe={})),function(e){e.Native="native",e.Main="main",e.Channel="channel",e.Interest="interest",e.Activity="activity",e.Subscriptions="subscriptions"}(Be||(Be={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(Ue||(Ue={})),function(e){e.Active="active",e.Sleeping="sleeping",e.Deleted="deleted",e.NotExist="not_exist"}(ze||(ze={})),function(e){e.SourceSubscribeFromMainFeedCard="1001",e.SourceSubscribeFromFeedbackMenu="1002",e.SourceSubscribeFromCarousel="1003",e.SourceLikeFromFeed="1004",e.SourceSubscribeFormZenLib="4001",e.SourceSubscribeFormZenLibCarousel="4002",e.LikeFormZenLib="4002",e.SourceSubscribeFromPage="6001",e.SourceSubscribeFromPageCard="6002",e.SourceLikeFromPage="6003"}(He||(He={})),function(e){e.Like="like",e.Subscribe="subscribe"}($e||($e={})),function(e){e.VideoCardDesktop="video-card-desktop",e.DirectDesktop="direct-desktop",e.Similar="similar",e.IceboardingFeedItem="iceboarding-feed-item",e.HintEula="hint-eula",e.HintPersonal="hint-personal",e.UserQuestion="user-question",e.StarSimilarInterests="star-similar-interests",e.FeaturingPromoCard="featuring-promo-card",e.FeaturingCarousel="featuring-carousel",e.ContentCarousel="content-carousel",e.ProfileOnboardingCardView="profile-onboarding-card-view",e.Delimiter="delimiter",e.Feedback="feedback",e.CardPost="card-post",e.FeedPersonalCarousel="feed-personal-carousel",e.SocialProfileStatus="social-profile-status",e.FeedbackSuggest="feedback-suggest",e.LearnBlockInterests="learn-block-interests",e.SourceBlockText="source-block-text",e.Index="index",e.Modal="modal",e.CardVideo="card-video",e.CardAdsense="card-adsense",e.DirectMobile="direct-mobile",e.AuthCard="auth-card",e.CardToothMobile="card-tooth-mobile",e.VideoMobile="video-mobile",e.LegoNotifier="lego-notifier",e.RumInterceptor="rum-interceptor",e.Interview="interview"}(Ve||(Ve={}));const We=e=>e||"DEFAULT_ID",qe=(e,t)=>e({id:We(t)},{type:"@@asyncScope/INIT"}),Ge=({actionType:e,dataReducer:t})=>{const n=(e=>{let t,n;return(...r)=>t&&ve(t,r)?n:(t=r,n=e(...r))})((e,t,n)=>({id:e,status:t,data:n})),r=(e=>(t=_e.Pending,n,r)=>{if(r!==(n.payload&&n.payload.id))return t;switch(n.type){case e:return n.payload.status;default:return t}})(e);return(e,o)=>{const s=((e="DEFAULT_ID")=>e)(e&&e.id);return n(s,r(e&&e.status,o,s),t(e&&e.data,o,s))}},Ke=({reducer:e,selector:t})=>(n,r,...o)=>{const s=We(r);return t(n,s,...o)||qe(e,s)},Ye=e=>{let{type:t,request:n,selector:r}=e;const o=({isForced:e,isSilent:o=!1})=>(s,i={isPublic:!1},...a)=>async(c,l,u)=>{const d=We(s),p=l(),h=r(p,d,...a);return!e&&h&&h.status===_e.Success?h.data:(!o&&c((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:_e.Pending}}))({type:t,id:d})),n(u,d,...a).then(e=>{c((({type:e,value:t,id:n="DEFAULT_ID",isPublicEvent:{isPublic:r}})=>({type:e,payload:{id:n,timestamp:Date.now(),status:_e.Success,value:t},meta:{isPublic:r}}))({type:t,id:d,value:e,isPublicEvent:i}));const n=l(),o=r(n,d,...a);if(o)return o.data},e=>{throw!o&&c((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:_e.Error}}))({type:t,id:d})),e}))};return[o({isForced:!1}),o({isForced:!0}),o({isForced:!0,isSilent:!0})]},Qe=Ge({actionType:"USER_PROFILE_REQUEST",dataReducer:(e=null,t,n)=>{const r=t.payload&&t.payload.id,o=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case"SOURCE_SUBSCRIBE":{const t=Object.assign({},e);return n===o?t.subscriptionCount++:n===r&&t.followerCount++,t}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const t=Object.assign({},e);return n===o?t.subscriptionCount--:n===r&&t.followerCount--,t}}if(n!==r)return e;switch(t.type){case"USER_PROFILE_REQUEST":return t.payload.status===_e.Success?Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp}):e;case"USER_PROFILE_ONBOARDING_COMPLETE":if(null!==e)return Object.assign({},e,{privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case"USER_PROFILE_RESTORE":return t.payload.profile;default:return e}}}),Ze=e=>qe(Qe,e),Je=Ge({actionType:B,dataReducer:(e={ids:[],sources:{}},t,n)=>{switch(t.type){case B:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==_e.Success)return e;const r=t.payload.value;if(r){const t=r.filter(e=>"subscribed"===e.status);return{ids:t.map(({id:e})=>e),sources:t.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),Object.assign({},e.sources))}}return e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_SUBSCRIBE":{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),Xe=e=>qe(Je,e),et=Ge({actionType:F,dataReducer:(e={ids:[],sources:{}},t,n)=>{switch(t.type){case F:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==_e.Success)return e;const r=t.payload.value;if(r){const t=r.filter(e=>"blocked"===e.status);return{ids:t.map(e=>e.id),sources:t.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),Object.assign({},e.sources))}}return e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_BLOCK":{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case"SOURCE_SUBSCRIBE":case"SOURCE_UNSUBSCRIBE":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),tt=e=>qe(et,e),nt=Ge({actionType:"USER_FOLLOWERS_REQUEST",dataReducer:(e={ids:[],sources:{}},t,n)=>{if(n!==("payload"in t&&t.payload&&"object"==typeof t.payload&&"id"in t.payload&&t.payload.id))return e;switch(t.type){case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==_e.Success)return e;const n=t.payload.value;return n?{ids:n.map(({id:e})=>e),sources:n.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),{})}:e}case"SOURCE_SUBSCRIBE":{const n=t.__data__&&t.__data__.selfUserId;return void 0===n?e:-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.__data__&&t.__data__.selfUserId;if(void 0===n)return e;const r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),rt=e=>qe(nt,e),ot={id:"",state:{status:"inactive"}},st=e=>({id:e,state:{status:"inactive"}});function it(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var at=function(e){return function(t){return function(t){return function(n){if("@@router/CALL_HISTORY_METHOD"!==n.type)return t(n);var r=n.payload,o=r.method,s=r.args;e[o].apply(e,it(s))}}}},ct=n(14),lt=n.n(ct),ut=o.a.createContext(null);var dt=function(e){e()},pt=function(){return dt},ht=null,ft={notify:function(){}};var mt=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=ft,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=pt(),t=[],n=[];return{clear:function(){n=ht,t=ht},notify:function(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==ht&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=ft)},e}();function bt(e){var t=e.store,n=e.context,s=e.children,i=Object(r.useMemo)(function(){var e=new mt(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),a=Object(r.useMemo)(function(){return t.getState()},[t]);Object(r.useEffect)(function(){var e=i.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[i,a]);var c=n||ut;return o.a.createElement(c.Provider,{value:i},s)}bt.propTypes={store:lt.a.shape({subscribe:lt.a.func.isRequired,dispatch:lt.a.func.isRequired,getState:lt.a.func.isRequired}),context:lt.a.object,children:lt.a.any};var gt=bt;function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var _t=n(10),Et=n.n(_t),wt=n(46),St="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,kt=[],Ct=[null,null];function Ot(e,t){var n=e[1];return[t.payload,n+1]}var Tt=function(){return[null,0]};function Pt(e,t){void 0===t&&(t={});var n=t,s=n.getDisplayName,i=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,a=n.methodName,c=void 0===a?"connectAdvanced":a,l=n.renderCountProp,u=void 0===l?void 0:l,d=n.shouldHandleStateChanges,p=void 0===d||d,h=n.storeKey,f=void 0===h?"store":h,m=n.withRef,b=void 0!==m&&m,g=n.forwardRef,v=void 0!==g&&g,y=n.context,_=void 0===y?ut:y,E=yt(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);Et()(void 0===u,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),Et()(!b,"withRef is removed. To access the wrapped instance, use a ref on the connected component");Et()("store"===f,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var w=_;return function(t){var n=t.displayName||t.name||"Component",s=i(n),a=vt({},E,{getDisplayName:i,methodName:c,renderCountProp:u,shouldHandleStateChanges:p,storeKey:f,displayName:s,wrappedComponentName:n,WrappedComponent:t}),l=E.pure;var d=l?r.useMemo:function(e){return e()};function h(n){var i=Object(r.useMemo)(function(){var e=n.forwardedRef,t=yt(n,["forwardedRef"]);return[n.context,e,t]},[n]),c=i[0],l=i[1],u=i[2],h=Object(r.useMemo)(function(){return c&&c.Consumer&&Object(wt.isContextConsumer)(o.a.createElement(c.Consumer,null))?c:w},[c,w]),f=Object(r.useContext)(h),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),b=Boolean(f)&&Boolean(f.store);Et()(m||b,'Could not find "store" in the context of "'+s+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+s+" in connect options.");var g=m?n.store:f.store,v=Object(r.useMemo)(function(){return function(t){return e(t.dispatch,a)}(g)},[g]),y=Object(r.useMemo)(function(){if(!p)return Ct;var e=new mt(g,m?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[g,m,f]),_=y[0],E=y[1],S=Object(r.useMemo)(function(){return m?f:vt({},f,{subscription:_})},[m,f,_]),k=Object(r.useReducer)(Ot,kt,Tt),C=k[0][0],O=k[1];if(C&&C.error)throw C.error;var T=Object(r.useRef)(),P=Object(r.useRef)(u),A=Object(r.useRef)(),R=Object(r.useRef)(!1),x=d(function(){return A.current&&u===P.current?A.current:v(g.getState(),u)},[g,C,u]);St(function(){P.current=u,T.current=x,R.current=!1,A.current&&(A.current=null,E())}),St(function(){if(p){var e=!1,t=null,n=function(){if(!e){var n,r,o=g.getState();try{n=v(o,P.current)}catch(e){r=e,t=e}r||(t=null),n===T.current?R.current||E():(T.current=n,A.current=n,R.current=!0,O({type:"STORE_UPDATED",payload:{error:r}}))}};_.onStateChange=n,_.trySubscribe(),n();return function(){if(e=!0,_.tryUnsubscribe(),_.onStateChange=null,t)throw t}}},[g,_,v]);var N=Object(r.useMemo)(function(){return o.a.createElement(t,vt({},x,{ref:l}))},[l,t,x]);return Object(r.useMemo)(function(){return p?o.a.createElement(h.Provider,{value:S},N):N},[h,N,S])}var m=l?o.a.memo(h):h;if(m.WrappedComponent=t,m.displayName=s,v){var b=o.a.forwardRef(function(e,t){return o.a.createElement(m,vt({},e,{forwardedRef:t}))});return b.displayName=s,b.WrappedComponent=t,te()(b,t)}return te()(m,t)}}var At=Object.prototype.hasOwnProperty;function Rt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function xt(e,t){if(Rt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!At.call(t,n[o])||!Rt(e[n[o]],t[n[o]]))return!1;return!0}function Nt(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function It(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Lt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=It(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=It(o),o=r(t,n)),o},r}}var jt=[function(e){return"function"==typeof e?Lt(e):void 0},function(e){return e?void 0:Nt(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Nt(function(t){return Object($.b)(e,t)}):void 0}];var Mt=[function(e){return"function"==typeof e?Lt(e):void 0},function(e){return e?void 0:Nt(function(){return{}})}];function Dt(e,t,n){return vt({},n,{},e,{},t)}var Ft=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,s=n.areMergedPropsEqual,i=!1;return function(t,n,a){var c=e(t,n,a);return i?o&&s(c,r)||(r=c):(i=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Dt}}];function Bt(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function Ut(e,t,n,r,o){var s,i,a,c,l,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function f(o,h){var f=!d(h,i),m=!u(o,s);return s=o,i=h,f&&m?(a=e(s,i),t.dependsOnOwnProps&&(c=t(r,i)),l=n(a,c,i)):f?(e.dependsOnOwnProps&&(a=e(s,i)),t.dependsOnOwnProps&&(c=t(r,i)),l=n(a,c,i)):m?function(){var t=e(s,i),r=!p(t,a);return a=t,r&&(l=n(a,c,i)),l}():l}return function(o,u){return h?f(o,u):function(o,u){return a=e(s=o,i=u),c=t(r,i),l=n(a,c,i),h=!0,l}(o,u)}}function zt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,s=yt(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,s),a=r(e,s),c=o(e,s);return(s.pure?Ut:Bt)(i,a,c,e,s)}function Ht(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function $t(e,t){return e===t}var Vt=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Pt:n,o=t.mapStateToPropsFactories,s=void 0===o?Mt:o,i=t.mapDispatchToPropsFactories,a=void 0===i?jt:i,c=t.mergePropsFactories,l=void 0===c?Ft:c,u=t.selectorFactory,d=void 0===u?zt:u;return function(e,t,n,o){void 0===o&&(o={});var i=o,c=i.pure,u=void 0===c||c,p=i.areStatesEqual,h=void 0===p?$t:p,f=i.areOwnPropsEqual,m=void 0===f?xt:f,b=i.areStatePropsEqual,g=void 0===b?xt:b,v=i.areMergedPropsEqual,y=void 0===v?xt:v,_=yt(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=Ht(e,s,"mapStateToProps"),w=Ht(t,a,"mapDispatchToProps"),S=Ht(n,l,"mergeProps");return r(d,vt({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:w,initMergeProps:S,pure:u,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:g,areMergedPropsEqual:y},_))}}();function Wt(){var e=Object(r.useContext)(ut);return Et()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function qt(e){void 0===e&&(e=ut);var t=e===ut?Wt:function(){return Object(r.useContext)(e)};return function(){return t().store}}var Gt=qt();var Kt=function(e){void 0===e&&(e=ut);var t=e===ut?Gt:qt(e);return function(){return t().dispatch}}(),Yt=function(e,t){return e===t};var Qt=function(e){void 0===e&&(e=ut);var t=e===ut?Wt:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=Yt),Et()(e,"You must pass a selector to useSelectors");var o=t();return function(e,t,n,o){var s,i=Object(r.useReducer)(function(e){return e+1},0)[1],a=Object(r.useMemo)(function(){return new mt(n,o)},[n,o]),c=Object(r.useRef)(),l=Object(r.useRef)(),u=Object(r.useRef)();try{s=e!==l.current||c.current?e(n.getState()):u.current}catch(e){var d="An error occurred while selecting the store state: "+e.message+".";throw c.current&&(d+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\nOriginal stack trace:"),new Error(d)}return St(function(){l.current=e,u.current=s,c.current=void 0}),St(function(){function e(){try{var e=l.current(n.getState());if(t(e,u.current))return;u.current=e}catch(e){c.current=e}i({})}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}},[n,a]),s}(e,n,o.store,o.subscription)}}(),Zt=n(19),Jt=n.n(Zt);!function(e){dt=e}(Zt.unstable_batchedUpdates);const Xt=$.c,en=$.d,tn=Gt,nn=at,rn=(e,t)=>(n=t,r)=>e(n,r),on=e=>({profile:Ze(e),subscriptions:Xe(e),blocked:tt(e),followers:rt(e),notifications:st(e)}),sn=Xt({profile:Qe,subscriptions:Je,blocked:et,followers:nt,notifications:(e=ot,t)=>{if(("payload"in t&&t.payload&&"object"==typeof t.payload&&"id"in t.payload&&t.payload.id)!==e.id)return e;switch(t.type){case"USER_PROFILE_NOTIFICATIONS_CHANGE":return Object.assign({},e,{state:t.payload.state});default:return e}}}),an=rn(ge((e={},t)=>{switch(t.type){case"ADD_USER":{const{userId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:on(n)})}default:return e}},(e,t)=>{const n={};return Object.keys(e).forEach(r=>{const o=e[r],s=sn(o,t);n[r]=s}),n}),{}),cn=Ke({reducer:Je,selector:(e,t)=>yn(e,t).subscriptions}),ln=Ke({reducer:et,selector:(e,t)=>yn(e,t).blocked}),un=Ke({reducer:nt,selector:(e,t)=>yn(e,t).followers}),dn=100,pn={1:340,2:688,3:958},hn="/subscriptions",fn="/top",mn="/profile/feedback",bn="/user/:socialProfileId",gn="/user/:socialProfileId/subscriptions",vn="/user/edit",yn=(e,t)=>e.users[t]||on(t),_n=(Object(G.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return("subscribed"===r.status||r.isUnsubscribedInCurrentSession)&&t.push(n),t},[])),Object(G.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return("blocked"===r.status||r.isUnblockedInCurrentSession)&&t.push(n),t},[])),Object(G.createSelector)(e=>e.auth,e=>e&&e.info&&e.info.publicId||"SELF_USER_ID_FALLBACK")),En=Object(G.createSelector)(e=>e.auth,e=>({uid:e&&e.info&&e.info.uid||"SELF_USER_ID_FALLBACK",publicId:e&&e.info&&e.info.publicId||void 0})),wn=Object(G.createSelector)(e=>e.router.location,_n,(e,t)=>{if(!e)return t;const{pathname:n}=e;if(n===vn||"/user/deactivate"===n)return t;const r=de(e.pathname,{path:bn});return r&&r.params.socialProfileId||t}),Sn=(e,t)=>{const{uid:n,publicId:r}=En(e);return n===t||(null==r?void 0:r.toLowerCase())===t.toLowerCase()},kn=e=>t=>n=>r=>{const o=t.getState(),s=_n(o);return n(Object.assign({},r,{__data__:{selfUserId:s,modalRoutes:e.modalRoutes,location:o.router.location}}))},Cn=(e,t,n="page")=>{return(e=>(...t)=>n=>(...r)=>{let o=[],s=o,i=0;return Object($.a)(()=>e=>t=>{const n="function"==typeof t;let r;n&&i++;try{r=e(t)}finally{n&&i--}if(0===i){const e=o=s;for(let t=0;t<e.length;t++)e[t]()}return r},q.withExtraArgument(e),...t)((e=>(...t)=>{const n=e(...t),r=()=>{s===o&&(s=o.slice())};return Object.assign({},n,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return r(),s.push(e),function(){if(!t)return;t=!1,r();const n=s.indexOf(e);s.splice(n,1)}}})})(n))(...r)})(t)(...e)};var On=n(7),Tn=n.n(On);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var An=function(e){var t=e.getIn,n=e.toJS,r=function(e){var r=n(t(e,["router"]));if(!function(e){return null!=e&&"object"===Pn(e)&&t(e,["location"])&&t(e,["action"])}(r))throw'Could not find router reducer in state tree, it must be mounted under "router"';return r},o=function(e){return n(t(r(e),["location"]))};return{getLocation:o,getAction:function(e){return n(t(r(e),["action"]))},getRouter:r,getSearch:function(e){return n(t(r(e),["location","search"]))},getHash:function(e){return n(t(r(e),["location","hash"]))},createMatchSelector:function(e){var t=null,n=null;return function(r){var s=(o(r)||{}).pathname;if(s===t)return n;t=s;var i=de(s,e);return i&&n&&i.url===n.url||(n=i),n}}}};function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=function(e){var t=e.fromJS,n=e.merge;return function(e){var r=t({location:e.location,action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.type,i=o.payload;if("@@router/LOCATION_CHANGE"===s){var a=i.location,c=i.action;return i.isFirstRendering?e:n(e,{location:t(a),action:c})}return e}}};function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn={fromJS:function(e){return e},getIn:function(e,t){if(!e)return e;var n=t.length;if(n){for(var r=e,o=0;o<n&&r;++o)r=r[t[o]];return r}},merge:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dn(e,t,n[t])})}return e}({},e,t)},toJS:function(e){return e}},Bn=function(e){var t=An(e).getLocation,n=function(e){function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=In(this,Ln(n).call(this,e));var o=e.store,s=e.history,i=e.onLocationChanged;r.inTimeTravelling=!1,r.unsubscribe=o.subscribe(function(){var e=t(o.getState()),n=e.pathname,i=e.search,a=e.hash,c=s.location,l=c.pathname,u=c.search,d=c.hash;l===n&&u===i&&d===a||(r.inTimeTravelling=!0,s.push({pathname:n,search:i,hash:a}))});var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.inTimeTravelling?r.inTimeTravelling=!1:i(e,t,n)};return r.unlisten=s.listen(a),a(s.location,s.action,!0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(n,r.PureComponent),function(e,t,n){t&&Nn(e.prototype,t),n&&Nn(e,n)}(n,[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.children;return o.a.createElement(re,{history:t},n)}}]),n}();n.propTypes={store:Tn.a.shape({getState:Tn.a.func.isRequired,subscribe:Tn.a.func.isRequired}).isRequired,history:Tn.a.shape({action:Tn.a.string.isRequired,listen:Tn.a.func.isRequired,location:Tn.a.object.isRequired,push:Tn.a.func.isRequired}).isRequired,basename:Tn.a.string,children:Tn.a.oneOfType([Tn.a.func,Tn.a.node]),onLocationChanged:Tn.a.func.isRequired};var s=function(e){var t=e.context||ut;if(null==t)throw"Please upgrade to react-redux v6";return o.a.createElement(t.Consumer,null,function(t){var r=t.store;return o.a.createElement(n,xn({store:r},e))})};return s.propTypes={context:Tn.a.object},Vt(null,function(e){return{onLocationChanged:function(t,n,r){return e(function(e,t){return{type:"@@router/LOCATION_CHANGE",payload:{location:e,action:t,isFirstRendering:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}}(t,n,r))}}})(s)}(Fn),Un=Mn(Fn),zn=An(Fn);zn.getLocation,zn.getAction,zn.getHash,zn.getSearch,zn.createMatchSelector;const Hn=(e,t)=>`${e}(${(e=>e.displayName||e.name||"Component")(t)})`,$n=e=>e,Vn=Object(r.createContext)($n({})),Wn=()=>Object(r.useContext)(Vn),qn=e=>t=>{const n=n=>{const r=Wn();return o.a.createElement(t,c({},n,e(r,n)))};return n.displayName=Hn("WithZenContext",t),n},Gn=Object(r.createContext)(null),Kn=Object(r.createContext)(void 0),Yn=({element:e,store:t,translations:n,history:r,zenContext:s,fontMetrics:i})=>o.a.createElement(Vn.Provider,{value:$n(s)},o.a.createElement(Kn.Provider,{value:i},o.a.createElement(Gn.Provider,{value:n},o.a.createElement(gt,{store:t},((e,t)=>e?o.a.createElement(Bn,{history:e},t):t)(r,e)))));let Qn;!function(e){e.SITE_DESKTOP="site_desktop",e.SITE_MOBILE="site_mobile",e.LIB="zen_lib",e.MODAL_LIB="zen_modal_lib",e.YABRO="desktop_browser_rezen",e.YABRO_MORDA="desktop_browser_with_morda",e.OPERA="opera_ntp",e.ZEN_APP="zen_app",e.ZEN_APP_IOS="zen_app_ios",e.SAMSUNG="samsung_mobile",e.VIBER="viber",e.LITEBRO="litebro"}(Qn||(Qn={}));const Zn="ZenLibLoaderError";let Jn,Xn;!function(e){e.Network="network",e.Logic="logic",e.Unknown="unknown"}(Jn||(Jn={})),function(e){e.Front="frontend",e.Backend="backend",e.Unknown="somebody"}(Xn||(Xn={}));class er extends Error{constructor({message:e,owner:t,sourceType:n,type:r}){super(e),this.owner=t,this.sourceType=n,this.name=Zn,this.type=r}}const tr={},nr=(e,{invalidate:t=!1,crossorigin:n=!1,useCredentials:r=!1}={})=>{if(tr[e]&&!t)return tr[e].promise;const o=document.createElement("script");o.src=e,o.async=!0,n&&(o.crossOrigin=r?"use-credentials":"anonymous");const s=new Promise((t,n)=>{o.onload=(()=>{tr[e].loaded=!0,t()}),o.onerror=(t=>{tr[e].error=t,n(t)})});return tr[e]&&document.head&&document.head.removeChild(tr[e].script),document.head&&document.head.appendChild(o),tr[e]={script:o,promise:s,loaded:!1,error:null},s};nr.isRequested=(e=>Boolean(tr[e])),nr.isLoaded=(e=>Boolean(tr[e]&&tr[e].loaded)),nr.isFailed=(e=>Boolean(tr[e]&&tr[e].error));
/*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */
const rr=e=>"/"===e[0]?e.slice(1):e;n(18);new class{constructor(){this._starts={},this._results={}}start(e){const t=this._starts[e],n=this._results[e];t||n||(this._starts[e]=Date.now())}finish(e){const t=this._starts[e],n=this._results[e];t&&!n&&(this._results[e]=Date.now()-t)}getResults(){return Object.assign({},this._results)}getInProgress(){return Object.keys(this._starts).filter(e=>"number"!=typeof this._results[e]).sort()}};let or,sr,ir,ar;!function(e){e.PackShown="packShown",e.BulkEventLogged="bulkEventLogger",e.ApiResponseTtlExpired="apiResponseTtlExpired",e.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",e.NotShownPackUpdated="notShownPackUpdated",e.LastShownPackUpdated="lastShownPackUpdated",e.UpdatePreload="updatePreload"}(or||(or={})),function(e){e.Onboarding="onboarding",e.Export="export",e.Layout="layout",e.More="more",e.Bulk="bulk",e.ClientLogs="client_logs",e.Subs="subs",e.Profile="profile",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Subscribers="subscribers",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.Multisearch="multisearch",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.GetVideoPopupData="get_video_popup_data",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SocialActivityFeed="social_activity_feed",e.SocialProfileEdit="social_profile_edit",e.ProfileCompleteOnboarding="profile_complete_onboarding",e.ProfileDeactivate="profile_deactivate",e.ProfileCancelDeactivate="profile_cancel_deactivate",e.AllChannelsLink="all_channels_link",e.CurrentUserInterests="current-user-interests",e.CurrentUserSubscriptions="current-user-subscriptions",e.Teasers="teasers",e.SupportLink="support_link",e.AdArticle="ad_article"}(sr||(sr={})),function(e){e.SessionCache="cacheStorage",e.MultiSessionCache="multiCacheStorage"}(ir||(ir={})),function(e){e.Network="network",e.CacheBeforeNetwork="cache-before-network",e.CacheAfterNetwork="cache-after-network"}(ar||(ar={}));const cr=5e3,lr={zenFeatures:{},clientExperiments:null,apiResponseValidator:()=>null,links:Object.keys(sr).reduce((e,t)=>(e[t]=null,e),{}),userInfo:{},cache:{type:ir.SessionCache,namespace:"common",isPrefetchEnabled:!0},chromeExtensionId:null,feedFilter:void 0,shouldSendStatsToCoccoc:!1};let ur;!function(e){e.Chromium="chromium",e.Firefox="firefox",e.Edge="edge",e.Legacy="legacy",e.Node="node"}(ur||(ur={}));const dr=["Chrome >= 55"],pr=["Firefox >= 51"],hr=["Edge >= 13"];ur.Chromium,ur.Chromium,ur.Chromium,ur.Firefox,ur.Edge,ur.Legacy,ur.Legacy,ur.Legacy,ur.Legacy,ur.Legacy,ur.Chromium,ur.Chromium,ur.Chromium,ur.Chromium,ur.Legacy,ur.Legacy,ur.Chromium,ur.Chromium,ur.Chromium,ur.Chromium,ur.Legacy,ur.Legacy;let fr;!function(e){e[e.Desktop=0]="Desktop",e[e.Tablet=1]="Tablet",e[e.Mobile=2]="Mobile"}(fr||(fr={}));const mr=e=>Object.entries(e),br=(e,t)=>((e,t)=>{const n=[e,t].map(e=>e.split(".").map(e=>parseInt(e,10))),r=n[0],o=n[1],s=Math.min(r.length,o.length);for(let e=0;e<s;e++){const t=r[e],n=o[e];if(t!==n)return t>n?1:-1}return 0})(e,t)>=0,gr=(Object.is,Object.is,Object.is,Object.is,(e,t)=>!br(e,t)),vr=(Object.is,Object.is,Object.is,Object.is,{no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241},need_background_image:!0,color_theme:"white",no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","multisearch","blocked","preferences","subscribers","blocked_suggest","video_recommend","language","send_app_link_sms","comments_counter","comments_infos","social_profile","social_activity_feed","social_profile_edit","social_interests_feedback","profile_onboarding_shown","profile_complete_onboarding","profile_deactivate","profile_cancel_deactivate","get_video_popup_data"],stat_params_with_context:!0,carousel_support:!0}),yr=e=>!!e&&["activityDesktop","activityTablet","activityMobile"].includes(e);const _r=()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]},Er=e=>{if(!e.clid)throw new Error("ZenApi clid is not configured.");const{clid:t,referrerClid:n,referrerPlace:r,countryCode:o,contentLangs:s,clientExperiments:i,zenFeatures:a,userInfo:c,feedFilter:l,isAdblockEnabled:u}=e;return{clid:t,referrerClid:n,referrerPlace:r,countryCode:o,contentLangs:s,clientExperiments:i,zenFeatures:a,feedFilter:l,isAdblockEnabled:u,userId:wr(c),version:"2.469.0"}},wr=e=>{const{oauthToken:t,login:n,deviceId:r,partnerId:o,profileId:s,yandexuid:i}=e;return t||n||_r()||o||r||s||i||(()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]})()};ye.Light;class Sr{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const n=this._events[e];if(!n)return;const r=n.indexOf(t);r>=0&&n.splice(r,1)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e,...t){const n=this._events[e];n&&n.slice().forEach(e=>{e.apply(void 0,t)})}}let kr,Cr,Or,Tr;!function(e){e.ONE_COLUMN="one_column",e.TWO_COLUMNS="two_column",e.TWO_COLUMN_SMALL_CARDS="two_column_small_cards",e.THREE_COLUMNS="three_column",e.THREE_COLUMNS_FIRST_BIG="three_column_first_big",e.THREE_COLUMNS_SMALL_CARDS="three_column_small_cards",e.THREE_COLUMNS_INFINITY="three_column_infinity"}(kr||(kr={})),function(e){e.CARD_PLACEHOLDER="card-placeholder",e.FEATURING_CAROUSEL="carousel_card",e.COMMENT="comment",e.DIRECT="ad",e.TEXT="text_card",e.IMAGE="image_card",e.FEATURING_PROMO="featuring_promo",e.GIF="gif",e.HINT_EULA="hint_eula",e.HINT_PERSONAL="hint_personal",e.FEEDBACK_SUGGEST="feedback_suggest",e.LEARN_BLOCK_INTERESTS="learn_block_interests",e.ICEBOARDING_GRID="iceboarding-grid",e.PERSONAL_CAROUSEL="personal_carousel",e.CONTENT_CAROUSEL="content_personal_carousel",e.PLACEHOLDER="placeholder",e.POST="post",e.PROFILE_ACTIVITY_ONBOARDING="profile-activity-onboarding",e.SIMILAR_INTERESTS="similar_interests",e.USER_QUESTION="user-feedback-question",e.AUTH="auth",e.DELIMITER="delimiter",e.CARD_FILLER="card_filler",e.SOCIAL_PROFILE_STATUS="social_profile_status",e.SOCIAL_PROFILE_TEXT="social_profile_text",e.RTB="rtb_card",e.ADSENSE="adsense_card",e.GALLERY="gallery"}(Cr||(Cr={})),function(e){e.SMALL="small",e.BIG="big",e.FREE="free"}(Or||(Or={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(Tr||(Tr={}));Cr.USER_QUESTION;const Pr={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9},Ar={columnCount:3,initialDisplayedRowsNumber:6,rowDisplayStep:9},Rr={[Cr.IMAGE]:[Or.SMALL,Or.BIG],[Cr.GALLERY]:[Or.SMALL],[Cr.TEXT]:[Or.SMALL,Or.BIG],[Cr.POST]:[Or.SMALL],[Cr.DIRECT]:[Or.SMALL,Or.BIG],[Cr.HINT_EULA]:[Or.FREE],[Cr.HINT_PERSONAL]:[Or.FREE],[Cr.ICEBOARDING_GRID]:[Or.FREE],[Cr.GIF]:[Or.SMALL,Or.BIG],[Cr.CARD_PLACEHOLDER]:[Or.SMALL,Or.BIG],[Cr.PLACEHOLDER]:[Or.FREE],[Cr.USER_QUESTION]:[Or.FREE],[Cr.SIMILAR_INTERESTS]:[Or.FREE],[Cr.FEATURING_PROMO]:[Or.SMALL],[Cr.FEATURING_CAROUSEL]:[Or.FREE],[Cr.PERSONAL_CAROUSEL]:[Or.FREE],[Cr.CONTENT_CAROUSEL]:[Or.FREE],[Cr.COMMENT]:[Or.SMALL],[Cr.PROFILE_ACTIVITY_ONBOARDING]:[Or.SMALL],[Cr.DELIMITER]:[Or.FREE],[Cr.RTB]:[Or.SMALL,Or.BIG],[Cr.ADSENSE]:[Or.SMALL,Or.BIG],[Cr.CARD_FILLER]:[Or.SMALL,Or.BIG],[Cr.SOCIAL_PROFILE_TEXT]:[Or.FREE],[Cr.SOCIAL_PROFILE_STATUS]:[Or.FREE],[Cr.AUTH]:[Or.SMALL],[Cr.FEEDBACK_SUGGEST]:[Or.FREE],[Cr.LEARN_BLOCK_INTERESTS]:[Or.FREE]},xr={[kr.ONE_COLUMN]:{columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8},[kr.TWO_COLUMNS]:Pr,[kr.TWO_COLUMN_SMALL_CARDS]:Pr,[kr.THREE_COLUMNS]:Ar,[kr.THREE_COLUMNS_FIRST_BIG]:Ar,[kr.THREE_COLUMNS_SMALL_CARDS]:Ar,[kr.THREE_COLUMNS_INFINITY]:Ar},Nr=(e,t=10)=>{if(!e||!e.items)return[];const n=[];for(let r=0;r<e.items.length&&n.length<t;r++){const t=e.items[r];t.type!==Cr.IMAGE&&t.type!==Cr.TEXT||n.push(t.cardBackgroundWhiteImage)}return n},Ir=(e,t)=>{let n=null;const r=(...r)=>{null!==n&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)};return r.cancel=(()=>{null!==n&&clearTimeout(n)}),r},Lr=(e="item")=>`${e}_${Math.random()*Date.now()}`,jr=({source_id:e,image:t,background_color:n,text_color:r,name:o,name_background_color:s})=>({id:e,image:t,name:o,textColor:r,textBackgroundColor:s,imageBackgroundColor:n}),Mr=e=>{if(!e||!e.length)return;const[t,n,r]=e;return{url:t,width:Number(n),height:Number(r)}},Dr=e=>"number"==typeof e,Fr=e=>"string"==typeof e,Br=e=>void 0===e,Ur=e=>null!==e&&"object"==typeof e,zr=e=>Array.isArray(e);class Hr extends Error{constructor(e){super(e),this.name=this.constructor.name,Object.setPrototypeOf(this,Hr.prototype)}}const $r=e=>`'${JSON.stringify(e)}' with type '${typeof e}'`;function Vr(e,t){var n;if(!e)throw new Hr(null!==(n=t)&&void 0!==n?n:"Assert condition failed")}function Wr(e,t){var n;Vr(null!=e,null!==(n=t)&&void 0!==n?n:`Expected 'value' to be defined, but receive ${$r(e)}`)}function qr(e,t){var n;Vr(Ur(e)&&!Array.isArray(e),null!==(n=t)&&void 0!==n?n:`Expected object type, but receive ${$r(e)}`)}function Gr(e,t){var n;Vr(Fr(e),null!==(n=t)&&void 0!==n?n:`Expected string type, but receive ${$r(e)}`)}const Kr=e=>Object.keys(e),Yr=(e,t)=>e.reduce((e,n)=>(e[t(n)]=n,e),{}),Qr=(e,t)=>Object.keys(e).reduce((n,r)=>{const o=e[r];return n[r]=t(o,r,e),n},{}),Zr=e=>{try{qr(e);const{bulk_params:t,stat_events:n}=e;return Gr(t),qr(n),{statEvents:Qr(n,e=>(Vr("string"==typeof e,`key '${e}' in stat_object must be string, but it's ${typeof e}`),e)),bulkParams:t}}catch(e){return console.error(e),{statEvents:{},bulkParams:""}}};function Jr(e){if(!e)return;return Object.keys(e).reduce((t,n)=>{const{bulk_params:r,stat_events:o,links:s}=e[n];return Object.assign({},t,{[n]:{bulkParams:r,statEvents:o,links:s}})},{})}const Xr=({strongest_id:e,public_id:t,type:n,status:r,social_profile_status:o,name:s,title:i,logo:a,logo_sizes:c,framed_logo:l,logo_background_color:u,title_background_color:d,title_color:p,feed_link:h,feed_api_link:f,subtitle:m,description:b,subscribers:g,subscriptions:v,audience:y,social_links:_,is_verified:E,is_nirvana:w,link:S,has_new_publications:k,subscription_forbidden:C,messenger_guid:O,allowed_private_messages:T})=>({id:String(e),publicId:t,type:n,status:r,socialProfileStatus:o,name:s,title:i,logo:a,subtitle:m,description:b,subscribers:g,subscriptions:v,audience:y,isVerified:E,isNirvana:w,framedLogo:l,logoSizes:c,logoBackgroundColor:u,titleBackgroundColor:d,titleColor:p,feedLink:h,feedApiLink:f,socialLinks:ro(_),link:S,hasNewPublications:k,subscriptionForbidden:C,messengerGuid:O,allowedPrivateMessages:T}),eo=e=>{if(e.stat_params){var t;const n=null!==(t=Jr(e.stat_params))&&void 0!==t?t:{};return Object.assign({},Xr(e.source),n.placeholder)}return Object.assign({},Xr(e.source),Zr(e))},to=e=>e.items.map(eo),no=({source:e,bulk_params:t,stat_events:n})=>Object.assign({},Xr(e),{bulkParams:e.bulk_params||t,statEvents:e.stat_events||n}),ro=e=>Array.isArray(e)?e.map(({link:e,name:t,image:n,social_network:r})=>({link:e,name:t,image:n,network:r})):[],oo=e=>Object.keys(e).reduce((t,n)=>{const{text:r,text_color:o,background_color:s}=e[n];return t[n]={text:r,textColor:o,backgroundColor:s},t},{}),so=e=>({id:e.source.strongest_id,type:e.type,source:no(e),description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,feedbackButtons:oo(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),io=e=>{if(e)return"direct"===e.type?(e=>(e.bulk_params||console.error(`Expect bulkParams in AdCard. ${JSON.stringify(e)}`),e.stat_events||console.error("Expect statEvents in AdCard."),{type:"direct",domElemId:e.dom_elem_id,blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big,bulkParams:e.bulk_params||"",statEvents:e.stat_events||{},data:e.data,skipToken:e.skip_token}))(e):"adsense"===e.type?{type:"adsense",client:e.client,slot:e.slot,adsenseFormat:e.adsense_format,layoutKey:e.layout_key}:void 0},ao=e=>{qr(e);const{id:t,type:n,text:r}=e;return Gr(t),Gr(n),Gr(r),{id:t,type:n,text:r,isChecked:!1}},co=e=>{qr(e);const{id:t,type:n,text:r,stats:o}=e;return Gr(t),Gr(n),Gr(r),{id:t,type:n,text:r,isChecked:!1,stats:Zr(o)}},lo=e=>(qr(e),"extended_dislike_feedback"===e.type&&"ask_on_dislike"===e.display_type?(e=>{qr(e);const{id:t,type:n,display_type:r,text:o,answers:s}=e;return Gr(t),Vr("extended_dislike_feedback"===n),Vr("ask_on_dislike"===r),Gr(o),Vr(zr(s)),{id:t,type:n,displayType:r,text:o,answers:s.map(co)}})(e):"zoloka_interest_feedback"===e.type&&"ask_on_click"===e.display_type?(e=>{qr(e);const{id:t,type:n,display_type:r,text:o,answers:s}=e;return Gr(t),Vr("zoloka_interest_feedback"===n),Vr("ask_on_click"===r),Gr(o),Vr(zr(s)),{id:t,type:n,displayType:r,text:o,answers:s.map(ao)}})(e):null),uo=e=>{try{if(Ur(e)&&zr(e.questions))return{questions:e.questions.map(e=>{try{return lo(e)}catch(e){return console.error(e),null}}).filter(e=>Boolean(e))}}catch(e){console.error(e)}},po=({feedback_info:e})=>e?e.is_liked?"liked":e.is_disliked?"disliked":null:null,ho=e=>(qr(e),["click","like","dislike"].reduce((t,n)=>{const r=e[n];return r?(qr(r),Gr(r.title),Object.assign({},t,{[n]:{title:r.title}})):t},{})),fo=e=>({id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,statEvents:e.stat_events,source:Xr(e.source),creationTime:e.creation_time,actionTime:e.action_time,requireUserData:e.require_user_data,pos:e.pos,receiveTime:Date.now()}),mo=e=>Object.assign({ad:io(e.ad),topAd:io(e.top_ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,domainTitle:e.domain_title,link:e.link,urlHash:e.url_hash,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},reactions:e.reactions?ho(e.reactions):void 0,mainColor:e.main_color,similarLink:e.similar&&e.similar.link,read:e.read,feedback:po(e),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},fo(e)),bo=e=>(e.image&&e.big_card_image,Object.assign({isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:uo(e.custom_user_feedback_data),rocket:Boolean(e.zen_logo),pixels:e.pixels},mo(e))),go=({json:e,length:t})=>({json:e,length:t}),vo=({link:e,preview:t,width:n,height:r})=>({link:e,preview:t,width:n,height:r}),yo=({background:e,background_color:t,text_color:n,link_color:r})=>({background:vo(e),backgroundColor:t,textColor:n,linkColor:r}),_o=({page_id:e})=>({partnerId:e?parseInt(e,10):void 0,category:1016,hasPreroll:!1}),Eo=({has_sound:e,heartbeat_pos:t,id:n,loop:r,player:o,provider:s,userAgent:i,video_info:a,additional_params:c,replay_count:l=2,autoplay:u,width:d,height:p,duration:h,ad:f})=>({hasSound:e,heartbeatTimes:t,id:n,loop:r,player:o,provider:s,userAgent:i,videoInfo:a?To(a):{},additionalParams:Oo(c),autoplay:u,replayCount:l,width:d,height:p,duration:h,adConfig:f&&_o(f)});let wo;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(wo||(wo={}));const So=e=>{if(!e)return;const{button_name:t,description:n,logo:r,title:o,url:s,url_type:i,type:a,price_url:c}=e;return{buttonName:t,description:n,logo:r?{logoUrl:r.url,mainColor:r.main_color}:void 0,title:o,url:s,urlType:i,type:a,priceUrl:c}},ko=e=>{e.image&&!e.big_card_image&&console.warn("no big_card_image",e);const t=Jr(e.stat_params);return Object.assign({type:Cr.GIF,video:Eo(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),publisherId:e.publisher_id,publicationId:e.publication_id,commentsToken:e.comments_token,callToAction:So(e.call_to_action),statParams:t,subscribeTriggerEvent:e.subscribeTriggerEvent||"click"},mo(e))},Co=({video_popup_data:e})=>({publicationId:e.publication_id,snippet:e.snippet,tags:e.tags,publicationViews:e.publication_views,publicationViewsTillEnd:e.publication_views_till_end,publicationSubscriptions:e.publication_subscriptions,publicationComments:e.publication_comments,publisherSubscriptions:e.publisher_subscriptions}),Oo=e=>{const{partner_stat_id:t,from:n,video_content_id:r}=e;return{from:n,"video-content-id":r,"partner-stat-id":t}},To=e=>{const{video_content_id:t}=e;return{videoContentId:t}},Po=e=>({id:e.source.strongest_id,type:e.type,source:Xr(e.source),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),Ao=e=>{if(!e.items||!e.items.length)return;const t=e.items.map(Po);return t.filter(e=>"subscribed"!==e.source.status).length<5?void 0:{id:e.id,type:Cr.PERSONAL_CAROUSEL,size:e.size,title:e.title,subtitle:e.subtitle,background:e.background,showMoreLink:e.show_more_link,items:t,statEvents:e.stat_events,bulkParams:e.bulk_params,disableItemsClickable:Boolean(e.disable_items_clickable),hidden:!1}},Ro=e=>Object.assign({image:e.image,link:e.link,cardColors:{button:e.card_colors.button,buttonText:e.card_colors.button_text,card:e.card_colors.card,text:e.card_colors.text}},fo(e),{hidden:!1}),xo=e=>({width:e.width,height:e.height,link:e.link,preview:e.preview,blurredLink:e.blurred_link}),No=e=>Array.isArray(e)?e.reduce((e,t)=>("image"===t.type&&e.push(Io(t)),e),[]):[],Io=e=>({image:xo(e.image),richText:e.rich_text&&go(e.rich_text),bulkParams:e.bulk_params,statEvents:e.stat_events,mainColor:e.main_color,hasBadImage:e.has_bad_image,hasBadText:e.has_bad_text,type:"image"}),Lo={"card-placeholder":e=>({id:e.item_id.toString(),type:Cr.CARD_PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}),comment:e=>Object.assign({type:Cr.COMMENT,comment:e.comment,author:e.author},fo(e)),ad:e=>{if(e&&e.items&&e.items[0]&&("direct"!==e.items[0].provider||!e.items[0].content))return void console.error(`Ad parsing error: ${JSON.stringify(e)}`);const t=e.items[0],{content:n}=t,r=t.stat_events,o=t.bulk_params;return{id:Lr(Cr.DIRECT),type:Cr.DIRECT,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||"",text:n.body,age:n.age,warning:n.warning,imageData:Mr(n.image),statEvents:r,bulkParams:o}},card:e=>e.image?Object.assign({},bo(e),{type:Cr.IMAGE,hasImage:!0,rawItem:e}):Object.assign({},bo(e),{type:Cr.TEXT,hasImage:!1,rawItem:e}),featuring_promo:e=>({id:e.id,type:Cr.FEATURING_PROMO,source:no(e),header:e.header,description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,menu:e.menu,feedbackButtons:oo(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}),gif:ko,hint_eula:e=>e.hint_type&&"eula"!==e.hint_type?(e=>({id:e.id,type:Cr.HINT_PERSONAL}))(e):(e=>({id:e.id,type:Cr.HINT_EULA,link:e.link,linkText:e.link_text,additionalLink:e.additional_link,additionalLinkText:e.additional_link_text,html:e.html,text:e.text,bulkParams:e.bulk_params,statEvents:e.stat_events}))(e),feedback_suggest:e=>({id:Lr(Cr.FEEDBACK_SUGGEST),type:Cr.FEEDBACK_SUGGEST,rawItem:e}),learn_block_interests:e=>({id:Lr(Cr.LEARN_BLOCK_INTERESTS),type:Cr.LEARN_BLOCK_INTERESTS,rawItem:e}),"iceboarding-grid":e=>{const t={id:Lr(Cr.ICEBOARDING_GRID),type:e.type,sources:e.sources.map(jr),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t},gallery:e=>({type:Cr.GALLERY,id:e.id,items:No(e.items),similarLink:e.similar&&e.similar.link,richText:e.rich_text&&go(e.rich_text),bulkParams:e.bulk_params,statEvents:e.stat_events,pixels:e.pixels,link:e.link,source:Xr(e.source),customUserFeedbackData:uo(e.custom_user_feedback_data),feedback:e.feedback_status,domainTitle:e.source.title,hasBadText:e.has_bad_text,ad:io(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,receiveTime:Date.now()}),placeholder:e=>({id:e.item_id.toString(),type:Cr.PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}),post:e=>{const t={type:Cr.POST,id:e.id,style:yo(e.style),link:e.link,urlHash:e.url_hash,similarLink:e.similar_link,source:Xr(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:io(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges,requireUserData:e.require_user_data,read:e.was_read,feedback:e.feedback_status,domainTitle:e.source.title,receiveTime:Date.now(),reactions:e.reactions?ho(e.reactions):void 0};return e.rich_text&&(t.richText=go(e.rich_text)),e.image&&(t.image=vo(e.image)),t},similar_interests:e=>{const{id:t,type:n,title:r,items:o,social_privacy:s}=e;return{id:t,type:n,title:r,socialPrivacy:s,items:o.map(e=>eo({stat_events:e.stat_events,bulk_params:e.stat_events,source:e,stat_params:e.stat_params}))}},auth:e=>({id:String(e.id),type:Cr.AUTH,title:e.title,text:e.text,authLink:e.auth_link,bulkParams:e.bulk_params,statEvents:e.stat_events}),carousel_card:e=>({id:e.id,type:Cr.FEATURING_CAROUSEL,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,menu:e.menu,items:e.items.map(so),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),personal_carousel:Ao,content_personal_carousel:e=>({id:e.id,type:Cr.CONTENT_CAROUSEL,carouselType:e.carousel_type,title:e.title,titleTemplate:e.title_template,subtitle:e.subtitle,source:e.source?Object.assign({},Xr(e.source),Zr(e.source)):void 0,items:e.items.map(Ro),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),delimiter:e=>({id:e.id,type:Cr.DELIMITER,text:e.text}),card_filler:e=>({id:e.id,type:Cr.CARD_FILLER}),"profile-activity-onboarding":e=>({type:Cr.PROFILE_ACTIVITY_ONBOARDING,mode:e.mode,id:e.id}),social_profile_status:e=>({id:String(e.id),type:Cr.SOCIAL_PROFILE_STATUS}),social_profile_text:e=>({id:String(e.id),type:Cr.SOCIAL_PROFILE_TEXT,kind:e.kind})},jo=e=>{const t=((e,t)=>e[t])(Lo,e.type);return t?t(e):(console.warn(`Unsupported doc type: ${e.type}`),null)};function Mo(e){const t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time),t}const Do=()=>"undefined"!=typeof window?`${"undefined"!=typeof window?window.location.origin:""}${window.location.pathname}`:"",Fo=e=>{const t=e.match(/^(([^:/?#]+:)?(?:\/\/((?:([^/?#:]*):([^/?#:]*)@)?([^/?#:]*)(?::([^/?#:]*))?)))?([^?#]*)(\?[^#]*)?(#.*)?$/);if(t)return{hash:t[10]||"",host:t[3]||"",hostname:t[6]||"",pathname:t[8]||(t[1]?"/":""),protocol:t[2]||"",search:t[9]||""}};const Bo=e=>e.map(e=>Object.assign({},no({source:e}),{isFromServer:!0})),Uo=e=>{if(!e)return null;switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Bo(t)}}case"error":return e;default:return{status:"error"}}},zo=e=>{if(!e)return null;switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Bo(t).filter(e=>"domain"===e.type||"publisher"===e.type)}}case"error":return e;default:return{status:"error"}}},Ho=e=>e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`),$o=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e;class Vo{constructor(e){this.isLoose=e,this.path=[]}deepen(e,t){this.path.push(e);const n=t();return this.path.pop(),n}assert(e,t,n){if(e)return;const r=`Parsing error at ${this.path.join(".")}: expected ${t}, got ${n}`;if(!this.isLoose)throw new Error(r);console.error(r)}}const Wo=e=>e,qo=e=>e,Go=e=>Wo((t,n)=>{n.assert($o(t),"object",typeof t);const r={};for(const o of Object.keys(e))r[o]=n.deepen(o,()=>qo(e[o])(t[Ho(o)],n));return r}),Ko=e=>Wo((t,n)=>(n.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map((t,r)=>n.deepen(String(r),()=>qo(e)(t,n))))),Yo=e=>Wo((t,n)=>(n.assert(typeof t===e,e,typeof t),t)),Qo=Yo("string"),Zo=Yo("number"),Jo=(Yo("boolean"),e=>Wo((t,n)=>(n.assert(t===e,`${typeof e} '${e}'`,`${typeof t} '${t}'`),e))),Xo=e=>Wo((t,n)=>void 0===t?void 0:qo(e)(t,n)),es=(...e)=>{const t=e.map(e=>`'${e}'`).join(", ");return Wo((n,r)=>(r.assert("string"==typeof n,"string union",typeof n),r.assert(e.includes(n),`one of [${t}]`,`'${n}'`),n))},ts=e=>Wo((t,n)=>{n.assert($o(t),"record",typeof t);const r={};for(const o of Kr(t))r[o]=n.deepen(`"${o}"`,()=>qo(e)(t[o],n));return r}),ns=(Wo((e,t)=>(t.assert(void 0!==e,"json","undefined"),e)),(e,t)=>{const n=Object.keys(t).map(e=>`'${e}'`).join(", ");return Wo((r,o)=>{o.assert($o(r),"object",typeof r);const s=r[e];return o.assert("string"==typeof s,`value of key '${e}' string`,typeof s),o.assert(s in t,`value of key '${e}' in [${n}]`,s),qo(t[s])(r,o)})}),rs=(e,t)=>qo(e)(t,new Vo(!0)),os=ts(Qo),ss=Go({id:Qo,type:Jo("message"),title:Qo,autoCloseTimeout:Xo(Zo),statEvents:os,bulkParams:Qo}),is=Go({id:Qo,title:Qo,imageSrc:Qo,nextScreenId:Xo(Qo)}),as=Go({id:Qo,type:Jo("single_choice_image"),title:Qo,subtitle:Xo(Qo),direction:es("row","column"),answers:Ko(is),statEvents:os,bulkParams:Qo}),cs=Go({id:Qo,title:Qo}),ls=Go({text:Qo,nextScreenId:Xo(Qo)}),us=Go({id:Qo,type:Jo("multi_choice_text"),title:Qo,subtitle:Xo(Qo),answers:Ko(cs),minAnswersError:Qo,minAnswersCount:Zo,submitButton:ls,alternativeButton:Xo(ls),statEvents:os,bulkParams:Qo}),ds=Go({showOnPosition:Zo,screenMap:ts(ns("type",{message:ss,single_choice_image:as,multi_choice_text:us})),initialScreenId:Qo}),ps=Go({id:Qo,title:Qo,text:Qo,buttonText:Qo,alternativeButtonText:Qo,gifSource:Qo}),hs=(e,t)=>{var n;const r=((e,t,n)=>{if(!e)return null;const r=e.reduce((e,r)=>{if(r){const o=jo(r);o&&e.push(Object.assign({},o,{packId:t,cacheId:n}))}return e},[]);return r.length>0?r:null})(e.items,e.rid,t),o=(e=>e?Object.assign({sources:to(e)},(Jr(e.stat_params)||{}).interests_onboarding):null)(e.interests_onboarding),s=(e=>e&&Ao(e)||null)(e.pinned_carousel),i=(e=>{if(!e)return{status:Ue.Feed};switch(e.status){case Ue.Banned:case Ue.NotFound:return{status:e.status};case Ue.Ok:{const{social_profile_status:t,social_csrf_token:n}=e;return{status:Ue.Ok,socialProfileStatus:t,socialCsrfToken:n,source:no(e)}}default:return console.error("Broken channel from backend"),{status:Ue.Feed}}})(e.channel);return{id:e.rid,cacheId:t,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,adSecdata:e.ad_secdata,channel:i,items:r,onboardingInterests:o,pinnedCarousel:s,isIceStart:e.ice_start,feedbackCacheClean:Boolean(e.feedback_cache_clean),experimentsData:e.experiments_data||null,groupIds:e.group_ids||"",clientDefinition:e.client_definition||null,user:Mo(e.user),commentsDoc:e.comments_doc?jo(e.comments_doc):null,currentUserInterests:Uo(e.current_user_interests),currentUserSubscriptions:zo(e.current_user_subscriptions),screens:e.screens,banner:e.banner,complaints:e.complaints,bulk:e.bulk,more:{link:null===(n=e.more)||void 0===n?void 0:n.link},onboarding:e.onboarding?{link:e.onboarding.link}:void 0,interview:e.interview?rs(ds,e.interview):void 0,newSearchPopup:e.new_search_popup?rs(ps,e.new_search_popup):void 0}},fs=(e,t="")=>Object.assign({},e,hs(e,t)),ms=({email:e,name:t,avatar:n})=>({email:e,name:t,avatar:n}),bs=({count:e,external_url:t})=>({count:e,externalUrl:t}),gs=({country:e,external_url:t})=>({country:e,externalUrl:t}),vs=({external_url:e})=>({externalUrl:e}),ys=({stat_events:e,bulk_params:t,disabled:n})=>({statEvents:e,bulkParams:t,disabled:n}),_s={"user-info":e=>({userInfo:ms(e)}),"no-user":e=>({noUser:vs(e)}),"blocked-count":e=>({blockedCount:bs(e)}),video:e=>({video:ys(e)}),autoplay:()=>({autoplay:{}}),language:e=>({language:gs(e)}),feedback:e=>({feedback:vs(e)}),eula:e=>({eula:vs(e)}),logout:e=>({logout:vs(e)})},Es=e=>{const t=e.items.reduce((e,t)=>Object.assign({},e,_s[t.type](t)),{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t},ws=({link:e,title:t,image:n,name:r,stat_events:o,bulk_params:s})=>({link:e,title:t,image:n,name:r,statEvents:o,bulkParams:s}),Ss=e=>({sources:to(e),category:e.category&&ws(e.category)}),ks=e=>{const t=e.items.filter(({type:e})=>"carousel"===e).map(({sources:e})=>e);let n=[];0!==t.length&&(n=[].concat(...t).map(eo));const r=e.items.filter(({type:e})=>"list_item"===e).map(ws);return{sources:n,list:Yr(r,e=>e.name)}},Cs=({country_id:e,language_ids:t,countries:n,languages:r})=>({countryId:e,languageIds:t.reduce((e,t)=>(e[t]=!0,e),{}),countries:n.map(({code:e,langs:t,name:n})=>({code:e,langs:t,name:n})),languages:r}),Os=({items:e=[]})=>e.reduce((e,t)=>{if(t.type===Cr.GIF){const n=ko(t);n&&e.push(n)}return e},[]),Ts=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n],id:void 0,text:void 0,authorName:void 0,authorAvatar:void 0}}),t},Ps=e=>{const t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]={count:r.count,id:r.id,text:r.text,authorName:r.authorName,authorAvatar:r.authorAvatar}}),t},As=e=>e&&"object"==typeof e&&"captcha"in e,Rs=e=>As(e)?{type:e.type,captcha:e.captcha}:{status:e.status,uid:e.uid,avatarUrl:e.avatarUrl,name:e.name,about:e.about,followerCount:e.followerCount,subscriptionCount:e.subscriptionCount,backgroundColor:e.backgroundColor,textColor:e.textColor,interests:e.interests.map(Xr),privacy:e.privacy?{hideInterests:e.privacy.hideInterests,hideActivity:e.privacy.hideActivity,hideSubscriptions:e.privacy.hideSubscriptions}:{hideInterests:!0,hideActivity:!0,hideSubscriptions:!0},isSleeping:e.isSleeping,onboardingRequired:e.onboardingRequired,csrfToken:e.csrfToken,passportRetPathPlaceholder:e.passportRetPathPlaceholder,regionalDomainPlaceholder:e.regionalDomainPlaceholder,passportAvatarEditLink:e.passportAvatarEditLink,passportDisplayNameEditLink:e.passportDisplayNameEditLink,source:eo(e.source),isDeactivated:"deleted"===e.status,isNotExist:"not_exist"===e.status,messengerPrivacy:e.messengerPrivacy},xs=(e,t)=>{return qr(e),Vr(Array.isArray(e.items)),e.items.reduce((e,n)=>{qr(n);const r=jo(Object.assign({},n,{id:Lr("similar_mobile"),pos:t}));return r?[...e,r]:e},[]).filter(e=>e)};let Ns,Is;!function(e){e.Default="default",e.Reload="reload",e.NoCache="no-cache",e.NoStore="no-store"}(Ns||(Ns={})),function(e){e.GetBeforeNetwork="GET_BEFORE_NETWORK",e.PutAfterNetwork="PUT_AFTER_NETWORK",e.GetAfterNetwork="GET_AFTER_NETWORK"}(Is||(Is={}));const Ls={[Ns.Default]:[Is.GetBeforeNetwork,Is.PutAfterNetwork,Is.GetAfterNetwork],[Ns.Reload]:[Is.PutAfterNetwork,Is.GetAfterNetwork],[Ns.NoCache]:[Is.PutAfterNetwork],[Ns.NoStore]:[]},js=e=>{const t=Ls[e];if(!t)throw new Error(`Cache mode '${e}' is not exist.`);return e=>t.includes(e)},Ms="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let Ds=null;const Fs=(e,t)=>(Ms?(Ds||(Ds=new Promise((e,t)=>{const n=Ms.open("zen-db",1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore("zen-api-cache")}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{Ds=null})})})),Ds):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,o)=>{const s=n.transaction("zen-api-cache",e);s.oncomplete=(()=>{r()}),s.onerror=(()=>{o(s.error||new Error("IDB transaction error"))}),t(s.objectStore("zen-api-cache"))})),Bs={get(e){let t;return Fs("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>Fs("readwrite",n=>{n.put(t,e)}),delete:e=>Fs("readwrite",t=>{t.delete(e)}),clear:()=>Fs("readwrite",e=>{e.clear()}),keys(){const e=[];return Fs("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}},Us={get:e=>Bs.get(e),put:(e,t)=>Bs.set(e,t),remove:e=>Bs.delete(e),isEnabled:()=>Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)),keys:()=>Bs.keys().then(e=>{const t=[];return e.forEach(e=>{Fr(e)&&t.push(e)}),t})},zs=(()=>{const e={};return{get:t=>Promise.resolve(e[t]),put:(t,n)=>(e[t]=n,Promise.resolve()),remove:t=>(delete e[t],Promise.resolve()),isEnabled:()=>!0,keys:()=>Promise.resolve(Object.keys(e))}})(),Hs=e=>`ZenApiCache: ${e}`;class $s extends Error{constructor(e){super(Hs(e))}}const Vs=({type:e=ir.SessionCache,namespace:t="common"})=>{const n=qs(e),r=e=>`${t}-${e}`;return{get(e){const t=r(e);return n.get(t).then(e=>{if(!Ws(e))throw new $s("No cache record or scheme invalid");return e})},put(e,t){const o=r(e);return n.put(o,t)},remove(e){const t=r(e);return n.remove(t)},keys:()=>n.keys(),isEnabled:()=>n.isEnabled()}},Ws=e=>e&&e.type&&e.apiResponse&&e.params,qs=e=>{if(e===ir.MultiSessionCache&&Us.isEnabled())return Us;if(zs.isEnabled())return zs;throw new $s("Failed to get storage provider")},Gs=e=>e.keys().then(t=>t.length<25?[]:Ks(e,t)).then(t=>{const n=t.sort(({record:e},{record:t})=>t.apiResponse.received_at-e.apiResponse.received_at).splice(11).map(({key:t})=>e.remove(t));return Promise.all(n)}),Ks=(e,t)=>Promise.all(t.map(t=>e.get(t).then(e=>({record:e,key:t})))),Ys=e=>{try{return decodeURIComponent(e)}catch(e){return null}},Qs=/[?&]([^&#]*)/,Zs=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(Qs);if(!n)break;r+=n[0].length;const[o,s]=n[1].split("=");if(!o||!s)continue;const i=Ys(o),a=Ys(s);i&&a&&(t[i]=a)}return t},Js=e=>{const t=Kr(e);return 0===t.length?"":t.reduce((t,n)=>{const r=e[n];return n&&void 0!==r?`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(r)}`:t},"")},Xs=(e,t)=>{const n=Object.assign({},Zs(e),t),r=e.indexOf("?"),o=e.indexOf("#"),s=-1!==o?o:e.length,i=-1!==r?r:s;return e.slice(0,i)+Js(n)+e.slice(s)},ei=e=>new Promise(t=>{setTimeout(t,e)}),ti=e=>{const{ok:t,url:n,status:r,statusText:o}=e;if(!t)throw new Error(`${n} ${r} (${o})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()})(e)},ni=(e,t={})=>{const{params:n,timeout:r=6e4,credentials:o="include"}=t,s=X(t,["params","timeout","credentials"]),i=n?Xs(e,n):e;return new Promise((e,t)=>{fetch(i,Object.assign({credentials:o},s)).then(ti).then(e,t),ei(r).then(()=>{t(new Error("Request timeout."))})})},ri=(e,t={})=>ni(e,Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:String(Date.now())})})),oi=(e={})=>{const t=Object.assign({Accept:"application/json"},e.headers),{method:n="POST"}=e;let{body:r}=e;return t["Content-Type"]||(t["Content-Type"]="application/json",r&&"string"!=typeof r&&(r=JSON.stringify(r))),Object.assign({},e,{method:n,headers:t,body:r})},si=(e,t={})=>ni(e,oi(t)),ii=(e,t={})=>ni(e,oi(t)),ai=({userInfo:e,zenFeatures:t,clientExperiments:n})=>{const r={};return e&&e.oauthToken&&(r.Authorization=`OAuth ${e.oauthToken}`),Object.keys(t||{}).length>0&&(r["Zen-Features"]=JSON.stringify(t)),r["Zen-Client-Experiments"]=["zen-version:2.469.0",...Array.isArray(n)&&n.length>0?n:[]].join(", "),r},ci=()=>"undefined"!=typeof window?(e=>{const t=Zs(e);return{experiment:t.experiment,excludeExperiments:t.excludeExperiments,telemetry:t.telemetry}})(window.location.href):{},li=({clid:e,referrerClid:t,referrerPlace:n,countryCode:r})=>{const o=ci();return Object.assign({},o,{clid:e,country_code:r,referrer_clid:t,referrer_place:n})},ui=e=>{const t={};return e.partnerId&&(t.partner_user_id=String(e.partnerId)),e.adId&&(t.user_ad_id=String(e.adId)),t},di=e=>{const t={};return e&&e.length&&(t.content_langs=e.join(",")),t},pi={[sr.Export]:"export",[sr.Layout]:"layout",[sr.Teasers]:"teasers",[sr.PublisherConfig]:"publisher-config",[sr.CurrentUserSubscriptions]:"current-user-subscriptions",[sr.AdArticle]:"ad-article"},hi={[sr.CurrentUserInterests]:"api/social/current-user-interests"};class fi extends Error{}const mi=(e,t,n)=>{const r=pi[e];if(r){const e=vi(t),n=(({clid:e,referrerClid:t,referrerPlace:n,countryCode:r,contentLangs:o=[],channelName:s,channelId:i,interestName:a,socialProfileId:c,feedFilterType:l,userInfo:u={}})=>Object.assign({},li({clid:e,referrerClid:t,referrerPlace:n,countryCode:r}),ui(u),di(o),{channel_name:s,channel_id:i,interest_name:a,social_profile_id:c,feed_filter_type:l}))(e);return bi(e.host,r,n)}const o=hi[e];if(o){const e=vi(t),n=li(e);return gi(e.host,o,n)}const s=n&&n[e];if(!s)throw new fi(`ZenApi ${e} url is not configured.`);return s},bi=(e,t,n)=>Xs(`${e}api/v3/launcher/${t}`,n),gi=(e,t,n)=>Xs(`${e}${t}`,n),vi=e=>{if(!e.clid)throw new fi("ZenApi clid is not configured.");if(!e.host)throw new fi("ZenApi host is not configured.");return{host:e.host,clid:e.clid,countryCode:e.countryCode||void 0,contentLangs:e.contentLangs,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,userInfo:e.userInfo,channelName:e.channelName,interestName:e.interestName,channelId:e.channelId,socialProfileId:e.socialProfileId,feedFilterType:e.feedFilterType}},yi=(e,t,n)=>{const r=((e,t)=>{const{method:n,params:r,mode:o,headers:s}=e,i={params:r,headers:Object.assign({},t?ai(t):{},s),mode:o,method:n};return e.body?Object.assign({},i,{body:e.body}):i})(t,n),{method:o,body:s}=r,i=_i(o,s);return Ei(i)(e,r)},_i=(e,t)=>e?t&&"GET"===e?"POST":e:t?"POST":"GET",Ei=e=>{switch(e){case"PUT":return ii;case"POST":return si;case"GET":default:return ri}};var wi=n(31),Si=n.n(wi);const ki=(e,t)=>{const n=Object.keys(e),r={};for(let o=0;o<n.length;o++){const s=n[o];t.includes(s)||(r[s]=e[s])}return r};class Ci extends Error{constructor(e){super(null==e?void 0:e.message),(null==e?void 0:e.type)&&(this.type=e.type),(null==e?void 0:e.ttl)&&(this.ttl=e.ttl)}}const Oi=e=>{if(!e||!e.items)throw new $s("Invalid api response to put in cache.")},Ti=e=>Dr(e)||Fr(e),Pi=(e,t)=>{const n=Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled),r=!Ti(e.clid)||e.clid===t.clid,o=!Ti(e.referrerClid)||e.referrerClid===t.referrerClid,s=!Fr(e.referrerPlace)||e.referrerPlace===t.referrerPlace,i=!Fr(e.countryCode)||e.countryCode===t.countryCode;return n&&r&&o&&s&&i&&Si()(e.feedFilter,t.feedFilter)},Ai=(e,t)=>e.userId&&t.userId&&e.userId===t.userId,Ri=(e,t,n)=>Si()(e.zenFeatures&&ki(e.zenFeatures,n),t.zenFeatures&&ki(t.zenFeatures,n)),xi=(e,t,n)=>{if(!Array.isArray(e.clientExperiments))return!0;const r=((e,t)=>{const n=[];e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments);const r=t.experimentsData;return r&&Object.keys(r).forEach(e=>{const t=r[e];Ur(t)&&t.exp&&n.push(e)}),n})(t,n);return e.clientExperiments.every(e=>r.includes(e))},Ni=(e,t)=>Array.isArray(e.contentLangs)===Array.isArray(t.contentLangs)&&(!Array.isArray(e.contentLangs)||e.contentLangs.every(e=>t.contentLangs&&t.contentLangs.includes(e))),Ii=e=>{Li(e),Di(e)},Li=e=>{if(!ji(e))throw new Ci({message:"Validation error. No items in ApiResponse",ttl:e.ttl,type:e.errorType})},ji=e=>Array.isArray(e.items)&&e.items.length>0,Mi=e=>{var t,n;return Boolean(null===(t=e.more)||void 0===t?void 0:t.link)&&Boolean(null===(n=e.bulk)||void 0===n?void 0:n.link)},Di=e=>{if(!Mi(e))throw new Ci({message:"Validation error. No more/bulk links in ApiResponse",ttl:e.ttl,type:e.errorType})},Fi=()=>({getNotShownPack(){throw new $s("Cache disabled.")},getLastShownPack(){throw new $s("Cache disabled.")},getNotShownOrLastShownPack(){throw new $s("Cache disabled.")},putNotShownPack:()=>Promise.resolve(),putLastShownPack:()=>Promise.resolve(),removeNotShownPack:()=>Promise.resolve(),removeLastShownPack:()=>Promise.resolve()}),Bi=({storage:e,cacheId:t,apiResponseValidator:n,validationParams:r})=>{const o=`not-shown-pack${t}`,s=`last-shown-pack${t}`,i=(e,{byStoreTtl:t,ignoredZenFeatures:o})=>{(e=>{if(!(e&&e.type&&e.apiResponse&&e.params))throw new $s("Invalid cache record scheme.")})(e);const s=fs(e.apiResponse);return((e,t)=>{const{receivedAt:n,ttl:r,storeTtl:o}=e,s=t?o:r;if(!(Dr(n)&&Dr(s)&&n+s>Date.now()))throw new $s(`Invalid cache ${t?"store-ttl":"ttl"}.`)})(s,t),((e,t,n,r)=>{if(!e)throw new $s("RequestCacheParams undefined");if(!t)throw new $s("Cache params undefined");if(!Ai(e,t))throw new $s("Invalid UserId");if(!Pi(e,t))throw new $s("Invalid AppParams");if(!Ri(e,t,r))throw new $s("Invalid ZenFeatures");if(!xi(e,t,n))throw new $s("Invalid ClientExperiments");if(!Ni(e,t))throw new $s("Invalid ContentLangs")})(r,e.params,s,o),Oi(s),n(s),s},a=(e,t,o)=>(Oi(o),n(o),{type:e,apiResponse:t,params:r});return{getNotShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(o).then(e=>{const r=i(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:r})}),getLastShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(s).then(e=>{const r=i(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:r})}),getNotShownOrLastShownPack(e=!0){return this.getNotShownPack({byStoreTtl:e}).catch(()=>this.getLastShownPack({byStoreTtl:e}))},putNotShownPack:(t,n,r)=>Promise.resolve().then(()=>{const s=a(t,n,r);return e.put(o,s)}),putLastShownPack:(t,n,r)=>Promise.resolve().then(()=>{const o=a(t,n,r);return e.put(s,o)}),removeNotShownPack:()=>e.remove(o),removeLastShownPack:()=>e.remove(s)}},Ui=Go({id:Qo,strongestId:Qo,status:es("subscribed","not_subscribed","blocked"),type:Jo("interest"),title:Qo,subtitle:Xo(Qo),feedLink:Qo,feedApiLink:Qo,logo:Qo,logoBackgroundColor:Qo,statEvents:os,bulkParams:Qo}),zi=Go({id:Qo,strongestId:Qo,status:es("subscribed","not_subscribed","blocked"),type:es("publisher","domain"),title:Qo,subtitle:Xo(Qo),description:Xo(Qo),feedLink:Qo,feedApiLink:Qo,logo:Qo,logoBackgroundColor:Qo,statEvents:os,bulkParams:Qo}),Hi=Go({id:Qo,type:es("card","post"),title:Qo,text:Xo(Qo),image:Xo(Qo),link:Qo,source:Go({title:Qo}),creationTime:Xo(Qo),statEvents:os,bulkParams:Qo}),$i={post:Hi,card:Hi,gif:Go({id:Qo,type:Jo("gif"),title:Qo,image:Qo,link:Qo,source:Go({title:Qo}),video:Go({duration:Zo}),creationTime:Xo(Qo),statEvents:os,bulkParams:Qo}),interest:Ui,publisher:zi,domain:zi},Vi=ns("type",$i),Wi=Go({title:Qo,tabId:Qo}),qi=Go({title:Qo,type:Jo("list_container"),items:Ko(Vi),tabLink:Xo(Wi),statEvents:os,bulkParams:Qo}),Gi=ns("type",Object.assign({list_container:qi},$i)),Ki=Go({id:Qo,name:Qo,more:Go({link:Xo(Qo)}),items:Ko(Gi),statEvents:os,bulkParams:Qo}),Yi=Go({rid:Qo,items:Ko(Ki)}),Qi=e=>rs(Yi,e);class Zi{constructor(e){this.config=lr,this.queue=Promise.resolve(),this.network=yi,this.cache=Fi(),this.eventEmitter=new Sr,this.lastUsedPackId=null,this.lastUsedPackShown=!1,this.debouncedUpdateNotShownPack=Ir(e=>this.updateNotShownPack(e),cr),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.off=this.eventEmitter.off.bind(this.eventEmitter),this.addListener=this.eventEmitter.on.bind(this.eventEmitter),this.removeListener=this.eventEmitter.off.bind(this.eventEmitter),this.configure(e)}configure(e){const t="function"==typeof e?e(this.config):e;this.config=t,this.config.clid&&this.config.cache?this.cache=this.getCacheApi():this.cache=Fi()}getLastUsedPackId(){return this.lastUsedPackId}getCacheId(){const{cache:e}=this.config;return e&&e.idGenerator?e.idGenerator(this.config):""}getCacheStorage(){if(!this.config.cache)throw new $s("Cache options is not defined");return Vs(this.config.cache)}getCacheApi(){const e=this.getCacheStorage(),t=this.getCacheId(),n=Er(this.config);return Bi({storage:e,cacheId:t,validationParams:n,apiResponseValidator:this.config.apiResponseValidator})}getApiRequestUrl(e){return mi(e,this.config,this.config.links)}getApiRequestUrlWithPublicId(e,t){return this.getApiRequestUrl(e).replace("__public_id__",t)}extendHeadersWithWindowData(e,{includeXRetpath:t}){return window?Object.assign({},e,t?{"X-Retpath-Y":window.location.href}:{}):e}async getApiResponseFromNetworkAndMaybePutItToCache(e,t){const{cacheMode:n=Ns.Default,responseParser:r,responseValidator:o}=t,s=await this.getApiResponseFromNetwork(e,t),i=this.parseAndValidateApiResponse(s,r,o);return js(n)(Is.PutAfterNetwork)&&this.updateCache(e,s,i),{apiResponse:i,source:ar.Network}}async getApiResponseFromNetwork(e,t){const{body:n,headers:r,method:o,mode:s,params:i}=t,a=this.getApiRequestUrl(e),c=this.extendHeadersWithWindowData(r,{includeXRetpath:a.indexOf("/activity-feed?")>0}),l=await this.makeApiRequestWithExtraHeaders(a,{body:n,headers:c,method:o,mode:s,params:i});return Object.assign({},l,{received_at:Date.now()})}parseAndValidateApiResponse(e,t,n){const r=t(e,this.getCacheId());return n(r),r}updateCache(e,t,n){this.cache.putNotShownPack(e,t,n).then(()=>{this.eventEmitter.emit(or.NotShownPackUpdated,e,t)}).catch(()=>{}),this.eventEmitter.emit(or.UpdatePreload,Nr(n))}async makeApiRequestWithExtraHeaders(e,t={}){return this.network(e,t,Object.assign({},this.config,{zenFeatures:(e=>(window,e))(this.config.zenFeatures)}))}async getExportApiResponse(e={}){const t=async()=>{if(js(e.cacheMode||Ns.Default)(Is.GetAfterNetwork))try{return{apiResponse:(await this.cache.getNotShownOrLastShownPack()).parsedApiResponse,source:ar.CacheAfterNetwork}}catch(e){e instanceof $s||console.warn(`Failed to get cached pack after bad network request: '${e.message}'.`)}};try{return await this.getMoreApiResponse(sr.Export,e)}catch(e){const n=await t();if(!n)throw e;return n}}async getMoreApiResponse(e,t={}){const n=js(t.cacheMode||Ns.Default);return await this.tryGetApiResponseBeforeNetwork(e,n)||await this.getApiResponseFromNetworkAndMaybePutItToCache(e,Object.assign({},t,{responseParser:fs,responseValidator:this.config.apiResponseValidator}))}async getSocialApiResponse(e,t={}){const n=js(t.cacheMode||Ns.Default);return await this.tryGetApiResponseBeforeNetwork(e,n)||await this.getApiResponseFromNetworkAndMaybePutItToCache(e,Object.assign({},t,{responseParser:(e,t)=>As(e)?e:fs(e,t),responseValidator:e=>!!As(e)||this.config.apiResponseValidator(e)}))}async tryGetApiResponseBeforeNetwork(e,t){if(t(Is.GetBeforeNetwork))try{return await this.getApiResponseFromCacheBeforeNetwork(e)}catch(e){e instanceof $s||console.warn(`Failed to get cached pack before network request: '${e.message}'.`)}}async getApiResponseFromCacheBeforeNetwork(e){const{parsedApiResponse:t,type:n}=await this.cache.getNotShownPack();if(e===sr.More&&n===sr.Export)throw new $s("Can not apply cache from export to more request.");if(this.lastUsedPackId===t.id)throw new $s(`Pack '${t.id}' has already been used.`);return{apiResponse:t,source:ar.CacheBeforeNetwork}}async hasValidNotShownPackInCache(e){try{return await this.getApiResponseFromCacheBeforeNetwork(e),!0}catch(e){return!1}}updateNotShownPack({invalidate:e=!1,requestType:t=sr.More}={}){var n;if(!(null===(n=this.config.cache)||void 0===n?void 0:n.isPrefetchEnabled))return;this.addToQueue(async()=>{if(e||!await this.hasValidNotShownPackInCache(t))try{await this.getApiResponseFromNetworkAndMaybePutItToCache(t,{responseParser:fs,responseValidator:this.config.apiResponseValidator})}catch(e){}})}addToQueue(e){const t=this.queue=this.queue.then(()=>e(),()=>e());return t.catch(()=>{}),t}getConfig(){return this.config}getExport(e){return this.addToQueue(async()=>{const t=await this.getExportApiResponse(e);return this.updateNotShownPack(),t})}getMore(){return this.addToQueue(async()=>{const e=await this.getMoreApiResponse(sr.More);return this.updateNotShownPack(),e})}async getSimilar(e,t){const n=await this.makeApiRequestWithExtraHeaders(e);return xs(n,t)}sendBannerStats(e){return this.makeApiRequestWithExtraHeaders(e)}sendAppLinkSms(e){const t=this.getApiRequestUrl(sr.SendAppLinkSms);return this.makeApiRequestWithExtraHeaders(t,{params:{phone:e}})}async getPublisherConfig(){const e=this.getApiRequestUrl(sr.PublisherConfig),t=await this.makeApiRequestWithExtraHeaders(e);return As(t)?t:fs(t)}async getProfile(){const e=this.getApiRequestUrl(sr.Profile),t=await this.makeApiRequestWithExtraHeaders(e);return Es(t)}async getSuggest(e){const t=this.getApiRequestUrl(sr.Suggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return to(n)}async getMultisearch(e){const t=this.getApiRequestUrl(sr.Multisearch),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return Qi(n)}async getMultisearchMore(e){const t=await this.makeApiRequestWithExtraHeaders(e);return Qi(t)}async getBlockedSuggest(e){const t=this.getApiRequestUrl(sr.BlockedSuggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return to(n)}async getCategories(){const e=this.getApiRequestUrl(sr.Categories),t=await this.makeApiRequestWithExtraHeaders(e);return ks(t)}async getCategory(e){const t=this.getApiRequestUrl(sr.Category).replace("__name__",e),n=await this.makeApiRequestWithExtraHeaders(t);return Ss(n)}async getPreferences(e,t){const n=this.getApiRequestUrlWithPublicId(sr.Preferences,e),r=await this.makeApiRequestWithExtraHeaders(n,t);return to(r)}async getVideoRecommend(){const e=this.getApiRequestUrl(sr.VideoRecommend),t=await this.makeApiRequestWithExtraHeaders(e);return Os(t)}async getVideoPopupData(e,t){const n=this.getApiRequestUrl(sr.GetVideoPopupData),r=await this.makeApiRequestWithExtraHeaders(n,{params:{publisher_id:e,publication_id:t}});return Co(r)}async getCountryLang(){const e=this.getApiRequestUrl(sr.CountryLang),t=await this.makeApiRequestWithExtraHeaders(e);return Cs(t)}async getCommentsCounters(e){const t=this.getApiRequestUrl(sr.CommentsCounter),n=await this.network(t,{body:{documentIds:e},mode:"cors",method:"POST"});return Ts(n.counts)}async getCommentsInfos(e){const t=this.getApiRequestUrl(sr.CommentsInfos),n=await this.network(t,{body:{documentIds:e},mode:"cors",method:"POST"});return Ps(n.infos)}async setCountryLang(e,t){const n=this.getApiRequestUrl(sr.CountryLang);await this.makeApiRequestWithExtraHeaders(n,{body:{country_id:e,language_ids:t}}),this.invalidateCache()}async getSocialProfile(e){const t=this.getApiRequestUrlWithPublicId(sr.SocialProfile,e),n=await this.makeApiRequestWithExtraHeaders(t,{headers:this.extendHeadersWithWindowData({},{includeXRetpath:!0})});return Rs(n)}async getUserSubscribers(e){const t=this.getApiRequestUrlWithPublicId(sr.Subscribers,e),n=await this.makeApiRequestWithExtraHeaders(t);return to(n)}async updateSocialProfile(e){const t=this.getApiRequestUrl(sr.SocialProfileEdit);await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},method:"PUT",body:e})}prefetch(){this.debouncedUpdateNotShownPack()}async invalidateCache(){this.config.cache&&(await this.cache.removeNotShownPack(),this.debouncedUpdateNotShownPack())}async clearCache(){this.config.cache&&(await this.cache.removeNotShownPack(),await this.cache.removeLastShownPack())}packUsed(e){this.lastUsedPackId=e,this.lastUsedPackShown=!1}packShown(e,t){this.packShownImpl(e,t)}packShownImpl(e,t){const n=this.lastShownPackId===e&&this.lastShownCacheId===t;if(!this.config.cache||n)return void this.eventEmitter.emit(or.PackShown,e);this.setLastShownPack(e,t);const r=async e=>{try{await Promise.all([this.cache.removeNotShownPack(),this.cache.putLastShownPack(e.type,e.apiResponse,e.parsedApiResponse)]),this.eventEmitter.emit(or.LastShownPackUpdated,e.type,e.apiResponse)}catch(e){}};this.addToQueue(async()=>{try{const t=await this.cache.getNotShownPack();t.apiResponse.rid===e&&await r(t)}catch(e){}finally{e===this.lastUsedPackId&&!this.lastUsedPackShown&&(this.lastUsedPackShown=!0,this.updateNotShownPack()),this.eventEmitter.emit(or.PackShown,e)}})}setLastShownPack(e,t){this.lastShownPackId=e,this.lastShownCacheId=t}async getNotShownPackFromCache(e){return(await this.cache.getNotShownPack(e)).parsedApiResponse}async getLastShownPackFromCache(e){return(await this.cache.getLastShownPack(e)).parsedApiResponse}getNetwork(){return this.network}getCache(){return this.cache}getActivityFeed(e){return this.addToQueue(async()=>{const t=await this.getSocialApiResponse(sr.SocialActivityFeed,e);return this.updateNotShownPack(),t})}async completeProfileOnboarding(e){const t=this.getApiRequestUrl(sr.ProfileCompleteOnboarding),n=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},body:{context:e.context,onboardingDocumentId:e.documentId},method:"PUT"});if(!n||"ok"!==n.status)throw new Error("complete onboarding failed");return n}async deactivateProfile(e,t){const n=this.getApiRequestUrl(sr.ProfileDeactivate),{userInfo:r}=this.config,{deviceId:o}=r,{token:s}=t,i=await this.makeApiRequestWithExtraHeaders(n,{headers:{"x-csrf-token":s},body:{reason:e,deviceId:o,clientTs:Date.now()},method:"PUT"});if(!i||"ok"!==i.status)throw new Error("profile deactivate failed");return i}async cancelDeactivateProfile(e){const t=this.getApiRequestUrl(sr.ProfileCancelDeactivate),{userInfo:n}=this.config,{deviceId:r}=n,{token:o}=e,s=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":o},body:{deviceId:r,clientTs:Date.now()},method:"PUT"});if(!s||"ok"!==s.status)throw new Error("cancel profile deactivate failed");return s}async clearCacheOverflow(){this.config.cache&&this.config.cache.namespace&&this.config.cache.idGenerator&&await Gs(this.getCacheStorage())}getCurrentUserInterests(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(sr.CurrentUserInterests))}getCurrentUserSubscriptions(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(sr.CurrentUserSubscriptions))}}const Ji=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e);var Xi=n(49);const ea=250;let ta,na,ra=[],oa=[],sa=[],ia=[],aa=[],ca=!1;const la=!1,ua=n.n(Xi).a.hasSupport;let da;function pa(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function ha(e,t){const n=[];let r;for(let o=0,s=e.length;o!==s;o++)t(r=e[o])&&n.push(r);return n}let fa=0;function ma(){return`__scrollEv${++fa}__`}const ba={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let ga=Ia(ba),va={},ya=!1;const _a=[];function Ea(){const e=Ia(ga);ga=xa(e)}const wa=(e,t,n)=>{oa.push({scroll:e.scroll,name:e.name||ma(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){_a.push([e,t])}(e.scroll-700,e.scroll+700)},Sa=(e,t,n)=>{sa.push({delta:e.delta,name:e.name||ma(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,overScrollBehavior:void 0===e.overScrollBehavior||e.overScrollBehavior,data:n,callback:t})},ka=()=>{ca=!0},Ca=()=>{Ea(),ca=!1};function Oa(e,t,n){return n.fromBottom?e<=n.scroll||Boolean(n.bottomEdge&&t<=n.scroll):e>=n.scroll||Boolean(n.bottomEdge&&t>=n.scroll)}function Ta(e,t){ua&&(t||(window.clearTimeout(da),da=window.setTimeout(()=>Pa(Date.now(),!0),ea)));const n=Ia(ga);ga=xa(n,t);const{scroll:r,scrollBottomEdge:o}=ga;!0===ga.scrolling&&n.scrolling,(!0===ga.scrolling||t)&&function(e){Aa(e,!1),Ra(e,!1)}(ga),!1===ga.scrolling&&!0===n.scrolling&&function(e){Aa(e,!0),Ra(e,!0),pa(aa,e=>{window.clearTimeout(e._timeout),e.callback()}),aa=[]}(ga),function(e,t){pa(ra,n=>{const r=Oa(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;Na(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),ra=ha(ra,e=>!(e._triggered&&e.once))}(r,o),function(e,t){pa(oa,n=>{0===n._state&&Oa(e,t,n)&&(Na(n.name,{state:1,data:n.data},n.callback),La(n.name)||(n._state=1)),1!==n._state||Oa(e,t,n)||(Na(n.name,{state:0,data:n.data},n.callback),La(n.name)||(n._state=0))})}(r,o),ua||requestAnimationFrame(Pa)}const Pa=ya?Ta:function(e,t=250,n){let r,o;return(...s)=>{const i=n||this,a=Date.now();window.clearTimeout(o),r&&a<r+t?o=window.setTimeout(()=>{r=a,e.apply(i,s)},t):(r=a,e.apply(i,s))}}(Ta,30);function Aa(e,t){const n=ha(sa,e=>Boolean(e.endTrigger)===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,o=Math.abs(r),s=r>0?1:-1;pa(n,t=>{t.onceDebounce&&va[t.name]||o>=t.delta&&(t.direction===s||t.anyDirection)&&(t.overScrollBehavior||e.scroll>0)&&(Na(t.name,{data:t.data},t.callback),t._triggered=!0,va[t.name]=!0)}),sa=ha(sa,e=>!(e._triggered&&e.once))}function Ra(e,t){const n=Date.now();pa(ia,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(Na(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function xa(e,t){const n=Ia(ba),r=la?ta:window.pageYOffset,o=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(la?na:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=o:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,o-n.lastScrollChangeTime>ea||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,va={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function Na(e,t,n){La()||n&&n(t)}function Ia(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function La(){return ca}const ja=1e3,Ma=e=>`${e}_${Date.now()}`,Da=e=>({stats:e.map(({event:e,params:t,ts:n,payload:r})=>Object.assign({event:e,data:t,ts:n},r||{})),bulk_ts:Date.now()}),Fa=()=>{let e,t,n=0,r=0,o=!1;const s=new Promise(t=>{e=t}),i=new Promise(e=>{t=e}),a=()=>{o=!0,t()},c=()=>{++r===n&&a()};return{trigger:()=>(e(),r===n&&a(),i),extend:e=>{o||(n++,s.then(e).then(c,c))}}},Ba=(e=>{if("undefined"!=typeof document){const t=e?`${e}=1`:atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}})();class Ua extends Zi{constructor(...e){var t;return t=super(...e),this.bulkEvents=[],this.sendingTimeoutId=null,this.bulkEventBatch=null,this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[],t}async getApiResponseFromNetwork(e,t={}){if(Ba&&this.sendBulkEventsWithinQueue(),Ba||0===this.bulkEvents.length||t.body)return Zi.prototype.getApiResponseFromNetwork.call(this,e,t);const{bulkEvents:n}=this,r=Da(n),o=Object.assign({},t,{body:r});this.bulkEvents=[];try{return Zi.prototype.getApiResponseFromNetwork.call(this,e,o)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(n),e}}addToQueue(e,t=!0){return t&&(this.bulkEventBatch=null),super.addToQueue(e)}forceSendBulkEvents(){return this.bulkEventBatch=null,null!==this.sendingTimeoutId&&window.clearTimeout(this.sendingTimeoutId),this.sendBulkEvents()}async sendBulkEvents(){if(0===this.bulkEvents.length)return;const e=this.getApiRequestUrl(sr.Bulk),{bulkEvents:t}=this,n=Da(t);this.bulkEvents=[];try{await this.makeApiRequestWithExtraHeaders(e,{body:n})}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}planBulkEventsSending(){null===this.sendingTimeoutId&&(this.sendingTimeoutId=window.setTimeout(()=>{this.sendingTimeoutId=null,this.sendBulkEventsWithinQueue()},ja))}sendBulkEventsWithinQueue(){if(!this.bulkEventBatch){const e=this.bulkEventBatch=Fa();this.addToQueue(()=>e.trigger().then(()=>{this.bulkEventBatch===e&&(this.bulkEventBatch=null)}),!1)}this.bulkEventBatch&&this.bulkEventBatch.extend(()=>this.sendBulkEvents().catch(e=>{console.warn("Error while sending bulk events",e)}))}oldLogBulkEvent(e){this.config.deferredEvents&&this.config.deferredEvents.shouldDeferEvents&&!this.config.deferredEvents.notDeferredEvents.includes(e.event)?this.deferredOldBulkLogParams.push(e):this.oldLogBulkEventInner(e)}oldLogBulkEventInner(e){const{event:t,bulkParams:n,statMeta:r}=e,o={id:Ma(t),event:t,params:n,ts:Date.now()};this.bulkEvents.push(o),this.planBulkEventsSending(),this.eventEmitter.emit(or.BulkEventLogged,Object.assign({},o,{statMeta:r}))}logBulkEvents(e,t){this.config.deferredEvents&&this.config.deferredEvents.shouldDeferEvents&&!this.config.deferredEvents.notDeferredEvents.includes(e)?this.deferredBulkLogParams.push({statEvent:e,params:t}):this.logBulkEventsInner(e,t)}logBulkEventsInner(e,{statEvents:t,bulkParams:n,bulkReplaceMap:r,eventReplaceMap:o,statMeta:s={},payload:i}){const a=t&&t[e];if(!a)return;const c={id:Ma(a),event:o?Ji(a,o):a,params:r?Ji(n,r):n,ts:Date.now(),payload:i};this.bulkEvents.push(c),this.planBulkEventsSending(),this.eventEmitter.emit(or.BulkEventLogged,{event:a,statMeta:s})}async getPreferences(e){if(Ba&&this.sendBulkEventsWithinQueue(),Ba||0===this.bulkEvents.length)return Zi.prototype.getPreferences.call(this,e);const{bulkEvents:t}=this,n={body:Da(t)};this.bulkEvents=[];try{return Zi.prototype.getPreferences.call(this,e,n)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}stopDefferEvents(){var e;(null===(e=this.config.deferredEvents)||void 0===e?void 0:e.shouldDeferEvents)&&(this.config.deferredEvents.shouldDeferEvents=!1,this.deferredOldBulkLogParams.forEach(e=>{this.oldLogBulkEventInner(e)}),this.deferredBulkLogParams.forEach(({statEvent:e,params:t})=>{this.logBulkEventsInner(e,t)}),this.deferredPackShown.forEach(({packId:e,cacheId:t})=>{this.packShown(e,t)}),this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[])}startDeferEvents(){this.configure(e=>{if(!e.deferredEvents)throw new Error("Deffeered events is not configured");return Object.assign({},e,{deferredEvents:Object.assign({},e.deferredEvents,{shouldDeferEvents:!0})})}),this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[],Sa({direction:1,delta:1,once:!0},()=>this.stopDefferEvents())}packShown(e,t){var n;(null===(n=this.config.deferredEvents)||void 0===n?void 0:n.shouldDeferEvents)?this.deferredPackShown.push({packId:e,cacheId:t}):this.packShownImpl(e,t)}}const za=()=>window.YandexZen=window.YandexZen||{};n(43);const Ha={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);Ha[t]=`-${t.toLowerCase()}`}const $a=e=>(t,n)=>{const[r,o]="string"==typeof t?[t,n]:[null,t];let s=e;return r&&(s+=`__${r}`),o&&Object.keys(o).forEach(e=>{const t=o[e],n=(e=>{const{length:t}=e;let n="";for(let r=0;r<t;r++){const t=e[r];n+=Ha[t]||t}return n})(e);!0===t?s+=` _${n}`:(0===t||t)&&(s+=` _${n}_${t}`)}),s},Va=(...e)=>e.filter(Boolean).join(" ");$a.mix=Va;var Wa=$a;const qa=(e,t)=>`https://passport.yandex.${(()=>{if("undefined"==typeof window)return"ru";return window.location.hostname.replace(/.*\.yandex\./,"")})()}/profile/public${Js({origin:e,mode:"popup",retpath:t})}`,Ga=$a("passport-profile-modal-content"),Ka=Object(r.memo)(()=>{const e=qa("zen_header",`${window.location.origin}/login.html`);return o.a.createElement("div",{className:Ga()},o.a.createElement("iframe",{className:Ga("iframe"),frameBorder:"0",src:e}))}),Ya={SUBS:hn,CHANNELS:fn,BLOCKED:"/profile/blocked",SEARCH:"/search",ABOUT:"/profile",PASSPORT:"PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY"};const Qa=()=>new Sr,Za=Object(G.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.contentLangs,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,e=>e.params.referrerClid,e=>e.params.referrerPlace,(e,t,n,r,o,s,i,a,c,l)=>({host:e,clid:t,countryCode:n,contentLangs:r,zenFeatures:o,clientExperiments:s,links:i,userInfo:a,referrerClid:c,referrerPlace:l})),{hasOwnProperty:Ja}=Object.prototype,Xa=e=>Array.isArray(e)?e.slice():Object.assign({},e),ec=e=>e&&"object"==typeof e,tc=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],Ja.call(e,t)!==Ja.call(n,t)?n:null}},nc=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},rc=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},oc=(e,t)=>{const n=rc(t);let r=e;for(let e=0;e<n.length;e++){const t=n[e];if(!ec(r)||!Ja.call(r,t))return;r=r[t]}return r},sc=(e,t,n)=>{if(!ec(e))throw new Error("Value is not an object.");const r=rc(t),o=Xa(e);let s=o,i=!1;for(let e=0;e<r.length;e++){const t=r[e],o=e===r.length-1;if(Array.isArray(s)&&nc(t),o){const e=Ja.call(s,t),r=e?s[t]:void 0,o=s[t]="function"==typeof n?n(r):n;e&&Object.is(r,o)||(i=!0)}else if(Ja.call(s,t)){if(!ec(s[t]))throw new Error("Value is not an object.");s=s[t]=Xa(s[t])}else s=s[t]={},i=!0}return i?o:e};var ic={get:oc,set:sc,del:(e,t)=>{if(!ec(e))throw new Error("Value is not an object.");const n=rc(t);if(1===n.length){const t=n[0];return tc(e,t)||e}const r=Xa(e);let o=r,s=!1;for(let e=0;e<n.length-1;e++){const t=n[e],r=e===n.length-2;if(Array.isArray(o)&&nc(t),!Ja.call(o,t))break;if(!ec(o[t]))throw new Error("Value is not an object.");if(r){const r=n[e+1];(o[t]=tc(o[t],r))&&(s=!0)}else o=o[t]=Xa(o[t])}return s?r:e},modify:(e,t,n)=>sc(e,t,n(oc(e,t)))};const ac=(e,t)=>{switch(t.type){case"SET_CARD_FEEDBACK":{const{feedback:n}=t.payload;return Object.assign({},e,{feedback:n})}case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSentAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSentAt:null});case"ITEM_MITTENS_JUMP":{const t=Number(e.mittensJumpAnimationKey)+1;return Object.assign({},e,{mittensJumpAnimationKey:t})}case"SET_ANSWER_IS_CHECKED":{const{answerId:n,questionId:r,value:o}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:s=[]}=e.customUserFeedbackData,i=s.findIndex(({id:e})=>e===r);if(-1===i||!s[i])return e;const a=s[i].answers.findIndex(({id:e})=>e===n);if(i<0)return e;const c=["customUserFeedbackData","questions",i,"answers",a,"isChecked"];return ic.set(e,c,o)}case"SET_ALL_ANSWERS_UNCHECKED":{const{questionId:n}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:r=[]}=e.customUserFeedbackData,o=r.findIndex(({id:e})=>e===n);if(o<0)return e;const s=["customUserFeedbackData","questions",o,"answers"],i=(ic.get(e,s)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return ic.set(e,s,i)}default:return e}},cc=ge(ac,(e,t)=>{switch(t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"SET_CARD_FEEDBACK":return"liked"===t.payload.feedback?Object.assign({},e,{subscribeTriggerEvent:"feedback_more"}):e;default:return e}}),lc=ge(ac,(e,t)=>{switch(t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":{const{paused:n,isFullScreen:r}=t.payload;return Object.assign({},e,{started:!0,paused:n,isFullScreen:r})}case"VIDEO_CALL_TO_ACTION_SHOWN":return Object.assign({},e,{isCallToActionShown:!0});case"VIDEO_CALL_TO_ACTION_WRAPPED":return Object.assign({},e,{isCallToActionWrapped:!0});default:return e}}),uc=(e,t)=>{switch(t.type){case"FEED_UPDATE":{if(t.payload.status!==_e.Success)return e;const{source:n}=t.payload.value;return Object.assign({},e,{author:{name:n.title,avatarUrl:n.logo}})}default:return e}},dc=ge(ac,(e,t)=>{switch(t.type){case"CLOSE_CAROUSEL_ITEM":{const{items:n,hidden:r}=e,{itemId:o}=t.payload,s=n.map(e=>e.id===o?Object.assign({},e,{hidden:!0}):e);return Object.assign({},e,{hidden:r||s.every(e=>e.hidden),items:s})}case"CLOSE_CAROUSEL":return Object.assign({},e,{hidden:!0});default:return e}}),pc=(e,t)=>{switch(t.type){case"ACCEPT_DISPLAY_SCENARIOS":return Object.assign({},e,{isDisplayScenariosAccepted:!0});default:return e}},hc=ge(pc,(e,t)=>(t.type,e)),fc=ge(pc,(e,t)=>(t.type,e)),mc={[Cr.TEXT]:cc,[Cr.IMAGE]:cc,[Cr.GALLERY]:cc,[Cr.POST]:cc,[Cr.FEATURING_PROMO]:cc,[Cr.GIF]:lc,[Cr.FEATURING_CAROUSEL]:dc,[Cr.PERSONAL_CAROUSEL]:dc,[Cr.CONTENT_CAROUSEL]:dc,[Cr.FEEDBACK_SUGGEST]:hc,[Cr.LEARN_BLOCK_INTERESTS]:fc,[Cr.COMMENT]:uc},bc=(e,t)=>e.type in mc?mc[e.type](e,t):e,gc=(e,t)=>t.reduce((e,[t,...n])=>ic[t](e,...n),e),vc={gridType:kr.TWO_COLUMNS,items:{},replaceQueue:[],itemsOrder:[],displayedRowsNumber:0,countRowsBeforeBlock:-1,isChildWindow:!1,isBlocked:!1,flipKey:0,uniqItemIdCounterKostyl:0,topPackId:void 0},yc=(e,t,n)=>{const r=e.items,o={};let s=!1;for(let e=0;e<n.length;e++){const i=n[e];if("string"!=typeof i)continue;const a=r[i];a&&(o[i]=bc(a,t),a!==o[i]&&(s=!0))}return s?Object.assign({},e,{items:Object.assign({},r,o)}):e},_c=(e=vc,t)=>{switch(t.type){case"INSERT_ITEM_AFTER_WITH_LINK":{const{item:n,afterId:r}=t.payload;return gc(e,[["set",["items",n.id],n],["set","itemsOrder",e=>Ec(e,[n.id],r)]])}case"REMOVE_ITEM":{const{itemId:n}=t.payload,r=e.itemsOrder.indexOf(n);return gc(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case"INSERT_ITEM_AFTER":{const{afterId:n,itemIdsList:r}=t.payload;return gc(e,[["set","itemsOrder",e=>Ec(e,r,n)]])}case"FEED_UPDATE":{if(t.payload.status!==_e.Success)return e;const n=Kr(e.items);return Array.isArray(n)?yc(e,t,n):e}case"RECEIVE_ITEMS":{const{items:n,insertOnTop:r,shouldRefreshFeed:o,shouldAddToItemsOrder:s=!0}=t.payload,i=Object.keys(e.items),a={},c=[];let l=e.uniqItemIdCounterKostyl;const{replaceQueue:u}=e;let d=o?[]:[...u];if(n.forEach(t=>{let n;!i.includes(t.id)&&!c.includes(t.id)?n=t.id:(n=`${t.id}_${++l}`,console.warn(`Non unique item: ${t.id}, ${"title"in t?t.title:"no title"}, replaced to ${n}`));const r=(({item:e,itemId:t,nextReplaceQueue:n})=>{const{ad:r,topAd:o,type:s,image:i,bidFloor:a,packId:c,cacheId:l,pos:u}=e,d=`${t}_${s}`;if(r)switch(r.type){case"direct":{const e=[...n].sort((e,t)=>t.bidFloor-e.bidFloor),s=e.length>0&&e[0],p=s&&s.bidFloor>(a||0);return{replacementId:d,newReplaceQueue:p?[...e.slice(1),{id:d,bidFloor:a||0}]:void 0,adCard:{ad:r,topAd:o,id:t,image:i,pos:u,packId:c,cacheId:l,type:Cr.RTB,replaceWith:p&&s?s.id:d,bidFloor:p&&s?s.bidFloor:a}}}case"adsense":return{replacementId:d,adCard:{ad:r,packId:c,cacheId:l,id:t,image:i,replaceWith:d,type:Cr.ADSENSE}}}})({item:t,itemId:n,nextReplaceQueue:d});if(r){const{replacementId:o,adCard:s,newReplaceQueue:i}=r,{replaceWith:c}=s;i&&(d=[...i]),a[n]=Object.assign({},s),a[o]=Object.assign({},t,{id:o}),c!==o&&(a[c]=Object.assign({},e.items[c]||a[c],{pos:t.pos}))}else a[n]=Object.assign({},t,{id:n});c.push(n)}),o)return Object.assign({},e,{items:a,itemsOrder:c,uniqItemIdCounterKostyl:l,replaceQueue:d});const p=Object.assign({},e.items,a),h=s?r?[...c,...e.itemsOrder]:[...e.itemsOrder,...c]:e.itemsOrder;return Object.assign({},e,{items:p,itemsOrder:h,uniqItemIdCounterKostyl:l})}case"SET_CHILD_ITEM_ID":{const{itemId:n,childItemId:r}=t.payload;return ic.set(e,["items",n,"childItemId"],r)}case"SET_ITEM_ORDER":{const{newItemsOrder:n}=t.payload;return Object.assign({},e,{itemsOrder:n})}case"SET_REPLACE_QUEUE":{const{replaceQueue:n}=t.payload;return Object.assign({},e,{replaceQueue:n})}case"SET_GRID_TYPE":{const{gridType:n}=t.payload;return Object.assign({},e,{gridType:n})}case"SET_DISPLAYED_ROWS_NUMBER":{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}case"CLEAR_FEED":return vc;case"SET_COUNT_ROWS_BEFORE_BLOCK":{const{countRowsBeforeBlock:n}=t.payload;return Object.assign({},e,{countRowsBeforeBlock:n})}case"REMOVE_SIMILAR_LINK":{const{itemId:n}=t.payload;return ic.set(e,["items",n,"similarLink"],void 0)}case"UPDATE_FEED_KEY":return Object.assign({},e,{flipKey:e.flipKey+1});case"SET_TOP_PACK_ID":{const{packId:n}=t.payload;return Object.assign({},e,{topPackId:n})}default:{if(!("payload"in t&&t.payload&&"object"==typeof t.payload))return e;const n="id"in t.payload&&t.payload.id,r="ids"in t.payload&&t.payload.ids;if("string"==typeof n){const r=e.items[n];if(!r)return e;const o=bc(r,t);return r!==o?ic.set(e,["items",n],o):e}return Array.isArray(r)?yc(e,t,r):e}}},Ec=(e,t,n)=>((e,t,n,r=!0)=>{const o=e.indexOf(n),s=Number(r);if(-1===o)throw new Error("Array not contains item.");return e.slice(0,o+s).concat(...t,e.slice(o+s))})(e,t,n,!0),wc={status:_e.Success,data:void 0},Sc=Xt({filter:(e="",t)=>{switch(t.type){case"SEARCH_SET_FILTER":return t.payload;default:return e}},search:(e=wc,t)=>{switch(t.type){case"SEARCH_REQUEST":return Object.assign({},e,{status:_e.Pending});case"SEARCH_RECEIVE":{const n=t.payload;return Object.assign({},e,{status:_e.Success,data:n})}case"SEARCH_FAIL":return Object.assign({},e,{status:_e.Error});default:return e}}}),kc=e=>e,Cc=(e,t,n)=>{let r=void 0;const o=`${e=e.toUpperCase()}_REQUEST`,s=`${e}_SUCCEED`,i=`${e}_FAILURE`,a={status:_e.Pending,data:void 0};return{action:(...e)=>(n,a,c)=>{n({type:o,meta:e});const l=r=t(c,...e).then(t=>{l===r&&n({type:s,payload:t,meta:e})},()=>{l===r&&n({type:i,meta:e})})},reducer:(e=a,t)=>{switch(t.type){case o:return Object.assign({},e,{status:_e.Pending});case s:{const r=t.payload;return Object.assign({},e,{status:_e.Success,data:n(r)})}case i:return Object.assign({},e,{status:_e.Error});default:return e}},request:o,succeed:s,failure:i}},Oc=(e,t=1e3)=>{const n=((e,t)=>{let n=null,r=null,o=null;return(...s)=>(o=s,Promise.resolve(n).then(()=>(o&&(n=ei(t),r=e(...o),o=null),r)))})((t,...n)=>t(e(...n)),t);return(...e)=>t=>n(t,...e)},Tc=((e,t,n,r=kc,o=1e3)=>{const s=Cc(e,t,r),{action:i}=s,a=X(s,["action"]),c=Oc(i,o),l=((e,t)=>(...n)=>(r,o)=>{const{status:s,data:i}=t(o(),...n);return s!==_e.Success?r(e(...n)):Promise.resolve(i)})(c,n);return Object.assign({action:l,forceAction:c},a)})("profile",({zenApi:e})=>e.getProfile(),e=>e.profile),Pc=Oc(()=>async(e,t,{zenApi:n})=>{const r=await n.getProfile();e({type:Tc.succeed,payload:r})}),Ac=rn(ge(Tc.reducer,(e,t)=>{if(e.status!==_e.Success)return e;switch(t.type){case"SOURCE_BLOCK":return ic.modify(e,"data.blockedCount.count",e=>e+1);case"SOURCE_UNBLOCK":return ic.modify(e,"data.blockedCount.count",e=>e-1);case"VIDEO_DISABLE":return ic.set(e,"data.video.disabled",!0);case"VIDEO_ENABLE":return ic.set(e,"data.video.disabled",!1);case"SET_COUNTRY":{const{name:n}=t.payload;return ic.set(e,"data.language.country",n)}default:return e}}),{status:_e.Initial,data:void 0}),Rc=(e,t)=>(n={},r)=>{const o=e(r);if(void 0===o)return n;const s=t(n[o],r);return n[o]!==s?Object.assign({},n,{[o]:s}):n},xc=(e,t)=>Kr(t).reduce((e,n)=>{const r=((e,t)=>{const n=e[t];if(void 0!==n)return n;for(const n of Object.values(e))if(n&&[n.id,n.publicId].includes(t))return n})(e,n),o=r&&r.id||n;return e[o]=["id","publicId","status","subscribers","feedback","isUnsubscribedInCurrentSession","isSubscribedInCurrentSession","isUnblockedInCurrentSession","complaintReasons","subscriptionForbidden"].reduce((e,n)=>void 0!==t[o][n]?Object.assign({},e,{[n]:t[o][n]}):e,Object.assign({},e[o])),e},Object.assign({},e)),Nc=rn(ge((e,t)=>{switch(t.type){case"MERGE_SOURCE":{const{payload:n}=t;return xc(e,{[n.strongestId]:n.data})}case"MERGE_CHANNEL_SOURCE":{const{payload:n}=t;return n&&n.status===Ue.Ok?xc(e,{[n.source.id]:n.source}):e}case B:case"USER_FOLLOWERS_REQUEST":case F:{if(t.payload.status!==_e.Success)return e;const n=t.payload.value,r=t.__data__&&t.__data__.selfUserId,o=!([B,F].includes(t.type)&&t.payload.id===r),s=o?e:((e,t)=>Kr(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}))(e,e=>"not_subscribed"===e.status?e:Object.assign({},e,{status:"not_subscribed"}));if(n){const e=n.map(e=>{const t=o?s[e.id]?s[e.id].status:"not_subscribed":e.status;return Object.assign({},e,{status:t})}),t=Yr(e,e=>e.id);return xc(s,t)}return s}case"USER_PROFILE_REQUEST":{if(t.payload.status!==_e.Success)return e;if(As(t.payload.value))return e;const{source:n}=t.payload.value,r=e[n.id]?e[n.id].status:"not_subscribed";return xc(e,{[n.id]:Object.assign({},n,{status:r})})}case"CATEGORY_RECEIVE":case"CATEGORIES_RECEIVE":{const{sources:n}=t.payload;if(n){const t=Yr(n,e=>e.id);return xc(e,t)}return e}case"SEARCH_RECEIVE":{const n=t.payload;if(n){const t=Yr(n,e=>e.id);return xc(e,t)}return e}case"APPLY_EXPORT_DATA":{const{exportData:n}=t.payload,{onboardingInterests:r,pinnedCarousel:o}=n,s=[...r?r.sources:[],...o?o.items.map(e=>e.source):[]],i=Yr(s,e=>e.id);return xc(e,i)}case"VIDEO_MODAL_SET_SOURCES":{const{sources:n={}}=t.payload;return xc(e,n)}case"RECEIVE_ITEMS":{const{items:n=[]}=t.payload,r=n.reduce((t,n)=>n.type===Cr.IMAGE||n.type===Cr.TEXT?t:(n.type!==Cr.FEATURING_CAROUSEL&&n.type!==Cr.PERSONAL_CAROUSEL||n.items.forEach(({source:n,bulkParams:r,statEvents:o})=>{n&&(e[n.id]?t[n.id]=Object.assign({},e[n.id],n,{statEvents:o,bulkParams:r}):t[n.id]=Object.assign({},n,{statEvents:o,bulkParams:r}))}),n.type===Cr.CONTENT_CAROUSEL&&n.items.forEach(({source:n,statEvents:r,bulkParams:o})=>{n&&(e[n.id]?t[n.id]=Object.assign({},e[n.id],n,{statEvents:r,bulkParams:o}):t[n.id]=Object.assign({},n,{statEvents:r,bulkParams:o}))}),"source"in n&&n.source&&!e[n.source.id]&&!t[n.source.id]?(t[n.source.id]=Object.assign({},n.source,{statEvents:"statEvents"in n.source&&n.source.statEvents||n.statEvents,bulkParams:"bulkParams"in n.source&&n.source.bulkParams||n.bulkParams}),t):t),{});return xc(e,r)}default:return e}},Rc(e=>"isSourceAction"in e&&e.isSourceAction?e.payload.id:void 0,(e,t)=>{switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e&&e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e&&e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":{const t=e&&"subscribed"===e.status?(e&&e.subscribers||0)-1:e&&e.subscribers;return Object.assign({},e,{status:"blocked",subscribers:t})}case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case"SOURCE_DISLIKE":return Object.assign({},e,{feedback:"disliked"});case"SOURCE_SET_COMPLAINT_REASONS":return Object.assign({},e,{complaintReasons:t.payload.reasons});default:return e}})),{}),Ic={status:_e.Initial,data:void 0},Lc=Rc(e=>"categoryId"in e?e.categoryId:void 0,(e=Ic,t)=>{switch(t.type){case"CATEGORY_REQUEST":return Object.assign({},e,{status:_e.Pending});case"CATEGORY_RECEIVE":{const n=t.payload;return Object.assign({},e,{status:_e.Success,data:n})}case"CATEGORY_FAIL":return Object.assign({},e,{status:_e.Error});default:return e}}),jc={status:_e.Initial,data:void 0},Mc=(e=jc,t)=>{switch(t.type){case"CATEGORIES_REQUEST":return Object.assign({},e,{status:_e.Pending});case"CATEGORIES_RECEIVE":{const n=t.payload;return Object.assign({},e,{status:_e.Success,data:n})}case"CATEGORIES_FAIL":return Object.assign({},e,{status:_e.Error});default:return e}},Dc=({location:e,forcedModalRoute:t,modalRoutes:n})=>{if(t&&n[t]&&n[t].forced)return{routeId:t,match:null,backgroundFromLocation:n[t].backgroundFromLocation};for(const t of Kr(n)){const r=n[t];if(r.path){const n=de(e.pathname,r);if(n)return{routeId:t,match:n,backgroundFromLocation:r.backgroundFromLocation}}}return null},Fc={closeModalPath:null,forcedModalRoute:null,isModalFailed:!1},Bc=(e=Fc,t)=>{switch(t.type){case"@@router/LOCATION_CHANGE":{const{forcedModalRoute:n}=e,{modalRoutes:r}=t.__data__,o=t.__data__.location,s=t.payload.location,i=Dc({location:s,forcedModalRoute:n,modalRoutes:r});return!e.closeModalPath&&i?Object.assign({},e,{closeModalPath:o.pathname}):e.closeModalPath&&!i?Object.assign({},e,{closeModalPath:null}):e}case"SET_CLOSE_MODAL_PATH":{const{closeModalPath:n}=t.payload;return Object.assign({},e,{closeModalPath:n})}case"FORCE_MODAL_ROUTE":{const n=t.payload;return Object.assign({},e,{forcedModalRoute:n})}case"CLOSE_MODAL":case"ON_MODAL_OPEN":return Object.assign({},e);case"MODAL_FAILED":return Object.assign({},e,{isModalFailed:!0});default:return e}},Uc=e=>t=>void 0===t?(e=>"function"==typeof e)(e)?e():e:t,zc=Uc({login:null,logout:null,login_tmpl:null,logout_tmpl:null,registration_tmpl:null,[sr.Onboarding]:null,[sr.Export]:null,[sr.Layout]:null,[sr.More]:null,[sr.Bulk]:null,[sr.Subs]:null,[sr.Profile]:null,[sr.Blocked]:null,[sr.Preferences]:null,[sr.Subscribers]:null,[sr.Categories]:null,[sr.Category]:null,[sr.Suggest]:null,[sr.Multisearch]:null,[sr.BlockedSuggest]:null,[sr.VideoRecommend]:null,[sr.GetVideoPopupData]:null,[sr.CountryLang]:null,[sr.CommentsCounter]:null,[sr.CommentsInfos]:null,[sr.SocialActivityFeed]:null,[sr.ClientLogs]:null,[sr.PublisherConfig]:null,[sr.SendAppLinkSms]:null,[sr.SocialProfile]:null,[sr.SocialProfileEdit]:null,[sr.ProfileCompleteOnboarding]:null,[sr.ProfileDeactivate]:null,[sr.ProfileCancelDeactivate]:null,[sr.CurrentUserInterests]:null,[sr.CurrentUserSubscriptions]:null,[sr.Teasers]:null,[sr.SupportLink]:null,[sr.AllChannelsLink]:null,[sr.AdArticle]:null}),Hc=Uc({host:"https://zen.yandex.ru/",clid:void 0,countryCode:"ru",integration:null,product:"",tld:"ru",lang:"ru",isIceStart:!1,shouldCleanCacheOnFeedback:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:{reasons:[]},bannerStats:null,bulk:{bulk_params:"",stat_events:{}},withFloatingLinks:Boolean(!1),isTeethEnabled:void 0,isMobile:void 0,isSpecificCardRequest:void 0,isWebview:void 0,areLinksDisabled:void 0,currentUrl:void 0,isSpaApp:!1,groupIds:"",feedType:Be.Main}),$c=Uc({scrollToID:void 0}),Vc=Uc({}),Wc=(e={},t)=>{switch(t.type){case"USER_PROFILE_REQUEST":{if(t.payload.status!==_e.Success||!e.info)return e;const{value:n}=t.payload;return n&&String(n.uid)===e.info.uid?{info:Object.assign({},e.info,{avatar:n.avatarUrl,displayName:n.name})}:e}default:return e}},qc=Uc({}),Gc={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null},Kc=(e=Gc,t)=>{switch(t.type){case"APPLY_EXPORT_DATA":{const{exportData:n,currentTime:r}=t.payload,{user:o}=n,{serverTime:s}=o;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,o.lastSawFeed),serverTime:s,serverTimeDiff:s?s-r:0})}case"INIT_FROM_STATE":{const{currentTime:n}=t.payload,{serverTime:r}=e;return Object.assign({},e,{serverTimeDiff:r?r-n:0})}default:return e}},Yc=(e=null,t)=>{switch(t.type){case"APPLY_EXPORT_DATA":{const{newSearchPopup:n}=t.payload.exportData;return n||e}}return e},Qc=e=>(e=>(t,n)=>{switch(n.type){case"MERGE_STATE_BRANCH":{const{branchName:e,branchState:r}=n.payload,o=Kr(r).reduce((e,t)=>(void 0!==r[t]&&(e[t]=r[t]),e),{});return Object.assign({},t,{[e]:Object.assign({},t&&t[e],o)})}default:return e(t,n)}})(Xt({feed:_c,category:Lc,categories:Mc,sources:Nc,search:Sc,profile:Ac,modal:Bc,params:Hc,shared:$c,request:qc,links:zc,user:Kc,context:Vc,auth:Wc,users:an,newSearchPopup:Yc,router:Un(e)}));n(96);const Zc=()=>{let e,t;return(...n)=>{if(t&&ve(e,n))return t;const r=e=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r(e):r&&(r.current=e)}};return e=n,t=r,r}};var Jc=Zc,Xc=(n(97),n(50)),el=n.n(Xc);const tl=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};const nl=(e,t)=>{const n=Object.keys(t),r=Object.assign({},e);for(let o=0;o<n.length;o++){const s=n[o];switch(s){case"className":r[s]=Va(t.className,e.className);break;case"style":r[s]=Object.assign({},e.style,t.style);break;default:{const n=t[s],o=e[s];"on"===s.slice(0,"on".length)&&(r[s]=(e=>{"function"==typeof n&&n(e),"function"==typeof o&&o(e)}))}}}return r};const rl=(e=>{return Object(r.forwardRef)((t,n)=>{const[s,i]=Object(r.useState)(null);let a;return Object(r.useEffect)(()=>{i(tl())},[]),a="number"==typeof s&&s>0?nl(t,{style:{width:`calc(100vw - ${s}px)`}}):t,o.a.createElement(e,c({},a,{ref:n}))})})("div");class ol{constructor(){this._subscriptions=[]}add(e,t,n,r){e.addEventListener(t,n,r);const o=()=>{e.removeEventListener(t,n,r),this._subscriptions=this._subscriptions.filter(e=>e!==o)};return this._subscriptions=this._subscriptions.concat(o),o}clear(){this._subscriptions.forEach(e=>{e()})}}var sl=n(51);const il=e=>$a(`${sl["lib-prefix"]}-${e}`);il.mix=Va;const al=27,cl=200,ll=il("modal");class ul extends o.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={placeholderElem:null,margin:null,scrollbarWidth:null,isJustOpened:!1},this._composeInputRefs=Zc(),this._scrollableContainerElem=null,this._scrollbarFixElem=null,this._whileOpenListenerStorage=new ol,this._scrollableContainerRef=(e=>{this._scrollableContainerElem=e,e?this._modalDidOpen():this._modalDidClose()}),this._scrollbarFixRef=(e=>{this._scrollbarFixElem=e}),t}componentDidUpdate(e){const{isOpen:t,isMobileMenu:n,onOpen:r,onClose:o}=this.props;!e.isOpen&&t&&("function"==typeof r&&r(),n&&this.setState({isJustOpened:!0})),e.isOpen&&!t&&("function"==typeof o&&o(),n&&this.setState({isJustOpened:!1}))}_isNotModalClick(e){return e.target===this._scrollableContainerElem||e.target===this._scrollbarFixElem}_modalDidOpen(){const{scrollbarWidth:e}=this.state,t=this._scrollableContainerElem;if(!t||"number"!=typeof e)return;const{direction:n}=getComputedStyle(t);this.setState({margin:"rtl"===n?`0 0 0 ${-e}px`:`0 ${-e}px 0 0`}),document.body&&(document.body.style.overflow="hidden");const r=e=>{if(this._isNotModalClick(e)){e.preventDefault();const{shouldCloseOnOuterClick:t,close:n}=this.props;t&&"function"==typeof n&&n()}};this._whileOpenListenerStorage.add(document,"mousedown",r,{passive:!1}),this._whileOpenListenerStorage.add(document,"touchstart",r,{passive:!1}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===al){const{shouldCloseOnEscClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}})}_modalDidClose(){this.setState({margin:null}),document.body&&(document.body.style.overflow=""),this._whileOpenListenerStorage.clear()}_renderModal(){const e=this.props,{isOpen:t,isMobileMenu:n,withFixedHeight:s,close:i,containerRef:a,withScrollbarFix:l,withVerticalAlign:u,scrollableContainerRef:d,viewType:p,isClosable:h,children:f,overlayClassName:m}=e,b=X(e,["isOpen","isMobileMenu","withFixedHeight","close","containerRef","withScrollbarFix","withVerticalAlign","scrollableContainerRef","viewType","isClosable","children","overlayClassName"]),{placeholderElem:g,margin:v,scrollbarWidth:y,isJustOpened:_}=this.state,E=l?rl:"div";if(!t||!g||"number"!=typeof y)return null;const w=nl(ki(b,["shouldCloseOnEscClick","shouldCloseOnOuterClick","onClose","onOpen"]),{className:ll("content",{isMobileMenu:n}),style:_?{transform:"translateY(0)"}:void 0}),S=this._composeInputRefs(this._scrollableContainerRef,d),k=Jt.a.createPortal(o.a.createElement("div",{ref:S,className:ll({viewType:p,withVerticalAlign:u,withFixedHeight:s,isMobileMenu:n}),style:{margin:v||void 0,visibility:v?void 0:"hidden"}},o.a.createElement(E,{ref:this._scrollbarFixRef,className:Va(ll("scrollbar-fix"),m)},o.a.createElement("div",c({ref:a},w),f,h?o.a.createElement("div",{className:ll("close-wrapper")},o.a.createElement("button",{className:ll("close"),onClick:i})):null))),g);return o.a.createElement(r.Fragment,{key:"modal"},k)}componentDidMount(){this.setState({placeholderElem:document.body,scrollbarWidth:tl()})}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){return o.a.createElement(el.a,{component:r.Fragment,transitionName:"_transition",transitionEnterTimeout:cl,transitionLeaveTimeout:cl},this._renderModal())}}ul.defaultProps={isOpen:!1,isClosable:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!1,withVerticalAlign:!1,viewType:"outer-close"};const dl=(e,t)=>{const{search:n}=e;let r,o;return r=t&&"string"==typeof t.search?Js(Object.assign({},Zs(n),Zs(t.search))):n,o="string"==typeof t?{pathname:t,search:r}:Object.assign({},t,{search:r})},pl=(e,...t)=>(n,r)=>{const o=r(),s=dl(o.router.location,e);n(i(s,...t))},hl="MODAL_CLOSE_REASON_CROSS",fl=e=>(t,n,{outputBus:r})=>{const o=n(),{closeModalPath:s,forcedModalRoute:i}=o.modal;t(i?bl(null):pl(s||"")),t({type:"CLOSE_MODAL",payload:e||""}),r.emit("popupClose")},ml=e=>({type:"SET_CLOSE_MODAL_PATH",payload:{closeModalPath:e}}),bl=e=>({type:"FORCE_MODAL_ROUTE",payload:e}),gl=()=>(e,t,{modalRoutes:n})=>{const r=t(),{location:o}=r.router,{forcedModalRoute:s}=r.modal,{pathname:i}=o,a=Dc({location:o,forcedModalRoute:s,modalRoutes:n});a&&e(ml(((e,t)=>{switch(t){case"/user/:socialProfileId/followers":return e.replace("/followers","");case gn:return e.replace(hn,"");default:return"/"}})(i,a.routeId)))};class vl extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={value:this._getEndValue(),duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),t}_isTransitionEvent(e){return e.target===this._containerElem&&"opacity"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getEndValue(){const{type:e,minOpacity:t,maxOpacity:n}=this.props;switch(e){case"in":return n;case"out":return t;default:return 1}}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:r,withTransition:o}=this.state,s={};return null!==n&&(s.opacity=n),o&&(s.transition=`${r}ms opacity ${e} ${t}ms`),s}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},()=>{e&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(){const{getDuration:e,onBeforeStart:t}=this.props;if(!this._containerElem)return;const n=parseFloat(getComputedStyle(this._containerElem).opacity),r=this._getEndValue(),o=this._getRemainingTime(),s=r-n;if(0===s)return void this._endTransition({withEndHandlers:!1});const i=e(o,s);0!==i?(t(),this.setState({value:n,duration:i,withTransition:!0},()=>{const{onAfterStart:e}=this.props;this._forceContainerReflow(),this.setState({value:r},()=>{this._startTime=Date.now(),e()})})):this._endTransition({withEndHandlers:!1})}componentDidUpdate(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()}render(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})}}vl.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};class yl extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={value:null,endValue:null,duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._contentElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._contentRef=(e=>{this._contentElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),t}_isTransitionEvent(e){return e.target===this._containerElem&&"height"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return null!==e&&null!==this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getRemainingShift(e){const{endValue:t}=this.state;return null!==t?e-t:0}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:r,withTransition:o}=this.state,s={};return null!==n&&(s.height=n),o&&(s.transition=`${r}ms height ${e} ${t}ms`),s}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:null,endValue:null,duration:null,withTransition:!1},()=>{e&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(e){const{getDuration:t,onBeforeStart:n}=this.props,r=e.containerHeightStyle,o=this._contentElem&&this._contentElem.offsetHeight||0,s=this._getRemainingTime(),i=this._getRemainingShift(r),a=o-e.contentHeight-i,c=r+a;if(0===a)return void this._endTransition({withEndHandlers:!1});const l=t(s,a);0!==l?(n(),this.setState({value:r,endValue:c,duration:l,withTransition:!0},()=>{this._forceContainerReflow(),this.setState({value:c},()=>{this._startTime=Date.now(),this.props.onAfterStart()})})):this._endTransition({withEndHandlers:!1})}getSnapshotBeforeUpdate(e){return this._containerElem&&this.props.triggerKey!==e.triggerKey?{containerHeightStyle:parseFloat(String(getComputedStyle(this._containerElem).height)),contentHeight:this._contentElem&&this._contentElem.offsetHeight||0}:null}componentDidUpdate(e,t,n){n&&this._startTransition(n)}render(){return this.props.children({containerRef:this._containerRef,contentRef:this._contentRef,containerStyle:this._getContainerStyle()})}}yl.defaultProps={timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};class _l extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state=_l.getUpdatedState(this.props),this._composeContainerRefs=Zc(),t}static getUpdatedState(e){return{triggerKey:e.triggerKey,children:e.children({ref:e.heightProps.contentRef})}}static getDerivedStateFromProps(e,t){return e.triggerKey!==t.triggerKey?_l.getUpdatedState(e):null}render(){const e=this.props,{component:t,containerRef:n,fadeProps:r,heightProps:s}=e,i=X(e,["component","containerRef","fadeProps","heightProps"]),{children:a}=this.state,l=r.style,u=s.containerStyle,d=[l.transition,u.transition].filter(Boolean).join(", "),p=nl(ki(i,["triggerKey"]),{style:{opacity:l.opacity,height:u.height,transition:d}});return o.a.createElement(t,c({ref:this._composeContainerRefs(r.ref,s.containerRef,n)},p),a)}}_l.defaultProps={component:"div"};const El=Object(r.forwardRef)((e,t)=>o.a.createElement(_l,c({containerRef:t},e))),wl="ACTIVE_STATUS_KEY",Sl={Fade:"FADE_TRANSITION",Height:"HEIGHT_TRANSITION",Children:"CHILDREN_TRANSITION"},kl={Pending:"PENDING",FadeIn:"FADE_IN",Resize:"RESIZE",FadeOut:"FADE_OUT"};const Cl=new class{constructor(e){this._config=e}_getUpdatedAnimationsState(e,t){const n=ic.get(this._config,[e,"animationsState"]);if(!n)return{};const r=Object.keys(n),o={};for(let e=0;e<r.length;e++){const s=r[e];n[s]&&(o[s]=!t[s])}return o}_getSpecificState(e,t,n){const r=ic.get(this._config,[e,"specificState"]);return r?"function"==typeof r?r(t,n):r:{}}setActiveStatus(e,t,n){const r=this._getUpdatedAnimationsState(e,n),o=this._getSpecificState(e,t,n);return Object.assign({},r,o,{[wl]:e})}}({[kl.Pending]:{animationsState:{[Sl.Fade]:!1,[Sl.Height]:!1,[Sl.Children]:!0},specificState:e=>({activeTriggerKey:e.triggerKey})},[kl.FadeOut]:{animationsState:{[Sl.Fade]:!0,[Sl.Height]:!1,[Sl.Children]:!1},specificState:e=>({fadeType:"out",fadeDelay:e.delay})},[kl.Resize]:{animationsState:{[Sl.Fade]:!1,[Sl.Height]:!0,[Sl.Children]:!0},specificState:e=>({activeTriggerKey:e.triggerKey})},[kl.FadeIn]:{animationsState:{[Sl.Fade]:!0,[Sl.Height]:!1,[Sl.Children]:!1},specificState:{fadeType:"in",fadeDelay:0}}});class Ol extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state=Object.assign({},Cl.setActiveStatus(kl.Pending,this.props,{}),{lastTriggerKey:this.props.triggerKey}),this._onFadeComplete=(()=>{const e=this.state[wl];e===kl.FadeOut&&this.setState(Cl.setActiveStatus(kl.Resize,this.props,this.state)),e===kl.FadeIn&&this.setState(Cl.setActiveStatus(kl.Pending,this.props,this.state))}),this._onHeightComplete=(()=>{this.setState(Cl.setActiveStatus(kl.FadeIn,this.props,this.state))}),this._getFadeDuration=((e,t)=>{const{getFadeDuration:n}=this.props,{fadeType:r}=this.state;return n(r,e,t)}),t}static getActiveStatusAfterTriggerKeyChange(e,{isActiveTriggerKey:t,isDisabled:n}){return e===kl.Pending&&n?kl.Pending:e===kl.Resize?kl.Resize:e===kl.FadeOut&&t?kl.FadeIn:e!==kl.FadeOut?kl.FadeOut:null}static getDerivedStateFromProps(e,t){const n=t[wl];if(e.triggerKey!==t.lastTriggerKey){const r=Ol.getActiveStatusAfterTriggerKeyChange(n,{isActiveTriggerKey:e.triggerKey===t.activeTriggerKey,isDisabled:e.isDisabled});return r?Object.assign({},Cl.setActiveStatus(r,e,t),{lastTriggerKey:e.triggerKey}):{lastTriggerKey:e.triggerKey}}return n===kl.Pending?Cl.setActiveStatus(kl.Pending,e,t):null}render(){const e=this.props,{containerRef:t,getResizeDuration:n,fadeTimingFunction:r,resizeTimingFunction:s}=e,i=X(e,["containerRef","getResizeDuration","fadeTimingFunction","resizeTimingFunction"]),{fadeType:a,fadeDelay:l}=this.state;return o.a.createElement(vl,{triggerKey:this.state[Sl.Fade],type:a,timingFunction:r,delay:l,getDuration:this._getFadeDuration,onComplete:this._onFadeComplete},e=>o.a.createElement(yl,{triggerKey:this.state[Sl.Height],timingFunction:s,getDuration:n,onComplete:this._onHeightComplete},n=>o.a.createElement(El,c({},ki(i,["triggerKey","isDisabled","getFadeDuration"]),{ref:t,triggerKey:this.state[Sl.Children],fadeProps:e,heightProps:n}))))}}Ol.defaultProps={isDisabled:!1};const Tl=Object(r.forwardRef)((e,t)=>o.a.createElement(Ol,c({containerRef:t},e))),Pl=e=>e.sources,Al=(e,t)=>{if(e)return e.map(e=>{let{id:n}=e,r=X(e,["id"]);return Object.assign({},r,t[n])})},Rl=e=>Object(G.createSelector)(e,Pl,Al),xl=Rl(e=>e.categories.data?e.categories.data.sources:void 0),Nl=Rl(e=>e.search.search.data),Il=Rl(e=>e.onboarding.data),Ll=Rl((e,t)=>{const n=e.category[t];if(!n)return;const{data:r}=n;return r?r.sources:void 0}),jl=Object(G.createSelector)((e,t)=>t,(e,t)=>e.sources[t.id],(e,t)=>{if(!e)throw Error("No source in feed item!");return Object.assign({},e,t)}),Ml=Object(G.createSelector)(e=>e.channel,e=>e.sources,(e,t)=>{if(!(e&&e.status!==Ue.Feed&&"source"in e))return null;const n=e.source&&e.source.id;return void 0===n?null:Object.assign({},e.source,t[n])}),Dl=[1e3,3e3,15e3],Fl={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},Bl={reachGoal:()=>{}},Ul={},zl=async e=>{const t=`yaCounter${e.id}`;return window[t]&&"function"==typeof window[t].reachGoal?(Ul[e.id]=window[t],window[t]):(Ul[e.id]||(Ul[e.id]=(async e=>{try{const t=(e=0)=>nr("https://mc.yandex.ru/metrika/tag.js",{invalidate:!0}).catch(n=>{if(Dl[e])return ei(Dl[e]).then(()=>t(e+1));throw n});return await t(),window.Ya&&window.Ya.Metrika2?new window.Ya.Metrika2(Object.assign({},Fl,e)):(console.warn("withMetrikaGoal: window.Ya.Metrika2 not found"),Bl)}catch(e){return console.warn("withMetrikaGoal: metrika load error:",e),Bl}})(e)),Ul[e.id])};class Hl{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){if(!this._data.hasOwnProperty(e))return!1;const t=this._data[e];return"object"==typeof t&&"exp"in t&&Boolean(t.exp)}getAllExps(){return Object.keys(this._data).filter(e=>ic.get(this._data,[e,"exp"]))}findExps(e){return Object.keys(this._data).filter(t=>ic.get(this._data,[t,"exp"])&&t.match(e))}}const $l=e=>(t={})=>Object.keys(e).reduce((n,r)=>Object.assign({},n,{[r]:e[r](t[Ho(r)])}),{}),Vl=(e,t)=>n=>t.includes(n)?n:e,Wl=(e={})=>t=>"object"==typeof t?t:e,ql=(e,t)=>(n=t)=>t=>typeof t===e?t:n,Gl=ql("number",0),Kl=ql("boolean",!1),Yl=ql("string",""),Ql=e=>e;let Zl,Jl,Xl;!function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d"}(Zl||(Zl={})),function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d"}(Jl||(Jl={})),function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f"}(Xl||(Xl={}));let eu;!function(e){e.mainpage="mainpage",e.betterRecommend="better_recommend",e.saveSource="save_source",e.tuneFeed="tune_feed",e.saveInProfile="save_in_profile",e.empty="empty"}(eu||(eu={}));const tu=$l({rezenSiteMobileSimilar:Ql($l({viewType:Vl(je.OLD,[je.A1,je.A2,je.B2,je.OLD])})),rezenPcode:Ql($l({version:Gl()})),rezenSmsPopup:Ql($l({afterSuccessTimeout:Gl(3e3),afterErrorTimeout:Gl(2e3),tabletUrl:Yl("https://redirect.appmetrica.yandex.com/serve/890899778634799153"),headerIconVisibilityCooldown:Gl(18e6),headerButtonTextVariant:Vl(Zl.Default,[Zl.A,Zl.B,Zl.C,Zl.D]),popupTextVariant:Vl(Xl.Default,[Xl.A,Xl.B,Xl.C,Xl.D,Xl.E,Xl.F]),popupButtonTextVariant:Vl(Jl.Default,[Jl.A,Jl.B,Jl.C,Jl.D])})),interfaceBranding:Vl(Le.Default,[Le.Coccoc,Le.Default]),rezenBlockFeedBanner:Ql($l({isEnabled:Kl(),rowsBeforeBlock:Gl(3),isWithoutClose:Kl(),isWithoutReturn:Kl(),isClickableBackground:Kl(),closeExpire:Gl(1),closeExpireClick:Gl(14),textVariant:Vl("a",["a","b"]),url:Yl("https://redirect.appmetrica.yandex.com/serve/314246221256507436")})),adQueue:Ql($l({enabled:Kl(),size:Gl(10),ttl:Gl(36e5)})),rezenPromoBadgeLink:Yl(""),socialProfile:Ql($l({onboardingEnabled:Kl(),onboardingTimeout:Gl(500),profileEnabled:Kl(),zenkitNotificaitons:Kl(!0),redesign:Kl()})),rezenInterestsOnboardingSiteDesktop:Ql($l({isIceForceShow:Kl()})),rezenAdvertisersLink:Yl(""),extendFeedback:Ql($l({isPopup:Kl(),isDislikeOptionsEnabled:Kl()})),rezenAdfoxFullscreen:Ql($l({isEnabled:Kl(),isForceShow:Kl(),closeExpires:Gl(14),targetNames:Wl()})),rezenAdfoxSmart:Ql($l({isEnabled:Kl(),isForceShow:Kl(),closeExpires:Gl(7),targetNames:Wl()})),rezenAppButton:Ql($l({isEnabled:Kl(),isYellow:Kl(),url:Yl("https://redirect.appmetrica.yandex.com/serve/1179076386090959125"),closeTimeout:Gl()})),notifiers:Ql($l({theme:Vl(Ce.Black,[Ce.Black,Ce.White])})),rezenEnableAllChannelsLink:Kl(),rezenRefclidSessionTimeout:Gl(),newLogoEnabled:Kl(),rezenSiteDesktopNotifier:Ql($l({isEnable:Kl()})),rezenSiteMobileNotifier:Ql($l({isEnable:Kl()})),zenlibBrowserBase:Yl(),commentsBundleUrlTmpl:Yl("https://yastatic.net/s3/zen-lib/45.4.2/comments/comments.{commentsBundleUrl}.{lang}.bundle.js"),videoModalCommentsApiUrlTmpl:Yl(),isVideoSubscribeCardViewCircle:Kl(),videoSubscribeShowForSeconds:Gl(5),samsungMobileRenderHeaderFixed:Kl(),samsungMobileLogoUrlTemplate:Yl(),samsungMobileShouldSendStatsToCoccoc:Kl(),commentInCard:Ql($l({enabled:Kl(),removeSnippet:Kl(),hotBubble:Kl()})),showEmptyCarouselSearchLink:Kl(!0),disableMobileNavbar:Kl(!1),rezenRenderQueue:Ql($l({isEnabled:Kl()})),enableCardChannelLink:Kl(!1),subscriptionsFeedEnabled:Kl(!1),cookieOfTheDay:Yl("bltsr"),header2Enabled:Kl(!1),multiplePlaceholdersSkipItemTypes:(e=>t=>Array.isArray(t)?t.filter(t=>e.includes(t)):[])(Object.values(Cr)),subscribeLoginPopupMessage:Vl(eu.empty,[eu.mainpage,eu.betterRecommend,eu.saveSource]),likeLoginPopupMessage:Vl(eu.empty,[eu.tuneFeed,eu.betterRecommend,eu.saveInProfile]),channelPage:$l({isNewDesignEnabled:Kl(!1),isExpandedDescription:Kl(!1)}),isVideoCardsVersion2:Kl(!1),videoVisibleContentDelay:Gl(3e3),isVideoCardsDynamicPoster:Kl(!1),isVideoCardsHoverAnimation:Kl(!1),isVideoCallToActionEnabled:Kl(!1),videoCallToActionTimestamp:Gl(5),isMobileSimilarsEnabled:Kl(!1),contentCarousel:Ql($l({isViewExp:Kl(!1)})),isMoreSimilarVideosLoadingEnabled:Kl(!1),marginMoreSimilarVideosLoading:Gl(500),viberShareButton:Ql($l({isButtonEnabled:Kl(!1),partnerAppMinVersion:Yl(""),isShortenerEnabled:Kl(!1),shortenerResponseTimeout:Gl(1e4)})),isCallToActionWrapping:Kl(!1),videoCallToActionWrapTime:Gl(5),videoPlayerApiVersion:Yl("1.0-3226"),videoPlayerApiMaxBufferLength:Gl(30),videoPlayerSizeRatio:Ql($l({min:Gl(.5),max:Gl(5/4),maxHorizontal:Gl(.8)})),isVideoMuteWhenAutopause:Kl(!1),isVideoDescriptionEnabled:Kl(!1),isVideoUseSingletonPlayer:Kl(!1),isVideoFeedEnabled:Kl(!1),isZenRumEnabled:Kl(!1),pcodeLoaderBundleUrl:Yl("https://an.yandex.ru/system/context.js"),pcodeVersion:Gl(0),isSearch2Enabled:Kl(!1),isDesktopSuggestEnabled:Kl(!1),isV0SearchPlaceholder:Kl(!1),isStayHome:Kl(!1),adErrorFilterRatio:Gl(1),isVideoModalEnabled:Kl(!1),pcodeSsrConfig:Ql($l({pcodeSsrVer:Gl(0),useSsr:Kl(!1)})),isHeaderMessengerEnabled:Kl(!1),isDirectMessageEnabled:Kl(!1),messengerSettingsLink:Yl("https://www.yandex.ru/chat#/")}),nu=Object(G.createSelector)(({params:e})=>e.experimentsData,e=>new Hl(e)),ru=e=>e("ab:rezen_unified:bottom")?Ie.NAV_BOTTOM_FIXED:e("ab:rezen_unified:top_fixed")?Ie.NAV_TOP_FIXED:!!e("ab:rezen_unified:top_hiding")&&Ie.NAV_TOP_FREE,ou=e=>e("ab:rezen_cards25:rezen_cards25_a")?"a":e("ab:rezen_cards25:rezen_cards25_b")?"b":e("ab:rezen_cards25:rezen_cards25_c")?"c":null,su=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,iu=e=>{const t=e(su)[0];if(!t)return;const n=su.exec(t);return n?`${n[1]}px ${n[2]}px ${n[3]}px ${n[4]}px`:void 0},au=["top_fixed","top_hiding","bottom"],cu=Object(G.createSelector)(({params:e})=>e.clientDefinition,tu),lu=Object(G.createSelector)(nu,cu,(e,t)=>{const n=((e,t)=>({isFeedEnabled:t("rezen_domains_page_lib"),isZenOneEnabled:!t("ab:desktop_zen_one:default"),isYandexStaffZenOneExp:t("ab:desktop_zen_one_staff:desktop_zen_one_staff_enabled"),navbarPosition:ru(t),isWideImagesExp:t("rezen_direct_use_wide_images"),isDirectLabelCut:t("direct_label_cut"),showPromoLink:t("ab:rezen_new_header:enabled"),visibilityThreshold:t("ab:rezen_item_visibility_threshold:50")?.5:void 0,isOfficialComplains:t("rezen_official_complaints"),shouldRefreshFeed:t("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed"),shouldResetScrollOnUnload:t("should_reset_scroll_on_unload"),shouldScrollOnOpenCard:t("should_scroll_on_open_card"),cards25:ou(t),comtrColor:t("zen_comtr_color")?"color":"white",isImageLazyLoadEnabled:t("lazy_images")||t("ab:rezen_lazy_images:enable")||t("zen_lib_lazy_images"),isTeethEnabled:t("site_desktop_turkey_morda_teeth"),isZenUnifiedEnabled:au.some(e=>t(`ab:rezen_unified:${e}`)),isZenkitMenuEnabled:t("ab:rezen_new_menu:rezen_new_menu"),isZenOneOtherCountries:t("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries"),isSocialProfileEnabled:t("new_profile"),isLiteRtbEnabled:t("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),linkHoverEnabled:t("ab:rezen_channel_links:rezen_channel_links"),isAutoplayExp:t("ab:rezen_mobile_video_autoplay_wifi:enable"),canDisableVideo:t("ab:rezen_no_videos:enable"),disableMetrikaExp:t("rezen_disable_metrika"),imageRootMargin:iu(e),isRtbFitted:t("zen_lib_rtb"),isAdsense:t("ab:site_desktop_adsense:site_desktop_adsense")||t("ab:opera_ntp_adsense:opera_ntp_adsense"),isLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),isCommentCountersEnabled:t("ab:rezen_comments_counter:rezen_comments_counter")||t("zen_comments"),isTouchCommentCountersEnabled:t("ab:rezen_comments_counter_touch:rezen_comments_counter_touch"),isDesktopVideoModalCommentsEnabled:t("ab:social_desktop_video_modal_comments:social_desktop_video_modal_comments"),isCommentsDislikeEnabled:t("ab:social_dislike_comments:social_dislike_comments")||t("ab:social_dislike_comments:social_dislike_comments_sort"),isInterestsDesktop:t("ab:site_desktop_interests:site_desktop_interests_enabled")||t("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"),isInterestsMobile:t("ab:site_mobile_interests:site_mobile_interests_enabled")||t("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"),isInterestsZenApp:t("ab:zenkit_interests:zenkit_interests_enabled")||t("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"),isInterestsZenAppIos:t("ab:ios_native_interests:ios_native_interests_enabled")||t("ab:ios_native_interests_staff:ios_native_interests_staff_enabled"),isInsectEnabled:t("ab:rezen_enable_insect:rezen_enable_insect"),isErrorCounterEnabled:t("error_counter_enabled"),isProfileUploadAvatarEnabled:t("ab:ab_social_profile_upload_avatar:social_profile_upload_avatar"),isFrontHeaderUploadAvatarEnabled:t("ab:ab_social_front_header_upload_avatar:social_front_header_upload_avatar")}))(e.findExps.bind(e),e.isExp.bind(e));return Object.assign({},n,t)}),uu=["/","/native","/id/:channelId","/:channelName","/t/:interestName",bn,gn,"/user/:socialProfileId/followers"],du=e=>{if(!e)return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),"feed_undefined";const t=Fo(decodeURI(e));if(!t)return"";const n=uu.reduce((e,n)=>e||de(t.pathname,{path:n,exact:!0}),null);if(!n)return"feed_undefined";if(n.params)return(e=>{if(!e)return"feed_undefined";const{channelId:t,channelName:n,interestName:r,userId:o,uid:s,socialProfileId:i}=e;if(t||n)return`feed_channel_${t||n}`;if(r)return`feed_interest_${r}`;const a=i||o||s;return a?(e=>`feed_user_${e}`)(a):"feed_undefined"})(n.params);switch(n.path){case"/":return"feed_main";case"/native":return"feed_native";default:return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),"feed_undefined"}},pu=()=>Boolean(!1),hu=e=>e.channel.status===Ue.Ok,fu=(Object(G.createSelector)(({links:e})=>e.login_tmpl,({router:e})=>e&&e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(rr(t))):null),Object(G.createSelector)(({links:e})=>e.logout_tmpl,({router:e})=>e&&e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(rr(t))):null),e=>e.params&&e.params.feedType===Be.Native),mu=e=>e.params&&e.params.feedType===Be.Main,bu=(Object(G.createSelector)(fu,hu,mu,(...e)=>e.some(Boolean)),Object(G.createSelector)(({context:e})=>e.partner,e=>{return(e=>{if("undefined"==typeof window)return()=>{};const t=zl({id:e});return async e=>{(await t).reachGoal(e)}})((e=>{switch(e){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}})(e))}),Object(G.createSelector)(lu,({socialProfile:e})=>e)),gu=(Object(G.createSelector)(e=>e.channel&&e.channel.source,e=>e),Object(G.createSelector)(e=>e.params.libType,e=>e.params&&e.params.feedType===Be.Activity,bu,(e,t,n)=>yr(e)||n.redesign&&t)),vu=(Object(G.createSelector)(lu,({shouldResetScrollOnUnload:e})=>pu()&&e),Object(G.createSelector)(({iface:e})=>e.isOpenCardScrollEnabled,lu,gu,(e,{shouldScrollOnOpenCard:t,cards25:n},r)=>e&&t&&"b"!==n&&"c"!==n&&!r),Object(G.createSelector)(({params:e})=>e.teethType,lu,(e,{comtrColor:t})=>e||t),Object(G.createSelector)(e=>e.params.teethType,lu,(e,{isTeethEnabled:t})=>!!e||t),Object(G.createSelector)(lu,({isZenUnifiedEnabled:e,isZenkitMenuEnabled:t})=>e||t)),yu=Object(G.createSelector)(lu,({isZenOneOtherCountries:e})=>e),_u=Object(G.createSelector)(lu,({disableMobileNavbar:e})=>e),Eu=Object(G.createSelector)(vu,yu,(e,t)=>Boolean(e||t)),wu=(Object(G.createSelector)(hu,fu,Eu,mu,e=>e.params&&e.params.feedType===Be.Subscriptions,(e,t,n,r,o)=>!e&&!t&&(!n||r)&&!o),Object(G.createSelector)(e=>e.params.integration,e=>!!e&&["ya_search_app_ios"].includes(e))),Su=Object(G.createSelector)(Eu,fu,Ml,wu,_u,(e,t,n,r,o)=>e&&!t&&!n&&!r&&!o),ku=Object(G.createSelector)(e=>e.params.product,lu,(e,{isInterestsDesktop:t,isInterestsMobile:n,isInterestsZenApp:r,isInterestsZenAppIos:o})=>{switch(e){case Qn.SITE_DESKTOP:case Qn.MODAL_LIB:return t;case Qn.SITE_MOBILE:return n;case Qn.ZEN_APP:return r;case Qn.ZEN_APP_IOS:return o;default:return!1}}),Cu=Object(G.createSelector)(lu,bu,({isSocialProfileEnabled:e},t)=>e||t.profileEnabled),Ou=Object(G.createSelector)(e=>e.auth&&e.auth.info,e=>e),Tu=Object(G.createSelector)(Ou,e=>Boolean(e&&e.isAuthorized)),Pu=Object(G.createSelector)(Ou,e=>e&&e.publicId?(e=>ae(bn,{socialProfileId:e}))(e.publicId):void 0),Au=(Object(G.createSelector)(lu,({iface:e})=>e.blockFeedBannerVisible,({iface:e})=>e.isAdfoxSmartVisible,Su,({isZenUnifiedEnabled:e,isZenOneOtherCountries:t},n,r,o)=>n?Se.BlockFeedBanner:r?Se.AdfoxSmartBanner:o&&(e||t)?Se.Navbar:Se.Normal),Object(G.createSelector)(fu,e=>e.channel,e=>e.params.currentUrl,(e,t,n)=>e?"feed_native":(null==t?void 0:t.status)===Ue.Ok&&n?du(n):"feed_main"),e=>e.params.clientExperiments||[]),Ru=Object(G.createSelector)(Au,e=>e.includes("zen_insert_multiple_placeholders:exp")),xu=Object(G.createSelector)(Au,e=>e.includes("ntp_morda_extended_zen_widget:exp"));let Nu;!function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.SamsungMobile=2]="SamsungMobile"}(Nu||(Nu={}));const Iu=[Or.SMALL,Or.BIG],Lu=e=>Iu.includes(e),ju={[kr.ONE_COLUMN]:[[Or.SMALL]],[kr.TWO_COLUMNS]:[[Or.SMALL,Or.SMALL],[Or.BIG],[Or.BIG]],[kr.TWO_COLUMN_SMALL_CARDS]:[[Or.SMALL,Or.SMALL]],[kr.THREE_COLUMNS]:[[Or.SMALL,Or.SMALL,Or.SMALL],[Or.BIG,Or.SMALL],[Or.SMALL,Or.BIG]],[kr.THREE_COLUMNS_INFINITY]:[[Or.SMALL,Or.SMALL,Or.SMALL],[Or.BIG,Or.SMALL],[Or.SMALL,Or.BIG]],[kr.THREE_COLUMNS_FIRST_BIG]:[[Or.BIG,Or.SMALL],[Or.SMALL,Or.BIG],[Or.SMALL,Or.SMALL,Or.SMALL]],[kr.THREE_COLUMNS_SMALL_CARDS]:[[Or.SMALL,Or.SMALL,Or.SMALL]]},Mu=(e,t)=>Lu(e)?(e=>{switch(e){case Or.SMALL:return 1;case Or.BIG:return 2;default:return console.error(`Item size is wrong: ${e}`),1}})(e):xr[t].columnCount,Du=(()=>{const e={};return t=>{var n;const r=null!==(n=e[t])&&void 0!==n?n:(e=>{const t=ju[e],n=t.reduce((e,t)=>e+t.length,0),r=t.reduce((e,t,n)=>[...e,...t.map((e,t)=>[n,t])],[]);return{layout:t,countItems:n,countRows:t.length,positionMap:r,getSizeByIndex:e=>{const[o,s]=r[e%n];return t[o][s]}}})(t);return e[t]=r,r}})(),Fu=e=>e.feed,Bu=(e,t)=>{if(e.feed&&e.feed.items[t])return e.feed.items[t]},Uu=(e,t,n)=>{const r=Bu(e,t);if(Wr(r,`item with id '${t}' not found`),r.type!==n)throw new Error(`expects item.type '${n}' but got '${r.type}'`);return r},zu=(e,t,n)=>{const r=((e,t)=>e.feed&&e.feed.items[t]?e.feed.items[t]:e.videoModal&&e.videoModal.videoFeed[t]?e.videoModal.videoFeed[t]:void 0)(e,t);if(!r)throw new Error(`item with id '${t}' not found`);if(!n.includes(r.type))throw new Error(`expects item.type '${n.join(",")}' but got '${r.type}'`);return r},Hu=(()=>{const e={itemsOrder:[],result:[]};return t=>{const{items:n,itemsOrder:r}=Fu(t);return e&&e.itemsOrder===r?e.result:(e.itemsOrder=r,e.result=r.map(e=>{const{type:t,pos:r,packId:o,replaceWith:s}=Object.assign({replaceWith:void 0,pos:void 0,packId:void 0},n[e]);return{id:e,type:t,pos:r,packId:o,replaceWith:s}}),e.result)}})(),$u=(Object(G.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),Object(G.createSelector)(Fu,e=>{const{gridType:t}=e;return xr[t].columnCount})),Vu=Object(G.createSelector)(Hu,e=>e.feed.gridType,lu,(e,t,{multiplePlaceholdersSkipItemTypes:n})=>{const r=[],o={},s={},i=xr[t],a=Du(t),{rowsBelowPlaceholders:c,handleRow:l,placeholdersGroupIndexes:u}=((e=(()=>!0))=>{const t={},n={};let r=[],o=!1,s=void 0;return{rowsBelowPlaceholders:t,placeholdersGroupIndexes:n,handleRow:(i,a)=>{i.some(e=>e.type===Cr.PLACEHOLDER)?(o=!0,r.push(a)):(e(i)&&(s="number"==typeof s?s+1:0),o&&(o=!1,r.forEach((e,r)=>{t[e]=s,n[e]=r}),r=[]))}}})(e=>!e.some(e=>n.includes(e.type)));let d=-1;return e.forEach(e=>{0===r.length&&r.push([]),r[r.length-1].reduce((e,n)=>e+Mu(n.size,t),0)>=i.columnCount&&r.push([]);const n=(e=>Rr[e]?Rr[e].some(e=>Lu(e)):void 0)(e.type);n&&d++,void 0===n&&console.error("Unsupported ItemType",e);const s=n?a.getSizeByIndex(d):Or.FREE,c=Rr[e.type];c&&c.includes(s)||console.warn("Invalid item size:",s,e.type,e.id);const l=Mu(s,t),u=r[r.length-1].reduce((e,n)=>e+Mu(n.size,t),0);u+l>i.columnCount&&(console.warn(`Invalid layouting, try insert in row ${u}/${i.columnCount} item with width ${l}`),r.push([]));const p=r.length-1,h=Object.assign({},e,{size:s,row:p});o[e.id]=h,r[p].push(h)}),{elements:o,rows:r,additionalData:s}}),Wu=Object(G.createSelector)(Hu,e=>e.filter(({type:e})=>e===Cr.PLACEHOLDER||e===Cr.CARD_PLACEHOLDER).map(({id:e})=>e)),qu=(Object(G.createSelector)(Wu,(e,t)=>t,(e,t)=>e.indexOf(t)),Object(G.createSelector)(e=>e.params.isAdaptiveDesign,e=>e?xe.Generic:null)),Gu=(e,t)=>{return Uu(e,t,Cr.USER_QUESTION).parentId};Object(G.createSelector)(Gu,(e,t)=>{const n=Vu(e),r=Gu(e,t),o=n.elements[r].row;return n.rows[o]},$u,(e,t,n)=>{const r=t[0].id,o=t[t.length-1].id;if(1===n)return Tr.Center;switch(e){case r:return Tr.Left;case o:return Tr.Right;default:return Tr.Center}}),Object(G.createSelector)(({params:e})=>e.zenFeatures.color_theme,e=>!1),Object(G.createSelector)($u,qu,lu,(e,t,{isAdsense:n})=>({columnCount:e,rubberyType:t,isAdsense:n,isMordaDesktop:Boolean(!1),isRedesign:Boolean(!1)})),Object(G.createSelector)(({feed:e})=>e.displayedRowsNumber,({feed:e})=>e.countRowsBeforeBlock,(e,t)=>e===t),Object(G.createSelector)(Vu,xu,(e,t)=>{const n=t?4:2;let r=0;for(let t=0;r<e.rows.length&&t<n;r++){e.rows[r].some(e=>e.type===Cr.PLACEHOLDER)||t++}return r}),Object(G.createSelector)(Fu,Ru,({gridType:e},t)=>t?180:xr[e].rowDisplayStep),Object(G.createSelector)(lu,({params:e})=>e.isIceStart,({rezenInterestsOnboardingSiteDesktop:e},t)=>e.isIceForceShow&&t);let Ku,Yu;"undefined"!=typeof document&&(void 0!==document.hidden?(Yu="visibilityState",Ku="visibilitychange"):void 0!==document.mozHidden?(Yu="mozVisibilityState",Ku="mozvisibilitychange"):void 0!==document.msHidden?(Yu="msVisibilityState",Ku="msvisibilitychange"):void 0!==document.webkitHidden&&(Yu="webkitVisibilityState",Ku="webkitvisibilitychange"));const Qu=()=>!Yu||"visible"===document[Yu],Zu=Qu,Ju=e=>{if(!Ku)return()=>{};const t=Ku;let n=Zu(),r=!1;const o=()=>{if(!r){const t=Zu();n!==t&&(n=t,e(t))}};return document.addEventListener(t,o),document.addEventListener("resume",o),()=>{r=!0,document.removeEventListener(t,o)}};n(147),n(126);const Xu=il("animated-placeholder"),ed=e=>{return Object(r.forwardRef)((t,n)=>{const r=nl(t,{className:Xu("section")});return o.a.createElement(e,c({ref:n},r))})},td=ed("div"),nd=Object(r.forwardRef)((e,t)=>{const{isAnimated:n=!0,children:r}=e,s=X(e,["isAnimated","children"]),i=nl(s,{className:Xu()});return o.a.createElement("div",c({ref:t},i),n?(e=>{const t=o.a.Children.count(e),n=1.6+.15*t,r=.25*n;return o.a.Children.map(e,(e,s)=>o.a.cloneElement(e,{style:Object.assign({},e.props.style,{animationDelay:`${r/(t-1)*s}s`,animationDuration:`${n}s`})}))})(r):r)});n(127);const rd=$a("title-placeholder"),od=e=>{let{size:t="2",className:n}=e,r=X(e,["size","className"]);const s=Object.assign({},r,{className:$a.mix(rd(),n)});switch(t){case"2":return o.a.createElement("h2",s);case"3":return o.a.createElement("h3",s);default:return null}};n(143);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sd=function(e,t){return(sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function id(e,t){function n(){this.constructor=e}sd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function ad(e){return e&&"function"==typeof e.schedule}var cd=Array.isArray||function(e){return e&&"number"==typeof e.length};function ld(e){return"function"==typeof e}var ud=!1,dd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;ud=e},get useDeprecatedSynchronousErrorHandling(){return ud}};function pd(e){setTimeout(function(){throw e})}var hd={closed:!0,next:function(e){},error:function(e){if(dd.useDeprecatedSynchronousErrorHandling)throw e;pd(e)},complete:function(){}};function fd(e){return null!=e&&"object"==typeof e}var md,bd={e:{}};function gd(){try{return md.apply(this,arguments)}catch(e){return bd.e=e,bd}}function vd(e){return md=e,gd}function yd(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}yd.prototype=Object.create(Error.prototype);var _d=yd,Ed=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var i=-1,a=r?r.length:0;n;)n.remove(this),n=++i<a&&r[i]||null;if(ld(o))vd(o).call(this)===bd&&(t=!0,e=e||(bd.e instanceof _d?wd(bd.e.errors):[bd.e]));if(cd(s))for(i=-1,a=s.length;++i<a;){var c=s[i];if(fd(c))if(vd(c.unsubscribe).call(c)===bd){t=!0,e=e||[];var l=bd.e;l instanceof _d?e=e.concat(wd(l.errors)):e.push(l)}}if(t)throw new _d(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function wd(e){return e.reduce(function(e,t){return e.concat(t instanceof _d?t.errors:t)},[])}var Sd="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),kd=function(e){function t(n,r,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,s._parentSubscription=null,arguments.length){case 0:s.destination=hd;break;case 1:if(!n){s.destination=hd;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new Cd(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new Cd(s,n,r,o)}return s}return id(t,e),t.prototype[Sd]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(Ed),Cd=function(e){function t(t,n,r,o){var s,i=e.call(this)||this;i._parentSubscriber=t;var a=i;return ld(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==hd&&(ld((a=Object.create(n)).unsubscribe)&&i.add(a.unsubscribe.bind(a)),a.unsubscribe=i.unsubscribe.bind(i))),i._context=a,i._next=s,i._error=r,i._complete=o,i}return id(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;dd.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=dd.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):pd(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;pd(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};dd.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),dd.useDeprecatedSynchronousErrorHandling)throw e;pd(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!dd.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return dd.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(pd(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(kd),Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return id(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(kd),Td=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return id(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(kd);var Pd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ad(){}function Rd(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:Ad}var xd=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof kd)return e;if(e[Sd])return e[Sd]()}return e||t||n?new kd(e,t,n):new kd(hd)}(e,t,n);if(r?r.call(o,this.source):o.add(this.source||dd.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),dd.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){dd.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof kd?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Nd(t))(function(t,r){var o;o=n.subscribe(function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Pd]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Rd(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Nd(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function Nd(e){if(e||(e=dd.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Id=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},Ld=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,pd),t}};function jd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Md=jd(),Dd=function(e){return function(t){for(var n=e[Md]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},Fd=function(e){return function(t){var n=e[Pd]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Bd=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Ud(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var zd=function(e){if(e instanceof xd)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[Pd])return Fd(e);if(Bd(e))return Id(e);if(Ud(e))return Ld(e);if(e&&"function"==typeof e[Md])return Dd(e);var t=fd(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Hd(e,t,n,r,o){if(void 0===o&&(o=new Td(e,n,r)),!o.closed)return zd(t)(o)}function $d(e,t){return new xd(t?function(n){var r=new Ed,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Id(e))}var Vd={};var Wd=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new qd(e,this.resultSelector))},e}(),qd=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return id(t,e),t.prototype._next=function(e){this.values.push(Vd),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Hd(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){var s=this.values,i=s[n],a=this.toRespond?i===Vd?--this.toRespond:this.toRespond:0;s[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Od);function Gd(e,t){return function(n){return n.lift(new Kd(e,t))}}var Kd=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Yd(e,this.predicate,this.thisArg))},e}(),Yd=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return id(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(kd);function Qd(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Zd(e,t))}}var Zd=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Jd(e,this.project,this.thisArg))},e}(),Jd=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return id(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(kd);function Xd(e,t){return function(n){return n.lift(new ep(e,t))}}var ep=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new tp(e,this.compare,this.keySelector))},e}(),tp=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return id(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=vd(this.keySelector)(e))===bd)return this.destination.error(bd.e);var n=!1;if(this.hasKey){if((n=vd(this.compare)(this.key,t))===bd)return this.destination.error(bd.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(kd);function np(e){var t=new xd(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}var rp=new xd(function(e){return e.complete()});function op(e){return e?function(e){return new xd(function(t){return e.schedule(function(){return t.complete()})})}(e):rp}function sp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(ad(n)?e.pop():n=void 0,e.length){case 0:return op(n);case 1:return n?$d(e,n):np(e[0]);default:return $d(e,n)}}function ip(e,t){if(!t)return e instanceof xd?e:new xd(zd(e));if(null!=e){if(function(e){return e&&"function"==typeof e[Pd]}(e))return function(e,t){return new xd(t?function(n){var r=new Ed;return r.add(t.schedule(function(){var o=e[Pd]();r.add(o.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}:Fd(e))}(e,t);if(Ud(e))return function(e,t){return new xd(t?function(n){var r=new Ed;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}:Ld(e))}(e,t);if(Bd(e))return $d(e,t);if(function(e){return e&&"function"==typeof e[Md]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new xd(t?function(n){var r,o=new Ed;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(t.schedule(function(){r=e[Md](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),o}:Dd(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}var ap=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new cp(e,this.project,this.concurrent))},e}(),cp=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return id(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new Td(this,void 0,void 0);this.destination.add(r),Hd(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Od);function lp(e){return e}function up(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function e(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(e(function(e,r){return ip(t(e,r)).pipe(Qd(function(t,o){return n(e,t,r,o)}))},r))}:("number"==typeof n&&(r=n),function(e){return e.lift(new ap(t,r))})}(lp,e)}function dp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&ad(e[1])?ip(e[0]):up(1)(sp.apply(void 0,e))}function pp(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}pp.prototype=Object.create(Error.prototype);var hp=pp,fp=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return id(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(Ed),mp=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return id(t,e),t}(kd),bp=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return id(t,e),t.prototype[Sd]=function(){return new mp(this)},t.prototype.lift=function(e){var t=new gp(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new hp;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new hp;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new hp;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new hp;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new hp;return this.hasError?(e.error(this.thrownError),Ed.EMPTY):this.isStopped?(e.complete(),Ed.EMPTY):(this.observers.push(e),new fp(this,e))},t.prototype.asObservable=function(){var e=new xd;return e.source=this,e},t.create=function(e,t){return new gp(e,t)},t}(xd),gp=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return id(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):Ed.EMPTY},t}(bp);function vp(){return function(e){return e.lift(new yp(e))}}var yp=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new _p(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),_p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return id(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(kd),Ep=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return id(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new Ed).add(this.source.subscribe(new Sp(this.getSubject(),this))),e.closed?(this._connection=null,e=Ed.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return vp()(this)},t}(xd).prototype,wp={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Ep._subscribe},_isComplete:{value:Ep._isComplete,writable:!0},getSubject:{value:Ep.getSubject},connect:{value:Ep.connect},refCount:{value:Ep.refCount}},Sp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return id(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(mp);function kp(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new Cp(r,t));var o=Object.create(n,wp);return o.source=n,o.subjectFactory=r,o}}var Cp=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(e);return o.add(t.subscribe(r)),o},e}();function Op(){return new bp}const Tp=e=>{const t=Object(r.useRef)({isCalled:!1});return t.current.isCalled||(t.current={isCalled:!0,value:e()}),t.current.value};var Pp=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return id(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new hp;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(bp);const Ap=e=>{const t=Object(r.useRef)(e);return Object(r.useEffect)(()=>{t.current=e},[e]),Object(r.useCallback)((...e)=>t.current(...e),[])},Rp={},xp=(e,t={})=>{const{root:n,rootMargin:o,threshold:s}=t,i=Ap((t,n)=>{Object(Zt.unstable_batchedUpdates)(()=>{e(t,n)})});return(e=>{const t=Object(r.useRef)(null);return Object(r.useCallback)(n=>{t.current&&(t.current(),t.current=null),n&&(e.observe(n),t.current=(()=>{e.unobserve(n)}))},[e])})(Object(r.useMemo)(()=>"undefined"!=typeof window?new IntersectionObserver(i,{root:n,rootMargin:o,threshold:s}):Rp,[n,o].concat(s)))},Np=(e,t)=>{const n=Tp(()=>new Pp(null));return[((e,t={},n=(e=>e.slice(0,1)))=>xp(t=>{e(n(t))},t))(e=>{e.forEach(e=>n.next(e.intersectionRatio))},{threshold:e},t),n]},Ip=e=>{Object(r.useEffect)(e,[])},Lp=(e=.8,t)=>{const n=[0,e],[r,o]=Np(n,t),s=(()=>{const[e,t]=Tp(()=>{const e=new Pp(Qu()),t=e.pipe(Xd());return[e,t]});return Ip(()=>Ju(t=>{e.next(t)})),t})(),[i,a]=Tp(()=>{const t=o.pipe(Gd(e=>null!==e));return[e=>e>0,t=>t>=e].map(e=>(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return ad(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&cd(e[0])&&(e=e[0]),$d(e,r).lift(new Wd(n))})(t.pipe(Qd(e)),s).pipe(Qd(([e,t])=>e&&t),Xd(),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];ad(n)?e.pop():n=null;var r=e.length;return dp(1!==r||n?r>0?$d(e,n):op(n):np(e[0]),t)}}(null),function(e){return vp()(kp(Op)(e))}))});return[r,a,i]};function jp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return ad(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof xd?e[0]:up(n)($d(e,r))}var Mp=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return id(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return id(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Ed)),Dp=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Fp=new(function(e){function t(n,r){void 0===r&&(r=Dp.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return id(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Dp))(Mp);function Bp(e){return!cd(e)&&e-parseFloat(e)+1>=0}function Up(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var zp=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Hp(e,this.keySelector,this.flushes))},e}(),Hp=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add(Hd(o,r)),o}return id(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(Od);var $p=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Vp(e,this.project))},e}(),Vp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return id(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new Td(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Hd(this,e,t,n,o)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t}(Od);function Wp(e){return void 0===e&&(e=Fp),Qd(function(t){return new qp(t,e.now())})}var qp=function(){return function(e,t){this.value=e,this.timestamp=t}}();function Gp(){return function(e){return e.lift(new Kp)}}var Kp=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Yp(e))},e}(),Yp=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return id(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(kd);var Qp=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?Jp:Zp}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),Zp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return id(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(kd),Jp=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return id(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,o=this.count;this.count++,o%n==0&&r.push([]);for(var s=r.length;s--;){var i=r[s];i.push(e),i.length===t&&(r.splice(s,1),this.destination.next(i))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(kd);const Xp=({timeout:e=800,onShow:t,onDeepwatch:n,isVisible$:r})=>{const o=(()=>{const e=new bp;return Ip(()=>()=>{e.next(),e.complete()}),e})();((e,t)=>{const n=Ap(t);Ip(()=>{const t=e().subscribe({next:n});return()=>t.unsubscribe()})})(()=>eh(r,o,e).pipe(function(e,t){return function(n){return n.lift(new zp(e,t))}}(e=>e.type)),e=>{"show"===e.type&&t?Object(Zt.unstable_batchedUpdates)(()=>{t()}):"deepwatch"===e.type&&n&&Object(Zt.unstable_batchedUpdates)(()=>{n(e.timestamp)})})},eh=(e,t,n)=>{return jp(e,t.pipe(Qd(()=>!1))).pipe(function e(t,n){return"function"==typeof n?function(r){return r.pipe(e(function(e,r){return ip(t(e,r)).pipe(Qd(function(t,o){return n(e,t,r,o)}))}))}:function(e){return e.lift(new $p(t))}}(e=>e?jp(sp("visible"),function(e,t,n){void 0===e&&(e=0);var r=-1;return Bp(t)?r=Number(t)<1?1:Number(t):ad(t)&&(n=t),ad(n)||(n=Fp),new xd(function(t){var o=Bp(e)?e:+e-n.now();return n.schedule(Up,o,{index:0,period:r,subscriber:t})})}(n).pipe(Qd(()=>"timeout"))):sp("invisible")),Wp(),function(e){return e?kp(function(){return new bp},e):kp(new bp)}(e=>{const t=jp(e.pipe(Gp(),Gd(([e,t])=>"visible"===e.value&&"timeout"===t.value)),e.pipe(Gp(),Wp(),Gd(({value:[e,t],timestamp:r})=>"visible"===e.value&&"invisible"===t.value&&r>e.timestamp+n))).pipe(Qd(()=>({type:"show"})));return jp(t,e.pipe(function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new Qp(e,t))}}(3,1),Gd(([e,t,n])=>"visible"===e.value&&"timeout"===t.value&&"invisible"===n.value),Qd(([e,,t])=>({type:"deepwatch",timestamp:t.timestamp-e.timestamp}))))}))},th=Object(r.createContext)(null),nh=Object(r.createContext)(void 0),rh=Object(r.createContext)(null),oh=e=>{var t;const n=sh(),{bulkParams:o,statEvents:s}=null!==(t=e)&&void 0!==t?t:{};return Object(r.useCallback)((e,{bulkReplaceMap:t,eventReplaceMap:r,payload:i})=>{o&&s&&n(e,{bulkParams:o,bulkReplaceMap:t,statEvents:s,eventReplaceMap:r,payload:i})},[o,n,s])},sh=()=>{const{zenApi:e}=Wn(),t=Object(r.useContext)(th),n=Object(r.useContext)(nh),o=Object(r.useMemo)(()=>null===t?{}:{rowIndex:t},[t]),s=Object(r.useContext)(rh),i=Object(r.useMemo)(()=>{if(null!==s)return{__place_param__:s.place,__page_type__:s.pageType}},[s]),a=Object(r.useMemo)(()=>{if(null!=n)return{__feed_item_pos__:String(n)}},[n]);return Object(r.useCallback)((t,{bulkParams:n,bulkReplaceMap:r,statEvents:s,eventReplaceMap:c,payload:l,extendStatMeta:u})=>{e.logBulkEvents(t,{statEvents:s,eventReplaceMap:c,bulkParams:n,bulkReplaceMap:Object.assign({},i,a,r),statMeta:Object.assign({},o,u),payload:l})},[i,a,o,e])},ih=e=>{const t=sh();return Object(r.useCallback)(({commentId:n}={})=>{e&&t("show",Object.assign({},e,{bulkReplaceMap:{__with_comment_id__:n||"__with_comment_id__"}}))},[t,e])},ah=e=>{const t=sh();return Object(r.useCallback)(({commentId:n,clickOnComment:r,videoPos:o,link:s}={})=>{e&&t("click",Object.assign({},e,{bulkReplaceMap:{__click_on_comment__:r||"__click_on_comment__",__with_comment_id__:n||"__with_comment_id__",_video_pos_:o||"_video_pos_"},extendStatMeta:{link:s}}))},[t,e])},ch=({statObject:e,triggerEvent:t})=>{const n=sh();return Object(r.useCallback)(()=>{e&&n("feedback_favourite",Object.assign({},e,{eventReplaceMap:{__pe__:t||"__pe__"}}))},[n,e,t])},lh=({statObject:e,triggerEvent:t})=>{const n=sh();return Object(r.useCallback)(()=>{e&&n("feedback_cancel_favourite",Object.assign({},e,{eventReplaceMap:{__pe__:t||"__pe__"}}))},[n,e,t])},uh=({statObject:e})=>{const t=sh();return Object(r.useCallback)(()=>{e&&t("feedback_cancel_block",e)},[t,e])},dh=e=>{var t,n,r;if("undefined"!=typeof document)return"abr_native"===e?null===(t=window)||void 0===t?void 0:null===(n=t.yandex)||void 0===n?void 0:n.mobileZen:null===(r=window)||void 0===r?void 0:r.ZENKIT},ph=e=>(t,n,{zenApi:r,zenkitApi:o})=>{const s=n(),i=jl(s,e);if(!i)return;const{product:a}=s.params,c=dh(a);c&&"onPageStatusChanged"in c?c.onPageStatusChanged(!0):o?o.channelStatusChanged({id:i.id,title:i.title,image:i.logo,link:i.feedLink,exportLink:i.feedApiLink,logoBgColor:i.logoBackgroundColor,channelType:i.type},i.type,i.status):r.invalidateCache()},hh=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n},broadcastable:!0,isSourceAction:!0}),fh=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n}}),mh=hh("SOURCE_SUBSCRIBE"),bh=hh("SOURCE_UNSUBSCRIBE"),gh=hh("SOURCE_BLOCK"),vh=hh("SOURCE_UNBLOCK"),yh=hh("SOURCE_DISLIKE"),_h=(fh("USER_PROFILE_REQUEST"),fh("FEED_UPDATE"),e=>(t,n,{globalBus:r})=>{const o=Object.assign({},e,{forceRefresh:!0});r&&r.emit("requestSourceOpen",o)}),Eh=e=>{const t=Kt();return Object(r.useCallback)(n=>{switch(n){case"subscribed":t(mh(e)),t(ph(e));break;case"blocked":t(gh(e)),t(ph(e));break;case"not_subscribed":t(bh(e)),t(ph(e))}},[t,e])},wh=()=>{},Sh=()=>{},kh=({source:e,onClick:t})=>{const{statEvents:n,bulkParams:o}=e,s=Object(r.useMemo)(()=>({statEvents:n,bulkParams:o}),[o,n]),i=ih(s),a=ah(s),[c,l]=Lp();Xp({isVisible$:l,onShow(){i()}});const u=Qt(e=>e.params.isWebview||yu(e)),d=Object(r.useCallback)(e=>{a(),t&&t(e)},[t,a]),p=lh({statObject:s}),h=ch({statObject:s}),f=(({statObject:e,triggerEvent:t})=>{const n=sh();return Object(r.useCallback)(()=>{e&&n("feedback_block",Object.assign({},e,{eventReplaceMap:{__pe__:t||"__pe__"}}))},[n,e,t])})({statObject:s}),m=uh({statObject:s}),b=Eh(e);return{handleClick:d,ref:c,isVisible$:l,shouldToggleOnClick:u,onToggleBlock:(({status:e,setStatus:t=wh,onUnsubscribe:n=wh,onBlock:o=wh,onUnblock:s=wh})=>Object(r.useCallback)(()=>{switch(e){case"subscribed":n(),t(Ee.NOT_SUBSCRIBED);break;case"blocked":s(),t(Ee.NOT_SUBSCRIBED);break;case"not_subscribed":o(),t(Ee.BLOCKED)}},[o,s,n,t,e]))({onUnsubscribe:p,onBlock:f,onUnblock:m,setStatus:b,status:e.status}),onToggleSubscribe:(({setStatus:e,status:t,onUnsubscribe:n=Sh,onSubscribe:o=Sh})=>Object(r.useCallback)(()=>{switch(t){case"subscribed":n(),e(Ee.NOT_SUBSCRIBED);break;case"blocked":case"not_subscribed":o(),e(Ee.SUBSCRIBED)}},[o,n,e,t]))({onUnsubscribe:p,onSubscribe:h,setStatus:b,status:e.status})}};n(144);const Ch=new Map,Oh="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let Th;function Ph(e,t={bubbles:!1,cancelable:!1,detail:void 0}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail),n}Oh&&(window&&"function"!=typeof window.CustomEvent&&(Ph.prototype=Object.create(window.Event.prototype),window.CustomEvent=Ph),Th=new Ph("visible"));const Ah=(e,t,n)=>new Promise((r,o)=>{const s=()=>{const t=new Image;t.onload=r,t.onerror=o,t.src=e};if(Oh&&t&&n){const e=xh(Rh,n),r=()=>{s(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else s()}),Rh=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(Th)})},xh=(e,t)=>{const n=JSON.stringify(t);if(Ch.has(n))return Ch.get(n);const r=new IntersectionObserver(Rh,t);return Ch.set(n,r),r};class Nh extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={status:"pending"},t}_loadImage(){this.setState({status:"pending"}),Ah(this.props.src).then(()=>{this.setState({status:"success"})},()=>{this.setState({status:"error"})})}componentDidMount(){this._loadImage()}componentDidUpdate(e){e.src!==this.props.src&&this._loadImage()}render(){const{src:e,children:t}=this.props,{status:n}=this.state;return t(e,n)}}const Ih=()=>{const e=tn();return Object(r.useMemo)(()=>{const t=e.getState();return t.params&&t.params.host||""},[e])},Lh=Object(r.forwardRef)((e,t)=>{let n=Object.assign({},e);const r=Ih();return o.a.createElement(jh,c({},n,{host:r,rootRef:t}))}),jh=e=>{let{target:t="_blank",href:n,rel:r="",rootRef:s,host:i}=e,a=X(e,["target","href","rel","rootRef","host"]);const l=new Set(r.split(/\s+/).filter(Boolean));return Boolean(n&&Zs(n).utm_referrer)&&l.add("noreferrer"),"_blank"===t&&n&&!n.includes(i)&&l.add("noopener"),o.a.createElement("a",c({},a,{href:n,rel:[...l.values()].join(" ")||void 0,target:t,ref:s}))};n(145);var Mh=n(5),Dh=n.n(Mh),Fh=n(6),Bh=n.n(Fh),Uh=new Dh.a({id:"zen-star--inline",use:"zen-star--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="zen-star--inline">\n    <path d="M17 9.24194V8.75806C14.1121 8.58296 12.478 8.20496 11.1214 6.87857C9.79504 5.52203 9.41704 3.88792 9.24194 1H8.75806C8.58296 3.88792 8.20496 5.52203 6.87857 6.87857C5.52203 8.20496 3.88792 8.58296 1 8.75806V9.24194C3.88792 9.41704 5.52203 9.79504 6.87857 11.1214C8.20496 12.478 8.58296 14.1121 8.75806 17H9.24194C9.41704 14.1121 9.79504 12.478 11.1214 11.1214C12.478 9.79504 14.1121 9.41704 17 9.24194Z" />\n</symbol>'}),zh=(Bh.a.add(Uh),Uh);const{id:Hh,viewBox:$h}=zh,Vh=$a("star-tag-view"),Wh=({label:e,size:t="inline",onClick:n,theme:r="classic",isHoverAnimationEnabled:s,isNoWrap:i,mix:a})=>o.a.createElement("div",{className:$a.mix(Vh({size:t,theme:r,isHoverAnimationEnabled:s,isNoWrap:i}),a),onClick:n},o.a.createElement("div",{className:Vh("icon-box")},o.a.createElement("svg",{className:Vh("svg-icon"),viewBox:$h},o.a.createElement("use",{xlinkHref:`#${Hh}`}))),"‌",o.a.createElement("h3",{className:Vh("label")},e)),qh=$a("channel-row"),Gh="…",Kh=["numbered","default"];class Yh extends r.Component{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{mode:t,onToggleBlock:n,shouldToggleOnClick:r,onClick:o}=this.props;"unblock"===t?(e.preventDefault(),n()):r?(e.preventDefault(),e.stopPropagation(),this._onToggle(e)):o(e)}),this._onToggle=(e=>{const{mode:t,onToggleSubscribe:n,onToggleBlock:r}=this.props;"unblock"!==t&&"no-action"!==t&&(e.preventDefault(),e.stopPropagation(),"block"===t?r():n())}),this._shorten=(e=>{const{isMobile:t,isNotShortenDescription:n}=this.props,r=t?70:220;if(n||e.length<=r)return e;const o=e.substr(0,r),s=o.split("").reverse().join("").match(/ /);return s&&s.index?o.substr(0,o.length-s.index-1)+Gh:o+Gh}),this._renderDescription=(()=>{const{description:e}=this.props.source;return e?o.a.createElement("div",{className:qh("description")},this._shorten(e)):null}),t}render(){const{component:e,className:t,mode:n,target:r,source:s,isMobile:i,rootRef:a,shouldToggleOnClick:c,isRedesign:l,isSocialSubscribeLoginExperiment:u}=this.props,{logo:d,logoBackgroundColor:p,title:h,status:f,type:m,feedLink:b}=s,g=$a.mix(qh({mode:n,status:f,type:m,isMobile:i,isRedesign:l}),t),v=u&&Kh.includes(n);return o.a.createElement(e,{ref:a,className:g},o.a.createElement(Lh,{href:b,target:r,className:qh("wrap"),onClick:this._onClick},"interest"===m?o.a.createElement("div",{className:qh("interest-container")},o.a.createElement(Wh,{label:h,size:"s",theme:"classic",isHoverAnimationEnabled:!i,mix:qh("star-tag")})):o.a.createElement(o.a.Fragment,null,o.a.createElement(Nh,{src:d},(e,t)=>"success"===t?o.a.createElement("div",{className:qh("icon"),style:{backgroundImage:`url(${d})`,backgroundColor:p}}):o.a.createElement("div",{className:qh("icon",{isLoading:!0})})),o.a.createElement("div",{className:qh("texts")},o.a.createElement("div",{className:qh("title",{isClickable:!c})},h),this._renderDescription())),o.a.createElement("button",{className:qh("sub",{isHidden:v}),onClick:this._onToggle})))}}Yh.defaultProps={component:"div",mode:"default",shouldToggleOnClick:!1};const Qh=(e,t)=>{const{globalBus:n}=Wn(),o=Qt(e=>e.params.isSpaApp),s=Qt(bu).redesign;return Object(r.useCallback)(r=>{t&&t(r),e&&e.feedLink&&("user"!==e.type||s)&&(!o||r.ctrlKey||r.metaKey||r.shiftKey||(r.preventDefault(),n.emit("requestSourceOpen",e)))},[o,n,t,e,s])},Zh=({component:e="div",mode:t="default",target:n,source:r,isNotShortenDescription:s,onClick:i,isMobile:a,className:c,isRedesign:l})=>{const u=Qt(e=>{const t=Tu(e),{subscribeLoginPopupMessage:n}=lu(e);return!t&&n!==eu.empty}),d=Qh(r,i),{ref:p,handleClick:h,onToggleBlock:f,shouldToggleOnClick:m,onToggleSubscribe:b}=kh({source:r,onClick:d});return o.a.createElement(Yh,{component:e,mode:t,target:n,source:r,rootRef:p,isNotShortenDescription:s,onToggleBlock:f,shouldToggleOnClick:m,onClick:h,onToggleSubscribe:b,isMobile:a,className:c,isRedesign:l,isSocialSubscribeLoginExperiment:u})},Jh=()=>Object(G.createSelector)(e=>e,e=>{const t=[],n=[],r=[];return e&&e.forEach(e=>{e&&("interest"===e.type?n.push(e):"user"===e.type?t.push(e):r.push(e))}),{userSources:t,interestSources:n,channelSources:r}}),Xh=()=>{const{zenLogger:e}=Wn(),t=Object(r.useContext)(Gn);if(!t)throw new Error("Translations is not passed");const n=t.__LANG__;return{l10n:Object(r.useCallback)(r=>{const o=((e,t)=>e[t])(t,r);return o||(e&&e.error({message:"Missing translation",details:{lang:n,key:r}}),"")},[e,t,n]),lang:n}},ef=$a("source-list"),tf=Object(r.memo)(({mode:e,isMobile:t,onSourceRequestOpen:n,isRedesign:s,sources:i,containerRef:a,className:c,isPlaceholder:l})=>{const{l10n:u}=Xh(),d=Qt(ku),p=Object(r.useMemo)(Jh,[]),{userSources:h,interestSources:f,channelSources:m}=p(i),b=[{title:u("preferences.users"),sources:h},{title:u("profile.interests-title"),sources:f},{title:u("preferences.channels"),sources:m}],g=r=>r.map(r=>o.a.createElement(Zh,{key:r.id,className:ef("source-block-item"),component:"numbered"===e?"li":"div",source:r,mode:e,target:t?"_blank":void 0,isMobile:Boolean(t),onClick:n,isRedesign:s})),v="numbered"===e?"ol":"div",y={mode:e,isMobile:t,isInterestsEnabled:d,isRedesign:s};return o.a.createElement("div",{ref:a,className:$a.mix(ef(y),c)},o.a.createElement(v,{className:ef("sources",{isPlaceholder:l})},d&&"numbered"!==e?b.map(({title:e,sources:t},n)=>0===t.length?null:o.a.createElement("div",{key:n,className:ef("source-block")},o.a.createElement("div",{className:ef("source-block-title")},e),g(t))):g(i)))});n(142);const nf=$a("channel-row-placeholder"),rf=e=>o.a.createElement("div",nl(e,{className:nf()}),o.a.createElement("div",{className:nf("image")}),o.a.createElement("div",{className:nf("content")},o.a.createElement("div",{className:nf("title")}),o.a.createElement("div",{className:nf("text")})));n(148);const of=$a("back-button-view"),sf=({size:e,className:t,onClick:n,href:r})=>o.a.createElement("a",{href:r,onClick:n,className:$a.mix(of({size:e}),t)},o.a.createElement("div",{className:of("text")}));n(130);var af=new Dh.a({id:"icon-reload-s--inline",use:"icon-reload-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="icon-reload-s--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4a7 7 0 1 0 7 7h-2a5 5 0 1 1-5-5V4z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.586.5L16 5l-4.414 4.5-1-1 2-2.5H9V4h3.586l-2-2.5 1-1z" /></symbol>'}),cf=(Bh.a.add(af),af);n(131);const lf=il("generic-svg"),uf=({symbol:e,height:t,width:n,fill:s,className:i,useClassName:a,svgTop:l=0,svgRight:u=0,svgBottom:d=0,svgLeft:p=0})=>{const{svgSizeProps:h,svgWidth:f,svgHeight:m,id:b}=Object(r.useMemo)(()=>{const{id:r,viewBox:o}=e,[,,s,i]=o.split(/\s+/).map(e=>parseFloat(e));return{svgSizeProps:(({width:e,height:t,viewBox:n})=>{const[,,r,o]=n.split(/\s+/).map(e=>parseFloat(e)),s=r/o;return"number"==typeof e?"number"==typeof t?{width:e,height:t}:{width:e,height:e/s}:"number"==typeof t?{width:t*s,height:t}:{width:r,height:o}})({height:t,width:n,viewBox:`0 0 ${s+p+u} ${i+l+d}`}),svgWidth:s,svgHeight:i,id:r}},[e,t,n,p,u,l,d]);return o.a.createElement("svg",c({className:il.mix(lf(),i)},h,{fill:s,viewBox:[0,0,f+p+u,m+l+d].join(" ")}),o.a.createElement("use",{x:p,y:l,width:f,height:m,className:il.mix(lf("use"),a),xlinkHref:`#${b}`}))},df=Wa("error-reload-button-view"),pf=({title:e,subtitle:t,onClick:n,children:r,size:s="m",link:i,align:a="left"})=>{const{l10n:c}=Xh(),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(uf,{symbol:cf,className:df("icon"),width:"s"===s?14:18}),r||c("onboarding.yabro_interests_retry")),u=i?o.a.createElement("a",{href:i,target:"_self",className:df("button"),onClick:n},l):o.a.createElement("button",{className:df("button"),onClick:n},l);return o.a.createElement("div",{className:df({size:s,align:a})},e&&o.a.createElement("div",{className:df("title")},e),t&&"m"===s&&o.a.createElement("div",{className:df("subtitle")},t),u)},hf=e=>{const t=Object(r.forwardRef)((t,n)=>{const{l10n:r,lang:s}=Xh();return o.a.createElement(e,c({},t,{ref:n,l10n:r,lang:s}))});return t.displayName=Hn("WithTranslation",e),t},ff=$a("desktop-category-view"),mf=ed(od),bf=ed(rf),gf={place:Fe.Category,pageType:De.Category};const vf=hf(class extends r.PureComponent{_renderSources(){const{sources:e}=this.props;return o.a.createElement(rh.Provider,{value:gf},o.a.createElement(tf,{sources:e,mode:"numbered"}))}_renderPlaceholder(){const{containerRef:e,height:t,isFetchThresholdPassed:n}=this.props;return o.a.createElement(nd,{ref:e,className:ff(),style:{minHeight:t},isAnimated:n},o.a.createElement(mf,{size:"2"}),o.a.createElement(bf,{className:ff("row-placeholder")}),o.a.createElement(bf,{className:ff("row-placeholder")}),o.a.createElement(bf,{className:ff("row-placeholder")}),o.a.createElement(bf,{className:ff("row-placeholder")}))}_renderCategory(){const{containerRef:e,title:t,backButtonHref:n,onBackButtonClick:r}=this.props;return o.a.createElement("div",{ref:e,className:ff()},o.a.createElement("div",{className:ff("header")},o.a.createElement(sf,{href:n,onClick:r}),o.a.createElement("h2",{className:ff("title")},t)),this._renderSources())}_renderError(){const{containerRef:e,title:t,backButtonHref:n,onBackButtonClick:r,onRetry:s,l10n:i}=this.props;return o.a.createElement("div",{ref:e,className:ff({type:"error"})},o.a.createElement("div",{className:ff("header")},o.a.createElement(sf,{href:n,onClick:r}),t&&o.a.createElement("h2",{className:ff("title")},t)),o.a.createElement(pf,{title:i("suggest.failure"),onClick:s}))}render(){switch(this.props.status){case _e.Initial:case _e.Pending:return this._renderPlaceholder();case _e.Success:return this._renderCategory();case _e.Error:return this._renderError();default:return null}}}),yf={fetchThreshold:0},_f=e=>({status:_e.Pending,fetchResult:null,fetchError:null,isFetchThresholdPassed:!e.fetchThreshold}),Ef=e=>t=>{const n=Qr(e,e=>Object.assign({},yf,e));class s extends r.PureComponent{constructor(...e){var t;return t=super(...e),i.call(this),t}componentWillUnmount(){this._isUnmounted=!0}render(){const e=Qr(n,(e,t)=>this._asyncDataPropsSelectors[t](this.state,this._fetchers));return o.a.createElement(t,c({},this.props,e))}}s.displayName=Hn("WithAsyncProps",t);var i=function(){this.state=Qr(n,_f),this._isUnmounted=!1,this._fetchers=Qr(n,(e,t)=>{let n;const r=()=>this.state[t],o=e=>new Promise(n=>{this._isUnmounted||this.setState(n=>({[t]:Object.assign({},n[t],e)}),n)});return(...t)=>{let s;const i=e=>(...t)=>{if(s===n)return e(...t)};return o(_f(e)),e.fetchThreshold&&setTimeout(i(()=>{r().status===_e.Pending&&o({isFetchThresholdPassed:!0})}),e.fetchThreshold),s=n=e.fetch(this.props,...t).then(i(e=>{const t={status:_e.Success,fetchResult:e,fetchError:null};return o(t),t}),i(e=>{console.warn(e);const t={status:_e.Error,fetchResult:null,fetchError:e};return o(t),t}))}}),this._asyncDataPropsSelectors=Qr(n,(e,t)=>Object(G.createSelector)(e=>e[t],(e,n)=>n[t],(e,t)=>Object.assign({},e,{fetch:t})))};return s},wf=(e,t=1e3)=>{const n=Sf((t,...n)=>t(e(...n)),t);return(...e)=>t=>n(t,...e)},Sf=(e,t)=>{let n=null,r=null,o=null;return async(...s)=>{o=s,await Promise.resolve(n),o&&(n=ei(t),r=e(...o),o=null),await r}},kf=wf(()=>async(e,t,{zenApi:n,zenLogger:r})=>{const o=t().categories;if(o){if(o.status===_e.Success)return;if(o.status===_e.Pending)return}e({type:"CATEGORIES_REQUEST",payload:null});try{e((e=>({type:"CATEGORIES_RECEIVE",payload:e}))(await n.getCategories()))}catch(t){throw r.error(t),e({type:"CATEGORIES_FAIL",payload:null}),t}}),Cf=wf(e=>async(t,n,{zenApi:r,zenLogger:o})=>{const s=n().category[e];if(s){if(s.status===_e.Success)return;if(s.status===_e.Pending)return}t((e=>({type:"CATEGORY_REQUEST",payload:null,categoryId:e}))(e));try{const n=await r.getCategory(e);t(((e,t)=>({type:"CATEGORY_RECEIVE",payload:t,categoryId:e}))(e,n))}catch(n){throw o.error(n),t((e=>({type:"CATEGORY_FAIL",payload:null,categoryId:e}))(e)),n}});const Of=(e,t)=>ic.get(t.categories,["data","list",e,"title"])||ic.get(t.category,[e,"category","title"]),Tf=Vt((e,t)=>{const n=(e=>e&&e.params&&e.params.id||null)(t.match),r=ic.get(e.category,[n,"data","list"]),o=Ll(e,n)||[];return{categoryId:n,category:Object.assign({},r,{title:Of(n,e)}),categorySources:o}},{pushWithPreservedSearch:pl,getCategories:kf,getCategory:Cf})(Ef({categoryAsyncProps:{fetch:({categoryId:e,getCategory:t})=>t(e),fetchThreshold:200},categoriesAsyncProps:{fetch:({getCategories:e})=>e(),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._fetchCategory=this._withAsyncStatus({fetch:()=>this.props.categoryAsyncProps.fetch()}),this._fetchCategories=this._withAsyncStatus({fetch:()=>this.props.categoriesAsyncProps.fetch()}),this._goToChannels=(e=>{e.preventDefault(),this.props.pushWithPreservedSearch(fn)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(_e.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){this._fetchCategory(),this._fetchCategories()}render(){const{categoryAsyncProps:e,containerRef:t,status:n,height:r,categoryId:s,category:i,categorySources:a}=this.props;return o.a.createElement(vf,c({},i,{id:s,containerRef:t,height:r,sources:a,status:n,isFetchThresholdPassed:e.isFetchThresholdPassed,backButtonHref:fn,onBackButtonClick:this._goToChannels,onRetry:this._fetchCategory}))}}));n(138),n(141),n(146),n(122);const Pf=il("spinner"),Af=100,Rf=16,xf=Af/2,Nf=2e3,If=2*Math.PI*(xf-Rf/2),Lf=[.8,.2],jf=.8*(e=>2*Math.PI*e)(xf-Rf/2),Mf=e=>-.5*(Math.cos(Math.PI*e)-1);class Df extends o.a.Component{constructor(...e){var t;return t=super(...e),this._circleRef=Object(r.createRef)(),this.animateDashOffsetFallback=(()=>{const e=this._circleRef.current;e&&function e(t,n){const r=performance.now();requestAnimationFrame(function o(s){let i=s-r;i>n&&(i=n),t(i),i<n?requestAnimationFrame(o):requestAnimationFrame(()=>e(t,n))})}(t=>{const n=Nf/Lf.length,r=t%n,o=Math.floor(t/n),s=(o-1+Lf.length)%Lf.length,i=Lf[o]-Lf[s];e.style.strokeDashoffset=String(If*(Lf[s]+i*Mf(r/n)))},Nf)}),t}componentDidMount(){this.props.withAnimation&&(document.documentMode||navigator.userAgent.includes("Edge"))&&this.animateDashOffsetFallback()}render(){const e=this.props,{size:t,withAnimation:n}=e,r=X(e,["size","withAnimation"]),s=`0 0 ${Af} ${Af}`,i=(Af-Rf)/2,a={width:t,height:t},l=nl(r,{className:Pf({withAnimation:n}),style:a}),u={strokeWidth:Rf};return o.a.createElement("svg",c({},l,{viewBox:s}),o.a.createElement("circle",{ref:this._circleRef,style:u,className:Pf("circle"),strokeDashoffset:jf,cx:"50",cy:"50",r:i}))}}Df.defaultProps={size:20,className:"",withAnimation:!0};var Ff=Df;const Bf=il("search"),Uf=Object(r.memo)(e=>{const{containerRef:t,inputRef:n,size:s,value:i="",placeholder:a,className:l,style:u,onClear:d,isRedesign:p=!1,withSpinner:h=!1,withAnimation:f=!0}=e,m=X(e,["containerRef","inputRef","size","value","placeholder","className","style","onClear","isRedesign","withSpinner","withAnimation"]),b=Object(r.useRef)(null),g=Object(r.useMemo)(Jc,[]),v=!i,y=Va(Bf({size:s,isEmpty:v,isRedesign:p}),l),_=Object(r.useCallback)(e=>{d&&d(e),b.current&&b.current.focus()},[d]);return o.a.createElement("div",{ref:t,className:y,style:u},h?o.a.createElement("div",{className:Bf("spinner")},o.a.createElement(Ff,{withAnimation:f,className:Bf("spinner-svg"),size:12})):o.a.createElement("div",{className:Bf("magnifier")}),o.a.createElement("input",c({},m,{ref:g(b,n),className:Bf("input"),type:"text",value:i})),v?o.a.createElement("input",{className:Bf("input-placeholder"),type:"text",placeholder:a,disabled:!0}):o.a.createElement("button",{className:Bf("clear"),onClick:_}))});const zf=300,Hf=100,$f=600,Vf=$a("search-container-desktop"),Wf=e=>`${e.value}_${e.status}_${e.triggerKey}`,qf=ed(rf),Gf={place:Fe.Suggest,pageType:De.Suggest};const Kf=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={height:void 0},this._containerRef=Object(r.createRef)(),this._composeContainerRefs=Zc(),this._getFadeDuration=((e,t,n)=>zf*Math.abs(n)),this._getResizeDuration=((e,t)=>{const{height:n}=this.state;let r;if("number"==typeof n){const e=document.documentElement.clientHeight,o=Math.min(n,e);r=Math.min(n+t,e)-o}else r=t;return Math.max(Math.min(Math.abs(r),$f),Hf)}),t}_renderSuccessEmpty(e){const{l10n:t}=this.props;return o.a.createElement("div",{ref:e,className:Vf("search-result",{type:"success-empty"})},o.a.createElement("h2",{className:Vf("title")},t("suggest.headers.empty_list")))}_renderSuccess(e){const{sources:t,mode:n,onSourceRequestOpen:r,isRedesign:s}=this.props;return o.a.createElement(rh.Provider,{value:Gf},o.a.createElement(tf,{containerRef:e,className:Vf("search-result",{type:"success"}),sources:t,mode:n,onSourceRequestOpen:r,isRedesign:s}))}_renderError(e){const{onRetry:t,l10n:n}=this.props;return o.a.createElement("div",{ref:e,className:Vf("search-result",{type:"error"})},o.a.createElement(pf,{title:n("suggest.failure"),onClick:t}))}_renderPending(e){const{isFetchThresholdPassed:t}=this.props,{height:n}=this.state;return o.a.createElement(nd,{ref:e,className:Vf("search-result",{type:"pending"}),style:{minHeight:n},isAnimated:t},o.a.createElement(qf,{className:Vf("row-placeholder"),size:"s"}),o.a.createElement(qf,{className:Vf("row-placeholder"),size:"s"}),o.a.createElement(qf,{className:Vf("row-placeholder"),size:"s"}))}getHeight(){return this._containerRef.current?this._containerRef.current.offsetHeight:null}getSnapshotBeforeUpdate(e){return Wf(e)!==Wf(this.props)?{height:this._containerRef.current?this._containerRef.current.offsetHeight:void 0}:null}componentDidUpdate(e,t,n){n&&this.setState({height:n.height})}render(){const{inputRef:e,value:t,onChange:n,onClear:r,onFocus:s,onBlur:i,isInterestsEnabled:a,l10n:c,isRedesign:l}=this.props,u=c(a?"suggest.search_placeholder2":"suggest.channel_placeholder");return o.a.createElement("div",{className:Vf({isRedesign:l})},!l&&o.a.createElement(Uf,{inputRef:e,className:Vf("input"),value:t,size:"l",placeholder:u,onChange:n,onClear:r,onFocus:s,onBlur:i}),o.a.createElement(Tl,{triggerKey:Wf(this.props),fadeTimingFunction:"ease-in-out",resizeTimingFunction:"ease-in-out",getFadeDuration:this._getFadeDuration,getResizeDuration:this._getResizeDuration},({ref:e})=>{const{value:t,status:n,sources:r,children:o}=this.props,s=this._composeContainerRefs(e,this._containerRef);if(Boolean(t))switch(n){case _e.Initial:case _e.Pending:return this._renderPending(s);case _e.Error:return this._renderError(s);case _e.Success:return 0===r.length?this._renderSuccessEmpty(s):this._renderSuccess(s);default:return null}return o({ref:s})}))}});n(129);const Yf=$a("channel-card-placeholder"),Qf=({className:e,size:t="s"})=>o.a.createElement("div",{className:$a.mix(Yf({size:t}),e)},o.a.createElement("div",{className:Yf("text")}));n(139);const Zf=$a("search-placeholder"),Jf=e=>{let{size:t="l",className:n}=e,r=X(e,["size","className"]);return o.a.createElement("div",c({},r,{className:$a.mix(Zf({size:t}),n)}))};n(115);const Xf=il("channel-card"),em=e=>e.length>=8&&/\s/.test(e),tm=e=>{const t=Object(r.forwardRef)((t,n)=>{const{theme:s="white",size:i,status:a,image:l,imageBackgroundColor:u,text:d,textColor:p,textBackgroundColor:h,onIconClick:f,isMobile:m}=t,b=X(t,["theme","size","status","image","imageBackgroundColor","text","textColor","textBackgroundColor","onIconClick","isMobile"]),[g,v]=Object(r.useState)(!1);Object(r.useEffect)(()=>{v("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);const y={backgroundColor:u,backgroundImage:`url('${l}')`},_={color:p,backgroundColor:h},E=nl(b,{className:Xf({size:i,status:a,theme:s,isMobile:m,isTouch:g,isButton:"a"===e||"button"===e})});return o.a.createElement(e,c({ref:n},E),o.a.createElement("div",{className:Xf("image"),style:y}),o.a.createElement("div",{className:Xf("text",{isLong:em(d)}),style:_},o.a.createElement("div",{className:Xf("text-wrapper")},(e=>{if(!em(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return o.a.createElement(o.a.Fragment,null,e.slice(0,n),o.a.createElement("br",null),e.slice(n))})(d))),o.a.createElement("div",{className:Xf("gradient")}),o.a.createElement("div",{className:Xf("icon"),onClick:e=>{f&&(e.preventDefault(),e.stopPropagation(),f(e))}}))});return Object(r.memo)(t)};tm("div");const nm=({size:e,target:t,source:n})=>{const r=Tp(()=>tm("a")),{logo:s,logoBackgroundColor:i,title:a,titleColor:c,titleBackgroundColor:l,feedLink:u,status:d}=n,p=Qh(n),{handleClick:h,ref:f,onToggleSubscribe:m}=kh({source:n,onClick:p});return o.a.createElement(r,{ref:f,size:e,target:t,image:s,imageBackgroundColor:i,text:a,textColor:c,textBackgroundColor:l,href:u,theme:"black",isMobile:Boolean(!1),onClick:h,onIconClick:m,status:"subscribed"===d?"subscribed":"add"})};n(140),n(133),o.a.Component;o.a.Component;var rm=function(e){function t(){return e.apply(this,arguments)||this}Q(t,e);var n=t.prototype;return n.handleClick=function(e,t){(this.props.onClick&&this.props.onClick(e),e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),s=X(t,["innerRef","replace","to"]);return o.a.createElement(ne.Consumer,null,function(t){t||b(!1);var i="string"==typeof r?w(r,null,null,t.location):r,a=i?t.history.createHref(i):"";return o.a.createElement("a",c({},s,{onClick:function(n){return e.handleClick(n,t.history)},href:a,ref:n}))})},t}(o.a.Component);const om=Vt(e=>({location:e.router.location}))(e=>{let{location:t,to:n}=e,r=X(e,["location","to","dispatch"]);const s=dl(t,n);return o.a.createElement(rm,c({to:s},r))}),sm=$a("category-item-view"),im=()=>o.a.createElement("div",{className:sm("icon",{isLoading:!0})}),am=({image:e,title:t,name:n,rootRef:r,className:s,onClick:i})=>o.a.createElement(om,{className:$a.mix(sm(),s),onClick:i,innerRef:r,to:`${fn}/${n}`},e?o.a.createElement(Nh,{src:e},(t,n)=>"success"===n?(e=>o.a.createElement("div",{className:sm("icon"),style:{backgroundImage:`url('${e}')`}}))(e):im()):im(),o.a.createElement("div",{className:sm("title")},t)),cm=Object(r.memo)(({statEvents:e,bulkParams:t,image:n,title:s,name:i,className:a})=>{const[c,l]=(({bulkParams:e,statEvents:t})=>{const n=ih({bulkParams:e,statEvents:t}),o=ah({bulkParams:e,statEvents:t}),s=Object(r.useCallback)(()=>n(),[n]),i=Object(r.useCallback)(()=>o(),[o]),[a,c]=Lp();return Xp({isVisible$:c,onShow:s}),[a,i]})({statEvents:e,bulkParams:t});return o.a.createElement(am,{image:n,title:s,name:i,rootRef:c,className:a,onClick:l})});n(114);const lm=$a("channel-card-grid"),um=({component:e,cards:t,cardsInRow:n})=>{const s=Math.ceil(t.length/n),i=new Array(s);for(let a=0;a<s*n;a++){const s=Math.floor(a/n),c=a%n;i[s]||(i[s]=new Array(n)),i[s][c]=a<t.length?o.a.createElement(r.Fragment,{key:a},o.a.createElement(e,t[a])):o.a.createElement("div",{key:a,className:lm("placeholder")})}return o.a.createElement("div",{className:lm()},i.map((e,t)=>o.a.createElement("div",{key:t,className:lm("row")},e)))},dm={1:3,2:5,3:7},pm=$a("desktop-channels-view"),hm=ed(od),fm=ed(Jf),mm={place:Fe.Carousel,pageType:De.Carousel};const bm=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onSearchChange=(e=>{this.props.onSearchChange(e.currentTarget.value.substr(0,dn))}),t}_renderSuggest(){const{columnCount:e,suggestSources:t,l10n:n}=this.props,r=dm[e];if(0===t.length)return null;const s=t.slice(0,r).map(e=>({key:e.id,size:"s",source:e}));return o.a.createElement("div",{className:pm("suggest")},o.a.createElement("h3",{className:pm("suggest-title")},n("suggest.headers.recommeded_channels")),o.a.createElement(rh.Provider,{value:mm},o.a.createElement(um,{component:nm,cards:s,cardsInRow:r})))}_renderCategories(){const{categories:e,l10n:t}=this.props;return o.a.createElement("div",{className:pm("categories")},o.a.createElement("h3",{className:pm("categories-title")},t("channels.top-title")),o.a.createElement("div",{className:pm("category-list")},Object.keys(e).map(t=>o.a.createElement(cm,c({key:t},e[t],{className:pm("category-item")})))))}_renderPlaceholder(){const{containerRef:e,height:t,columnCount:n,isCategoriesFetchThresholdPassed:r}=this.props,s=dm[n],i=new Array(s).fill(null).map(()=>({size:"s"}));return o.a.createElement(nd,{ref:e,className:pm(),style:{minHeight:t},isAnimated:r},o.a.createElement(hm,{size:"2"}),o.a.createElement(fm,{className:pm("search"),size:"l"}),o.a.createElement(hm,{size:"3"}),o.a.createElement(td,null,o.a.createElement(um,{component:Qf,cards:i,cardsInRow:s})))}_renderSuccess(){const{containerRef:e,searchValue:t,searchStatus:n,searchResultSources:r,onSearchClear:s,onSearchRetry:i,enableCloseOnEscClick:a,disableCloseOnEscClick:c,isSearchFetchThresholdPassed:l,isInterestsEnabled:u,l10n:d}=this.props;return o.a.createElement("div",{ref:e,className:pm()},o.a.createElement("h2",{className:pm("title")},d("navigate_bar.channels")),o.a.createElement(Kf,{mode:"default",value:t,status:n,sources:r,isFetchThresholdPassed:l,isInterestsEnabled:u,onChange:this._onSearchChange,onClear:s,onFocus:c,onBlur:a,onRetry:i},({ref:e})=>o.a.createElement("div",{ref:e,className:pm("content")},this._renderSuggest(),this._renderCategories())))}_renderError(){const{containerRef:e,onRetry:t,l10n:n}=this.props;return o.a.createElement("div",{ref:e,className:pm({type:"error"})},o.a.createElement("h2",{className:pm("title")},n("navigate_bar.channels")),o.a.createElement(pf,{title:n("blocked.desktop.failure"),onClick:t}))}render(){switch(this.props.categoriesStatus){case _e.Initial:case _e.Pending:return this._renderPlaceholder();case _e.Success:return this._renderSuccess();case _e.Error:return this._renderError();default:return null}}}),gm=e=>({type:"SEARCH_RECEIVE",payload:e});let vm;const ym=wf((e,t=!1)=>async(n,r,{zenApi:o,zenLogger:s})=>{if(""===e)return void n(gm());const i=void 0===e?r().search.filter:e,a=vm=((e,t)=>new Promise((n,r)=>{e.then(n,r),setTimeout(()=>{r(new Error("Request timeout."))},t)}))(t?o.getBlockedSuggest(i):o.getSuggest(i),1e4);n({type:"SEARCH_REQUEST",payload:null});try{const e=await a;if(a!==vm)return;n(gm(e))}catch(e){if(s.error(e),a!==vm)return;throw n({type:"SEARCH_FAIL",payload:null}),e}},500),_m=(e,t=!1)=>n=>(void 0!==e&&n((e=>({type:"SEARCH_SET_FILTER",payload:e}))(e)),n(ym(e,t))),Em=e=>{if(!e)return!0;for(const t in e)if(e.hasOwnProperty(t))return!1;return!0};const wm=Vt(e=>{const{data:t}=e.categories;return{columnCount:$u(e),categories:t&&t.list||{},searchResultSources:Nl(e)||[],suggestSources:xl(e)||[],filter:e.search.filter,isInterestsEnabled:ku(e)}},{getCategories:kf,updateSuggest:_m})(Ef({categoriesAsyncProps:{fetch:({getCategories:e})=>e(),fetchThreshold:200},searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={},this._fetchCategories=this._withAsyncStatus({fetch:()=>this.props.categoriesAsyncProps.fetch()}),this._clearSearch=(()=>{this.props.searchAsyncProps.fetch("")}),this._onSearchRetry=(()=>{const{filter:e,searchAsyncProps:t}=this.props;t.fetch(e)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(_e.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){const{categories:e,suggestSources:t}=this.props;(Em(e)||Em(t))&&(this._clearSearch(),this._fetchCategories())}static getDerivedStateFromProps(e){const{categories:t,suggestSources:n,setStatus:r}=e;return Em(t)||Em(n)||r(_e.Success),null}componentWillUnmount(){this._clearSearch()}render(){const e=this.props,{categoriesAsyncProps:t,status:n,searchAsyncProps:r,filter:s,searchResultSources:i}=e,a=X(e,["categoriesAsyncProps","status","searchAsyncProps","filter","searchResultSources"]);return o.a.createElement(bm,c({},a,{categoriesStatus:n,isCategoriesFetchThresholdPassed:t.isFetchThresholdPassed,searchValue:s,searchResultSources:i,onSearchChange:r.fetch,onSearchClear:this._clearSearch,onSearchRetry:this._onSearchRetry,searchStatus:r.status,isSearchFetchThresholdPassed:r.isFetchThresholdPassed,onRetry:this._fetchCategories}))}})),Sm={log:()=>{}},km=(e,t,n,r)=>{if(!e||!t)return console.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),Sm;return{log:(o,{local:s={},global:i={},rename:a={}}={})=>{const c=t[a[o]||o];return c?r.oldLogBulkEvent({event:Ji(c,s),bulkParams:Ji(e,i),statMeta:n}):(console.warn("Invalid `statEvent`: %s. Request not sent.",o),Sm)}}},Cm=Object(G.createSelectorCreator)(G.defaultMemoize,(e,t)=>Object.keys(e).filter(n=>e[n]===t[n]).length===Object.keys(t).length),Om=e=>Cm(e=>e,(e,t)=>t,e),Tm=e=>{const t=Om((t,n)=>{return{log:(r,o={})=>n.log(r,Object.assign({},o,{[e]:Object.assign({},o[e],t)}))}});return e=>n=>t(e,n)},Pm=Tm("local"),Am=(Tm("global"),(e="")=>{const t=Om((t,n)=>{return{log:(t,r={})=>{const o=r.local||{},s=o.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},o,{__els__:s?`${e}.${s}`:e})}))}}});return n=>t(e,n)}),Rm=()=>Object(G.createSelector)(e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.source?e.source.statParams:e.statParams,e=>e.source?e.source.statEvents:e.statEvents,e=>e.source?e.source.bulkParams:e.bulkParams,e=>e.place,e=>e.pageType,(e,t)=>t,(e,t,n,r,o,s,i,a,c)=>{if(a){if(!i)return console.error(new Error("new stats error: no place")),km();if(o&&s){const e=s.replace("__place_param__",i).replace("__page_type__",a);return km(e,o,{rowIndex:n},c)}if(e&&t){const r=t.replace("__place_param__",i).replace("__page_type__",a);return km(r,e,{rowIndex:n},c)}return console.error(new Error(`new stats error: ${a} ${o} ${s} ${e} ${t}`)),km()}if(r){const e=r[i];return e?km(e.bulkParams,e.statEvents,{rowIndex:n},c):(console.error(new Error(`place ${i} not found in statParams`)),km())}return o&&s?km(s,o,{rowIndex:n},c):e&&t?km(t,e,{rowIndex:n},c):km()}),xm=()=>Object(G.createSelector)(e=>e.params.bulk.bulk_params,e=>e.params.bulk.stat_events,(e,t)=>t,(e,t,n)=>km(e,t,null,n)),Nm=xm(),Im=e=>({columnCount:$u(e),sources:Il(e),subbedWhileOnboarding:e.onboarding.subbedWhileOnboarding,statEvents:e.onboarding.statEvents,bulkParams:e.onboarding.bulkParams,isReady:Object.keys(e.onboarding.subbedWhileOnboarding).length>0});n(111);const Lm=()=>{},jm=({onClick:e,source:t,size:n,target:s})=>{const i=Tp(()=>tm("a")),{logo:a,logoBackgroundColor:c,title:l,titleColor:u,titleBackgroundColor:d,feedLink:p,statEvents:h,bulkParams:f}=t,m=Object(r.useMemo)(()=>({statEvents:h,bulkParams:f}),[f,h]),b=ih(m),g=(({status:e,setStatus:t=Lm,onUnsubscribe:n=Lm,onSubscribe:o=Lm,onUnblock:s=Lm})=>Object(r.useCallback)(()=>{switch(e){case"subscribed":n(),t(Ee.NOT_SUBSCRIBED);break;case"blocked":s(),t(Ee.NOT_SUBSCRIBED);break;case"not_subscribed":o(),t(Ee.SUBSCRIBED)}},[o,s,n,t,e]))({onUnsubscribe:lh({statObject:m}),onSubscribe:ch({statObject:m}),onUnblock:uh({statObject:m}),setStatus:Eh(t),status:t.status}),v=Object(r.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),g(),e&&e(t)},[e,g]),[y,_]=Lp();return Xp({isVisible$:_,onShow(){b()}}),o.a.createElement(i,{ref:y,size:n,target:s,image:a,imageBackgroundColor:c,text:l,textColor:u,textBackgroundColor:d,href:p,theme:"black",isMobile:Boolean(!1),onClick:v,onIconClick:v})};n(112),n(113);const Mm=il("avatar"),Dm=(...e)=>e.filter(Boolean).map(e=>`url('${e}')`).join(","),Fm=e=>{const t=Object(r.forwardRef)((t,n)=>{const{src:s,iconSize:i=32,isUploadable:a}=t,l=X(t,["src","iconSize","isUploadable"]),u=nl(l,{className:Mm({isButton:"a"===e||"button"===e,iconSize:i}),style:{backgroundImage:Dm(s,"https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-middle")}}),{onOpenPassportModal:d,onClick:p,closeMenu:h}=u,f=Object(r.useCallback)(()=>{p?p():a&&d&&(d(),h&&h())},[a,d,p,h]);return o.a.createElement(e,c({ref:n},u,{onClick:f}),a&&d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Mm("overlay")}),o.a.createElement("span",{className:Mm("overlay-image",{size:"s"})})))});return t.displayName=`Avatar${e}`,t};Fm("div"),Fm("button");const Bm=$a("onboarding-profile-view"),Um=Fm("span"),zm=()=>{const{l10n:e}=Xh(),t=Qt(e=>{const t=e.auth.info;return Wr(t,"state.auth.info is not defined"),t.isAuthorized?(Wr(t.displayName,"displayName of authorized user is not defined"),{isAuthorized:!0,name:t.displayName,avatar:t.avatar}):(Wr(e.links.login,"not found login link"),{isAuthorized:!1,loginLink:e.links.login})});if(t.isAuthorized){const{name:e,avatar:n}=t;return o.a.createElement("div",{className:Bm()},o.a.createElement(Um,{className:Bm("avatar"),src:n,isUploadable:!1}),o.a.createElement("div",{className:Bm("name")},e))}{const{loginLink:n}=t;return o.a.createElement("a",{className:Bm(),href:n,rel:"noopener"},o.a.createElement("div",{className:Bm("log-in")},e("navigate_bar.enter_profile")))}},Hm={1:3,2:5,3:7},$m=$a("desktop-onboarding-view"),Vm={place:Fe.Onboarding,pageType:De.Onboarding},Wm=(e=>{const t=t=>{const{columnCount:n,sources:s,subbedWhileOnboarding:i,statEvents:a,bulkParams:l,isReady:u}=Qt(Im,xt),d=Kt(),p=Object(r.useMemo)(Rm,[]),{zenApi:h}=Wn(),f=p({statEvents:a,bulkParams:l},h),m=Ap(()=>0!==Object.keys(i).length);Object(r.useEffect)(()=>(d({type:"START_ONBOARDING",payload:null}),f.log("onboarding:show"),()=>{m()&&d({type:"START_ONBOARDING_ANIMATION",payload:null})}),[]);const b=Object(r.useCallback)(()=>{m()&&d(e=>{e(fl("MODAL_CLOSE_REASON_ACCEPT"))})},[m,d]);return o.a.createElement(e,c({},t,{columnCount:n,sources:s,isReady:u,onReady:b}))};return t.displayName=Hn("WithOnboardingLogic",e),Object(r.memo)(t)})(Object(r.memo)(e=>{const{containerRef:t,sources:n,columnCount:r,isReady:s,onReady:i}=e,{l10n:a}=Xh(),c=Hm[r],l=n.map(e=>({key:e.id,size:"s",source:e}));return o.a.createElement("div",{ref:t,className:$m({columnCount:r})},o.a.createElement("div",{className:$m("header")},o.a.createElement("h2",{className:$m("title")},a("onboarding.new.title")),o.a.createElement(zm,{isAuthorized:!1,loginLink:void 0})),o.a.createElement("p",{className:$m("subtitle")},a("onboarding.new.subtitle")),o.a.createElement("div",{className:$m("sources")},o.a.createElement(rh.Provider,{value:Vm},o.a.createElement(um,{component:jm,cards:l,cardsInRow:c}))),o.a.createElement("div",{className:$m("ready-outer")},o.a.createElement("button",{className:$m("ready",{isReady:s}),onClick:i},a("onboarding.new.ready"))))}));n(125),n(110);const qm=e=>new Promise(t=>{setTimeout(t,e)}),Gm=il("button"),Km=(e=>{class t extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._containerRef=Object(r.createRef)(),this._composeContainerRefs=Zc(),this._listenerStorage=new ol,this._isMounted=!1,t}_setState(e){return new Promise(t=>{this._isMounted&&this.setState(e,t)})}_setStateOnNextTick(e){return qm(0).then(()=>this._setState(e))}_addHoverHandlers(){const e=this._containerRef.current;e&&(this._listenerStorage.add(e,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(e,"mouseleave",()=>{this.setState({isHovered:!1})}))}_addActiveHandlers(){const e=this._containerRef.current;if(!e)return;const[t,n]="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"];this._listenerStorage.add(e,t,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,n,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._isMounted=!0,"ontouchstart"in window||this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._isMounted=!1,this._listenerStorage.clear()}render(){const t=this.props,{containerRef:n,size:r,viewType:s,icon:i,iconClass:a,renderIcon:l,children:u,widthType:d}=t,p=X(t,["containerRef","size","viewType","icon","iconClass","renderIcon","children","widthType"]),{isHovered:h,isActive:f,isTransitionEnabled:m}=this.state,b=Boolean(i||l),g=i?{backgroundImage:`url(${i})`}:void 0,v=Gm({size:r,viewType:s,isHovered:h,isActive:f,isTransitionEnabled:m,hasIcon:b,widthType:d}),y=nl(p,{className:v});return o.a.createElement(e,c({ref:this._composeContainerRefs(this._containerRef,n)},y),o.a.createElement("span",{className:Gm("content-wrapper")},b&&o.a.createElement("span",{className:Va(Gm("icon",{size:r}),a),style:g},l&&l()),u))}}return t.defaultProps={widthType:"regular"},Object(r.forwardRef)((e,n)=>o.a.createElement(t,c({},e,{containerRef:n})))})("button");const Ym=({className:e,size:t,target:n,source:r,onClick:s})=>{const i=Tp(()=>tm("a")),{logo:a,logoBackgroundColor:c,title:l,titleColor:u,titleBackgroundColor:d,feedLink:p}=r,h=Qh(r,s),{handleClick:f,ref:m}=kh({source:r,onClick:h});return o.a.createElement(i,{ref:m,className:e,size:t,target:n,image:a,imageBackgroundColor:c,text:l,textColor:u,textBackgroundColor:d,href:p,theme:"black",isMobile:Boolean(!1),onClick:f,onIconClick:f})};n(128);const Qm=$a("add-channel-card"),Zm=e=>{let{size:t="s",className:n}=e,r=X(e,["size","className"]);const{l10n:s}=Xh(),i=Va(Qm({size:t}),n);return o.a.createElement("button",c({},r,{className:i}),o.a.createElement("div",{className:Qm("wrapper")},o.a.createElement("div",{className:Qm("image")}),o.a.createElement("div",{className:Qm("text")},s("subs.add-channel"))))},Jm="s",Xm={2:5,3:7},eb=$a("desktop-subs-view"),tb=ed(od),nb={place:Fe.Subs,pageType:De.Subs},rb={place:Fe.Carousel,pageType:De.Carousel};const ob=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._sourcesSelector=Jh(),t}_renderChannelCardRows(e){const{columnCount:t}=this.props,n=Xm[t],s=Math.ceil(e.length/n),i=new Array(s);for(let t=0;t<s*n;t++){const s=Math.floor(t/n),a=t%n;i[s]||(i[s]=new Array(n)),i[s][a]=t<e.length?o.a.createElement(r.Fragment,{key:t},e[t]):o.a.createElement("div",{key:t,className:eb("channel-card-placeholder")})}return o.a.createElement("div",{className:eb("channel-cards")},i.map((e,t)=>o.a.createElement("div",{key:t,className:eb("channel-cards-row")},e)))}_renderSubsChannelCardsPlain(){const{subsSources:e,onAddChannelCardClick:t}=this.props,n=e.map(e=>o.a.createElement(rh.Provider,{value:nb,key:e.id},o.a.createElement(Ym,{size:Jm,source:e,target:"_blank"})));return n.push(o.a.createElement(Zm,{key:"add-channel-card",size:Jm,onClick:t})),this._renderChannelCardRows(n)}_renderSubsChannelCardsBlocks(){const{subsSources:e,onAddChannelCardClick:t,selfSubscriptions:n,l10n:r}=this.props,{userSources:s,interestSources:i,channelSources:a}=this._sourcesSelector(e);return[{key:"users",title:r("preferences.users"),sources:s,withAddCard:!1},{key:"interests",title:r("profile.interests-title"),sources:i,withAddCard:!1},{key:"channels",title:r("preferences.channels"),sources:a,withAddCard:Boolean(n)}].map(({key:e,title:n,sources:r,withAddCard:s})=>{if(0===r.length&&!s)return null;const i=r.map(e=>o.a.createElement(rh.Provider,{value:nb,key:e.id},o.a.createElement(Ym,{size:Jm,source:e,target:"_blank"})));return s&&i.push(o.a.createElement(Zm,{key:"add-channel-card",size:Jm,onClick:t})),o.a.createElement("div",{key:e,className:eb("channel-group")},o.a.createElement("div",{className:eb("channel-group-title")},n),this._renderChannelCardRows(i))})}_renderSubsChannelCards(){const{isInterestsEnabled:e}=this.props;return e?this._renderSubsChannelCardsBlocks():this._renderSubsChannelCardsPlain()}_renderSuggestChannelCards(){const{columnCount:e,carouselSources:t}=this.props,n=Xm[e],r=t.slice(0,n).map(e=>o.a.createElement(rh.Provider,{value:rb,key:e.id},o.a.createElement(Ym,{type:"subscribe",size:Jm,source:e,target:"_blank"})));return this._renderChannelCardRows(r)}_renderChannelCardPlaceholderRow(){const{columnCount:e}=this.props,t=Xm[e],n=[];for(let e=0;e<t;e++)n.push(o.a.createElement(Qf,{key:e,size:Jm}));return this._renderChannelCardRows(n)}_renderSubs(){const{containerRef:e,isInterestsEnabled:t,selfSubscriptions:n,displayName:r,subsSources:s,isSocialProfileEnabled:i,l10n:a}=this.props,c=t?{marginBottom:7}:void 0;return o.a.createElement("div",{ref:e,className:eb({type:"subs"})},i?o.a.createElement("h3",{className:eb("owner-title")},n?a("subs.my"):r):null,o.a.createElement("div",{className:eb("header")},o.a.createElement("h2",{className:eb("title"),style:c},a("navigate_bar.subs")),o.a.createElement("span",{className:eb("sources-count")},s.length)),this._renderSubsChannelCards())}_renderEmptySubs(){const{containerRef:e,carouselSources:t,onFindChannelsClick:n,selfSubscriptions:r,l10n:s}=this.props,i=t.length>0;return o.a.createElement("div",{ref:e,className:eb({type:"empty"})},o.a.createElement("h2",{className:eb("title")},s(r?"subs.empty":"subs.other-empty")),r?o.a.createElement(o.a.Fragment,null,o.a.createElement(Km,{size:"m",viewType:"blue",onClick:n},s("subs.find-channels")),i&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:eb("sub-title")},s("suggest.headers.recommeded_channels")),this._renderSuggestChannelCards())):null)}_renderPlaceholder(){const{containerRef:e,height:t,isFetchThresholdPassed:n}=this.props;return o.a.createElement(nd,{ref:e,className:eb({type:"placeholder"}),style:{minHeight:t},isAnimated:n},o.a.createElement(tb,{size:"2"}),o.a.createElement(td,{style:{marginBottom:20}},this._renderChannelCardPlaceholderRow()),o.a.createElement(td,null,this._renderChannelCardPlaceholderRow()))}_renderError(){const{containerRef:e,onRetry:t,selfSubscriptions:n,displayName:r,isSocialProfileEnabled:s,l10n:i}=this.props;return o.a.createElement("div",{ref:e,className:eb({type:"error"})},s?o.a.createElement("h3",{className:eb("owner-title")},n?i("subs.my"):r):null,o.a.createElement("div",{className:eb("header")},o.a.createElement("h2",{className:eb("title")},i("navigate_bar.subs"))),o.a.createElement(pf,{title:i("blocked.desktop.failure"),onClick:t}))}render(){const{status:e,wasNoSubs:t}=this.props;switch(e){case _e.Initial:case _e.Pending:return this._renderPlaceholder();case _e.Success:return t?this._renderEmptySubs():this._renderSubs();case _e.Error:return this._renderError()}}}),sb=Ke({reducer:Qe,selector:(e,t)=>yn(e,t).profile}),ib=e=>{let t=null,n=null,r=!1;return(...o)=>!n||r||t&&!ve(t,o)?(t=o,r=!1,n=e(...o).then(e=>(r=!0,e),e=>{throw r=!0,e})):n},ab=e=>({type:"ADD_USER",payload:{userId:e}}),cb=e=>(t,...n)=>r=>(Fr(t)?r(ab(t)):console.error("ADD_USER action not fired because, userId type is not string"),r(e(t,...n))),lb=e=>"SELF_USER_ID_FALLBACK"===e?"":e,ub=ib(({zenApi:e},t)=>e.getPreferences(lb(t))),db=ib(({zenApi:e},t)=>{return e.getSocialProfile(lb(t)).then(e=>{if(As(e)){const t=e.captcha["captcha-page"];throw window.location.href=t,new Error("Couldn't get a social profile. Captcha received.")}return e})}),pb=ib(({zenApi:e},t)=>e.getUserSubscribers(lb(t))),hb=e=>t=>async n=>{const r=(e=>{let t={isFirstCall:!0};return(...n)=>(t.isFirstCall&&(t={isFirstCall:!1,value:e(...n)}),t.value)})(ub),[o,s]=Ye({type:B,request:r,selector:cn}).map(cb),[i,a]=Ye({type:F,request:r,selector:ln}).map(cb);e?await Promise.all([n(s(t)),n(a(t))]):await Promise.all([n(o(t)),n(i(t))])},fb=hb(!0),[mb,bb,gb]=(hb(!0),Ye({type:"USER_PROFILE_REQUEST",request:db,selector:sb}).map(cb).map(e=>(t,...n)=>async(r,o)=>{const s=o(),i=_n(s),[a]=await Promise.all([r(e(t,...n)),r(fb(i))]);return a})),[vb,yb]=Ye({type:"USER_FOLLOWERS_REQUEST",request:pb,selector:un}).map(cb),_b=wf(e=>(t,n)=>t(fb(e)).then(()=>{const r=n(),o=cn(r,e).data,s=Sn(r,e);if(o&&0===o.length&&s)return t(kf())}));const Eb=Vt(()=>{const e=Object(G.createSelector)(e=>e.sources,cn,(e,{data:t})=>t.ids.map(n=>Object.assign({},t.sources[n],e[n]))),t=[];return n=>{const r=wn(n),o=Sn(n,r),s=o?xl(n):t,i=Cu(n),a=sb(n,r);return{isSocialProfileEnabled:i,userId:r,displayName:a.data&&a.data.name||void 0,selfSubscriptions:o,subsSources:e(n,r),carouselSources:s,columnCount:$u(n),isInterestsEnabled:ku(n)}}},{pushWithPreservedSearch:pl,fetchPreferencesWithSuggest:_b,getUserProfile:mb})(Ef({preferencesAsyncProps:{fetch:({isSocialProfileEnabled:e,selfSubscriptions:t,userId:n,fetchPreferencesWithSuggest:r,getUserProfile:o})=>{let s=Promise.resolve();return e&&!t&&(s=o(n)),Promise.all([r(n),s])},fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isCompleteStatus:!1,carouselSourceIds:null,wasNoSubs:!1},this._filteredSuggestChannelsSelector=Object(G.createSelector)(e=>e.carouselSources,(e,t)=>t.carouselSourceIds,(e,t)=>t?(e||[]).filter(e=>t.includes(e.id)):[]),this._fetchSubs=this._withAsyncStatus({fetch:()=>this.props.preferencesAsyncProps.fetch()}),this._goToChannels=(()=>{this.props.pushWithPreservedSearch(fn)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(_e.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}static getDerivedStateFromProps(e,t){const n=e.preferencesAsyncProps.status===_e.Success;return t.isCompleteStatus===n?null:n?{isCompleteStatus:n,carouselSourceIds:(e.carouselSources||[]).reduce((e,t)=>("subscribed"!==t.status&&e.push(t.id),e),[])}:{isCompleteStatus:!1,carouselSourceIds:null}}componentDidMount(){this._fetchSubs()}componentDidUpdate({status:e}){const{subsSources:t,status:n}=this.props;n===_e.Success&&e===_e.Pending&&0===t.length&&this.setState({wasNoSubs:!0})}render(){const e=this.props,{preferencesAsyncProps:t}=e,n=X(e,["preferencesAsyncProps"]),{wasNoSubs:r}=this.state;return o.a.createElement(ob,c({},n,{wasNoSubs:r,carouselSources:this._filteredSuggestChannelsSelector(this.props,this.state),onAddChannelCardClick:this._goToChannels,onFindChannelsClick:this._goToChannels,onRetry:this._fetchSubs,isFetchThresholdPassed:t.isFetchThresholdPassed}))}}));n(150);const wb=$a("blocked-view"),Sb=ed(od),kb=ed(Jf),Cb=ed(rf),Ob={place:Fe.Blocked,pageType:De.Blocked};const Tb=hf(class extends r.Component{constructor(...e){var t;return t=super(...e),this._onSearchQueryChange=(e=>{this.props.suggest(e.currentTarget.value.substr(0,dn))}),this._onSearchClear=(()=>{this.props.suggest("")}),t}_renderNormalList(e){const{blockedSources:t,l10n:n}=this.props;return o.a.createElement("div",{ref:e,className:wb("blocked")},0===t.length?o.a.createElement("div",{className:wb("sub-title")},n("blocked.empty")):o.a.createElement(rh.Provider,{value:Ob},o.a.createElement(tf,{sources:t,mode:"block"})))}_renderNormal(){const{containerRef:e,filter:t,searchStatus:n,searchSources:r,onSearchRetry:s,enableCloseOnEscClick:i,disableCloseOnEscClick:a,isSearchFetchThresholdPassed:c,isInterestsEnabled:l,l10n:u}=this.props;return o.a.createElement("div",{ref:e,className:wb()},o.a.createElement("h2",{className:wb("title")},u(l?"preferences.blocked":"blocked.desktop.title")),o.a.createElement(Kf,{mode:"block",value:t,status:n,sources:r,isFetchThresholdPassed:c,isInterestsEnabled:l,onChange:this._onSearchQueryChange,onClear:this._onSearchClear,onFocus:a,onBlur:i,onRetry:s},({ref:e})=>this._renderNormalList(e)))}_renderLoading(){const{containerRef:e,height:t,isBlockedFetchThresholdPassed:n}=this.props;return o.a.createElement(nd,{ref:e,className:wb(),style:{minHeight:null!==t?t:void 0},isAnimated:n},o.a.createElement(Sb,{size:"2"}),o.a.createElement(kb,{className:wb("search-placeholder"),size:"l"}),o.a.createElement(Cb,{className:wb("row-placeholder"),size:"s"}),o.a.createElement(Cb,{className:wb("row-placeholder"),size:"s"}),o.a.createElement(Cb,{className:wb("row-placeholder"),size:"s"}))}_renderFailed(){const{containerRef:e,isInterestsEnabled:t,onRetry:n,l10n:r}=this.props;return o.a.createElement("div",{ref:e,className:wb({type:"error"})},o.a.createElement("h2",{className:wb("title")},r(t?"preferences.blocked":"blocked.desktop.title")),o.a.createElement(pf,{title:r("blocked.desktop.failure"),onClick:n}))}render(){const{blockedStatus:e}=this.props;switch(e){case _e.Initial:case _e.Pending:return this._renderLoading();case _e.Error:return this._renderFailed();case _e.Success:return this._renderNormal();default:return null}}});const Pb=Vt(()=>{const e=Object(G.createSelector)(e=>e.sources,ln,(e,{data:t})=>t.ids.map(n=>Object.assign({},t.sources[n],e[n])));return t=>{const n=wn(t),{filter:r}=t.search;return{userId:n,filter:r,searchSources:Nl(t)||[],blockedSources:e(t,n),isInterestsEnabled:ku(t)}}},{updateSuggest:_m,getUserPreferences:fb},null,{pure:!1})(Ef({blocked:{fetch:({userId:e,getUserPreferences:t})=>t(e),fetchThreshold:200},search:{fetch:({updateSuggest:e},t)=>e(t,!0),fetchThreshold:200}})(class extends r.Component{constructor(...e){var t;return t=super(...e),this._fetchBlocked=this._withAsyncStatus({fetch:()=>this.props.blocked.fetch()}),this._clearSearch=(()=>{this.props.search.fetch("")}),this._onSearchRetry=(()=>{const{filter:e,search:t}=this.props;t.fetch(e)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(_e.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){this._clearSearch(),this._fetchBlocked()}componentWillUnmount(){this._clearSearch()}render(){const{containerRef:e,status:t,height:n,blocked:r,search:s,blockedSources:i,filter:a,searchSources:c,enableCloseOnEscClick:l,disableCloseOnEscClick:u,isInterestsEnabled:d}=this.props;return o.a.createElement(Tb,{containerRef:e,height:n,onRetry:this._fetchBlocked,blockedStatus:t,isBlockedFetchThresholdPassed:r.isFetchThresholdPassed,blockedSources:i,filter:a,suggest:s.fetch,searchStatus:s.status,isSearchFetchThresholdPassed:s.isFetchThresholdPassed,searchSources:c,onSearchRetry:this._onSearchRetry,enableCloseOnEscClick:l,disableCloseOnEscClick:u,isInterestsEnabled:d})}}));n(132),n(136);const Ab=$a("users-modal-item-placeholder-view");n(137);const Rb="https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-retina-middle",xb=$a("users-modal-item-view"),Nb=Object(r.forwardRef)((e,t)=>{const{className:n,size:s,name:i,avatar:a,href:c,isDeleted:l,LinkComponent:u="a",onClick:d,rootRef:p,bulkParams:h="",statEvents:f={}}=e,m={bulkParams:h,statEvents:f},b=ah(m),g=Object(r.useCallback)(()=>b(),[b]),v=ih(m),[y,_]=Lp();Xp({isVisible$:_,onShow:v});const{l10n:E}=Xh(),w=((...e)=>Object(r.useCallback)(t=>{for(let n=0;n<e.length;n++){const r=e[n];"function"==typeof r?r(t):r&&(r.current=t)}},[e]))(t,y,p),S=l?"div":u,k=l?E("comments.removed-user"):i,C={backgroundImage:`url(${a&&!l?a:Rb})`};let O,T;return"div"!==S&&c?(O=o.a.createElement(S,{className:xb("avatar"),style:C,href:c,onClick:d}),T=o.a.createElement("div",{className:xb("name")},o.a.createElement(S,{className:xb("name-link"),href:c,onClick:d},k))):(O=o.a.createElement(S,{className:xb("avatar"),style:C,onClick:d}),T=o.a.createElement(S,{className:xb("name"),onClick:d},k)),o.a.createElement("div",{ref:w,className:$a.mix(xb({size:s}),n),onClick:g},O,o.a.createElement("div",{className:xb("bio")},T,!l&&(e=>{const{interests:t}=e;let n=0,r=0;if(!(Array.isArray(t)&&t.length>0))return null;for(const e in t){if((n+=t[e].length)+2*r>50)break;r+=1}return o.a.createElement("div",{className:xb("interests")},t.slice(0,r).join(", "))})(e)),!l&&((e,t)=>{const{viewType:n,onButtonClick:r}=e;if("default"===n)return null;const s="unsubscribe"===n;return o.a.createElement(Km,{size:"s",viewType:s?"border":"yellow",onClick:r},t(s?"feedback.subscribed":"profile.subscribe"))})(e,E))}),Ib=$a("user-followers-desktop-view"),Lb={place:Fe.Subscribers,pageType:De.Feed},jb=({className:e,style:t,href:n,children:r})=>o.a.createElement(om,{className:e,style:t,to:n},r),Mb=ed(od),Db=ed(e=>{const{size:t}=e,n=X(e,["size"]),r=nl(n,{className:Ab({size:t})});return o.a.createElement("div",r,o.a.createElement("div",{className:Ab("avatar")}),o.a.createElement("div",{className:Ab("bio")},o.a.createElement("div",{className:Ab("name")}),o.a.createElement("div",{className:Ab("interests")})))});const Fb=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._renderPlaceholders=(()=>{const e=this._getSourceCount(),t="number"==typeof e&&e>0?Math.min(e,5):5;return new Array(t).fill(null).map((e,t)=>o.a.createElement(Db,{key:t,className:Ib("user-placeholder"),size:"h"}))}),t}_getUserViewType(e){return"default"}_getSourceCount(){const{status:e,sources:t,sourceCount:n}=this.props;return n>=0?n:e===_e.Success&&Array.isArray(t)?t.length:null}_renderPending(){const{containerRef:e,height:t,isFetchThresholdPassed:n}=this.props;return o.a.createElement(nd,{ref:e,className:Ib({type:"placeholder"}),style:{minHeight:`${t||0}px`},isAnimated:n},o.a.createElement(Mb,{className:Ib("owner-title-placeholder"),size:"3"}),o.a.createElement(Mb,{className:Ib("title-placeholder"),size:"2"}),this._renderPlaceholders())}_renderComplete(){const{containerRef:e,isSelfFollowers:t,displayName:n,sources:r,onToggleSubscribe:s,l10n:i}=this.props,a=this._getSourceCount();return o.a.createElement("div",{ref:e,className:Ib()},o.a.createElement("h3",{className:Ib("owner-title")},t?i("subs.my"):n),o.a.createElement("div",{className:Ib("header")},o.a.createElement("h2",{className:Ib("title")},i("profile.followers.title")),o.a.createElement("span",{className:Ib("sources-count")},a)),o.a.createElement("div",{className:Ib("users")},r.map(e=>o.a.createElement(rh.Provider,{key:e.id,value:Lb},o.a.createElement(Nb,c({},e,{viewType:this._getUserViewType(e),className:Ib("user"),size:"h",name:e.title,avatar:e.logo,href:ae(bn,{socialProfileId:e.publicId||e.id}),LinkComponent:jb,onButtonClick:()=>s(e)}))))))}_renderCompleteEmpty(){const{containerRef:e,isSelfFollowers:t,l10n:n}=this.props;return o.a.createElement("div",{ref:e,className:Ib({type:"empty"})},o.a.createElement("h2",{className:Ib("title")},n(t?"profile.followers-empty":"profile.followers-other-empty")))}_renderError(){const{containerRef:e,onRetry:t,l10n:n}=this.props;return o.a.createElement("div",{ref:e,className:Ib({type:"error"})},o.a.createElement("h2",{className:Ib("title")},n("profile.followers.title")),o.a.createElement(pf,{title:n("blocked.desktop.failure"),onClick:t}))}render(){const{status:e,sources:t}=this.props;switch(e){case _e.Initial:case _e.Pending:return this._renderPending();case _e.Success:return Array.isArray(t)&&t.length>0?this._renderComplete():this._renderCompleteEmpty();case _e.Error:return this._renderError()}}}),Bb=({source:e,logger:t})=>n=>{t.log("feedback_block"),n(gh(e)),n(ph(e))},Ub=({source:e,logger:t})=>n=>{t.log("feedback_cancel_block"),n(vh(e)),n(ph(e))},zb=({source:e,logger:t})=>n=>{t.log("feedback_favourite"),n(mh(e)),n(ph(e))},Hb=({source:e,logger:t})=>n=>{t.log("feedback_cancel_favourite"),n(bh(e)),n(ph(e))},$b={subscribed:Hb,blocked:Ub,not_subscribed:zb},Vb={subscribed:Hb,blocked:Ub,not_subscribed:Bb},Wb={subscribed:Hb,blocked:zb,not_subscribed:zb},qb={subscribed:Bb,blocked:Ub,not_subscribed:Bb},Gb=Vt(null,(e=>(t,n)=>{const r=Object.keys(e).reduce((t,r)=>(t[r]=((t={})=>e[r](Object.assign({},n,t))),t),{});return Object($.b)(r,t)})({onToggleBlock:e=>Vb[e.source.status](e),onToggleSubscribe:e=>$b[e.source.status](e),onShortToggleBlock:e=>qb[e.source.status](e),onShortToggleSubscribe:e=>Wb[e.source.status](e),onBlock:Bb,onUnblock:Ub,onSubscribe:zb,onUnsubscribe:Hb,onDislike:({source:e,logger:t})=>n=>{t.log("feedback_less"),n(yh(e)),n(ph(e))},onComplain:({logger:e})=>()=>{e.log("complain_show")},onComplainClick:({source:e,logger:t})=>()=>{Pm({__reasons__:e.complaintReasons||""})(t).log("complain_click")}})),Kb={fetch:async({userId:e,getUserProfile:t,getUserFollowers:n})=>{await Promise.all([t(e),n(e)])},fetchThreshold:200};const Yb={getUserProfile:mb,getUserFollowers:vb},Qb=qn(({zenApi:e})=>({zenApi:e}))(Vt(()=>{const e=(e,t)=>{const n=un(e,t).data;return n.ids.map(e=>n.sources[e])};return t=>{const n=wn(t),r=_n(t),o=sb(t,n),s=e(t,n);return{userId:n,selfUserId:r,displayName:o.data&&o.data.name,sources:s,sourceCount:o.data&&o.data.followerCount,isSelfFollowers:Sn(t,n)}}},Yb)(Gb(Ef({followersAsyncProps:Kb})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._getUserFollowers=this._withAsyncStatus({fetch:()=>this.props.followersAsyncProps.fetch()}),this._onToggleSubscribe=(e=>{const{onToggleSubscribe:t,zenApi:n}=this.props;t({source:e,logger:Rm()({source:e,place:Fe.Feed,pageType:De.Feed},n)})}),t}_withAsyncStatus(e){let{fetch:t,withAnimation:n=!0}=e;return(...e)=>(this.props.setStatus(_e.Pending,{withAnimation:n}),t(...e).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:n}),e)))}componentDidMount(){this._getUserFollowers()}render(){const{containerRef:e,selfUserId:t,status:n,height:r,sources:s,followersAsyncProps:i,isSelfFollowers:a,displayName:c,sourceCount:l}=this.props;return o.a.createElement(Fb,{containerRef:e,selfUserId:t,status:n,height:r,sources:s,isFetchThresholdPassed:i.isFetchThresholdPassed,isSelfFollowers:a,displayName:c,sourceCount:l,onRetry:this._getUserFollowers,onToggleSubscribe:this._onToggleSubscribe})}})))),Zb="https://forms-ext-api.yandex.ru/v1/surveys/3968/form/",Jb={Accept:"*/*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","X-FRONTEND-AUTHORIZATION":"Ib5geeJ#lae]x3ChEyi1thi"},Xb=(e=3e4)=>new Promise((t,n)=>{setTimeout(()=>n(new Error("Request timeout")),e)}),eg=["clid","product","partner","clidName"],tg=["deviceId","email","login","uid","yandexuid"],ng=[...eg,...tg],rg=["requestId","displayName","clid",...tg],og=[...rg,...eg];n(151),n(154);const sg=({value:e=""})=>{const t=e.split(/\r?\n/g);return o.a.createElement(o.a.Fragment,null,t.map((e,t)=>o.a.createElement(r.Fragment,{key:t},e,o.a.createElement("br",null))))},ig=il("textarea"),ag=Object(r.forwardRef)((e,t)=>{let{size:n="m",value:s="",isReadOnly:i=!1,isDisabled:a=!1,isAutoComplete:l=!1,isError:u=!1,withMinHeightAuto:d=!1,label:p,caption:h,className:f,name:m,onBlur:b}=e,g=X(e,["size","value","isReadOnly","isDisabled","isAutoComplete","isError","withMinHeightAuto","label","caption","className","name","onBlur"]);const[v,y]=Object(r.useState)(!1),[_,E]=Object(r.useState)(!1),w=Object(r.useCallback)(()=>y(!0),[]),S=Object(r.useCallback)(()=>y(!1),[]),k=Object(r.useCallback)(()=>E(!0),[]),C=Object(r.useCallback)(e=>{E(!1),"function"==typeof b&&b(e)},[b]),O={size:n,isHovered:v,isFocused:_,isError:u,isDisabled:a,withMinHeightAuto:d};return o.a.createElement(o.a.Fragment,null,p,o.a.createElement("div",{className:il.mix(ig(O),f),onMouseEnter:w,onMouseLeave:S},o.a.createElement("div",{className:ig("control",{hiddenSourceSize:!0})},o.a.createElement(sg,{value:s})),o.a.createElement("textarea",c({},g,{ref:t,className:ig("control"),value:s,name:m,readOnly:i,disabled:a,autoComplete:l?"on":"off",onFocus:k,onBlur:C})),o.a.createElement("div",{className:ig("box")})),h)});n(123);const cg=il("input"),lg=Object(r.memo)(e=>{const{size:t="m",value:n="",isReadOnly:s=!1,isDisabled:i=!1,isPointer:a=!1,isError:l=!1,isAutoComplete:u=!1,label:d,caption:p,className:h,style:f,inputRef:m,icon:b,renderPlaceholder:g,onBlur:v}=e,y=X(e,["size","value","isReadOnly","isDisabled","isPointer","isError","isAutoComplete","label","caption","className","style","inputRef","icon","renderPlaceholder","onBlur"]),[_,E]=Object(r.useState)(!1),[w,S]=Object(r.useState)(!1),k={size:t,isHovered:_,isFocused:w,isError:l,isDisabled:i,isPointer:a},C=Object(r.useCallback)(()=>E(!0),[]),O=Object(r.useCallback)(()=>E(!1),[]),T=Object(r.useCallback)(()=>S(!0),[]),P=Object(r.useCallback)(e=>{S(!1),"function"==typeof v&&v(e)},[v]);return o.a.createElement(o.a.Fragment,null,d,o.a.createElement("div",{className:il.mix(cg(k),h),style:f,onMouseEnter:C,onMouseLeave:O},o.a.createElement("input",c({},y,{type:"text",ref:m,value:n,className:cg("control"),readOnly:s,disabled:i,autoComplete:u?"on":"off",onFocus:T,onBlur:P})),(({Placeholder:e,value:t,isFocused:n})=>""!==t||n||!e?null:o.a.createElement("div",{className:cg("placeholder-container")},o.a.createElement(e,null)))({Placeholder:g,value:n,isFocused:w}),o.a.createElement("div",{className:cg("box")}),b&&o.a.createElement("div",{className:cg("icon")},b)),p)});let ug;!function(e){e.Angry="angry",e.Soso="soso",e.Happy="happy"}(ug||(ug={}));const dg=[ug.Angry,ug.Soso,ug.Happy];n(153);const pg=$a("input-view"),hg=({onChange:e,title:t,value:n,error:s,errorText:i,inputComponent:a})=>{const c=Object(r.useCallback)(t=>{e(t.target.value)},[e]);return o.a.createElement("label",{className:pg({error:s})},o.a.createElement("div",{className:pg("label")},t),o.a.createElement(a,{isError:s,value:n,onChange:c}),s&&i?o.a.createElement("div",{className:pg("error-label")},i):null)};n(152);const fg=$a("face-view");class mg extends r.Component{constructor(...e){var t;return t=super(...e),this._setActive=(()=>{const{onClick:e,id:t}=this.props;e(t)}),t}render(){const{id:e,active:t}=this.props;return o.a.createElement("div",{className:fg({active:t}),onClick:this._setActive},o.a.createElement("button",{className:fg("button",{id:e})}))}}const bg=$a("feedback-view"),gg=hf(({onChangeCaptcha:e,didRequireCaptcha:t,captcha:n,captchaImage:r,l10n:s,containerRef:i,onChangeReaction:a,onChangeResponse:c,onChangeEmail:l,onSubmit:u,activeReaction:d,response:p,email:h,isAllowedEmail:f,isValidForm:m})=>o.a.createElement("div",{ref:i,className:bg()},o.a.createElement("h2",{className:bg("title")},s("site.feedback.rate")),o.a.createElement("div",{className:bg("item",{content:"reactions"})},dg.map(e=>o.a.createElement(mg,{key:e,id:e,active:e===d,onClick:a}))),o.a.createElement("div",{className:bg("item",{content:"response"})},o.a.createElement(hg,{title:s("site.feedback.response"),value:p,inputComponent:ag,onChange:c})),o.a.createElement("div",{className:bg("item",{content:"email"})},o.a.createElement(hg,{title:s("site.feedback.email"),error:!f,errorText:s("site.feedback.error.email"),value:h,inputComponent:lg,onChange:l})),t?o.a.createElement(o.a.Fragment,null,o.a.createElement(hg,{title:s("site.feedback.captcha"),value:n,inputComponent:lg,onChange:e}),o.a.createElement("div",{className:bg("captcha"),style:{backgroundImage:`url(${r})`}})):null,o.a.createElement(Km,{viewType:"blue",size:"l",disabled:!m,onClick:u},s("site.feedback.send"))));n(155);const vg=$a("feedback-done"),yg=({containerRef:e})=>{const{l10n:t}=Xh();return o.a.createElement("div",{ref:e,className:vg()},o.a.createElement("div",{className:vg("image")}),o.a.createElement("h2",{className:vg("title")},t("site.feedback.sent.title")),o.a.createElement("div",{className:vg("subtitle")},t("site.feedback.sent.subtitle")))},_g="INPUT_STATUS",Eg="DONE_STATUS";const wg=(e=>{return t=>{const n=Qt(e=>ng.reduce((t,n)=>{const{info:r}=e.auth;if(!r)return t;const o=r[n];return Br(o)||(t[n]=o),t},{requestId:e.request.rid})),[s,i]=Object(r.useState)(!1),[a,l]=Object(r.useState)("NA"),[u,d]=Object(r.useState)(""),[p,h]=Object(r.useState)(n.email||""),[f,m]=Object(r.useState)(!1),[b,g]=Object(r.useState)(!1),[v,y]=Object(r.useState)(""),[_,E]=Object(r.useState)(""),[w,S]=Object(r.useState)(""),k=Object(r.useCallback)(e=>l(e),[l]),C=Object(r.useCallback)(e=>d(e),[d]),O=Object(r.useCallback)(e=>S(e),[S]),T=Object(r.useCallback)(e=>{h(e),m(!1)},[h,m]),P=Object(r.useCallback)(async()=>{const e=rg.filter(e=>Boolean(n[e])).map(e=>`${e}=${n[e]}`).join(", "),{clid:t,product:r,clidName:o,partner:s}=n,c=mr({clid:t,prod:r,partn:s,clidn:o,prod_ver:"NA"}).map(([e,t])=>`[${e}: ${t}]`).join(" "),l={answer_emoji:`${a} ${c}`,answer_comment:u,answer_email:p,answer_ua:navigator.userAgent.replace(/;/g,", "),answer_uid:e};b&&(l.captcha_0=_,l.captcha_1=w);const d=Kr(l).map(e=>`${e}=${encodeURIComponent(l[e]||"undefined")}`).join("&");try{var h;const e=await Promise.race([fetch(Zb,{method:"POST",headers:Jb,body:d}),Xb()]),{status:t,statusText:n}=e;if(200!==t&&400!==t)throw new Error(`Failed to send feedback: ${Zb} ${t} (${n})`);const r=await e.json();let o=!0;if(400===t){var f,v;const e=null==r?void 0:null===(f=r.fields)||void 0===f?void 0:null===(v=f.answer_email)||void 0===v?void 0:v.errors;(null==e?void 0:e.length)>0&&(m(!0),o=!1)}const s=null==r?void 0:null===(h=r.fields)||void 0===h?void 0:h.captcha;if(s){const{attrs:{"data-captcha-image-url":e,value:t}}=s.tags[0];g(!0),y(e),E(t),S(""),o=!1}o&&i(!0)}catch(e){console.error(e),i(!0)}},[a,w,_,b,p,n,u]),A=p.match(/.@.+\..{2,}/),R=A&&(!b||""!==w)&&("NA"!==a||""!==u),x=(A||""===p)&&!f;return o.a.createElement(e,c({},t,ki(n,og),{isFinished:s,activeReaction:a,response:u,email:p,isValidForm:R,isAllowedEmail:x,captchaImage:v,onChangeEmail:T,onChangeReaction:k,onChangeResponse:C,onChangeCaptcha:O,onSubmit:P}))}})(class extends r.PureComponent{componentDidUpdate(e){const{isFinished:t,setStatus:n}=this.props;!e.isFinished&&t&&n(Eg)}render(){const{status:e}=this.props;switch(e){case _g:return o.a.createElement(gg,this.props);case Eg:return o.a.createElement(yg,this.props);default:return null}}});n(149);const Sg=$a("menu");const kg=Vt(null,{pushWithPreservedSearch:pl})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onLinkClick=(e=>{const{link:t,samePage:n,pushWithPreservedSearch:r}=this.props;t&&n&&(e.preventDefault(),r(t))}),t}render(){const{link:e,text:t,samePage:n,children:r}=this.props,s=Boolean(e&&t);return t&&!e&&console.error("Empty link"),o.a.createElement("div",{className:Sg("item",{isLink:s})},s?o.a.createElement("a",{className:Sg("item-label"),href:e,target:n?void 0:"_blank",onClick:this._onLinkClick},t):o.a.createElement("div",{className:Sg("item-inner")},r))}}),Cg=$a("menu"),Og=ed("h2");const Tg=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._renderLoading=(()=>{const{containerRef:e,height:t,isProfileFetchThresholdPassed:n}=this.props;return o.a.createElement(nd,{ref:e,className:Cg({isLoading:!0}),style:{minHeight:t},isAnimated:n},o.a.createElement(Og,{className:Cg("title")}),Array(5).fill(!0).map((e,t)=>o.a.createElement(td,{key:t},o.a.createElement(kg,null))))}),this._renderFailed=(()=>{const{containerRef:e,onRetry:t,l10n:n}=this.props;return o.a.createElement("div",{ref:e,className:Cg({type:"error"})},o.a.createElement("h2",{className:Cg("title")},n("preferences.zen_about")),o.a.createElement(pf,{title:n("preferences.failure"),onClick:t}))}),t}_renderNormal(){const{containerRef:e,eulaLink:t,l10n:n,supportLink:r}=this.props;return o.a.createElement("div",{ref:e,className:Cg()},o.a.createElement("h2",{className:Cg("title")},n("preferences.zen_about")),o.a.createElement(kg,{text:n("preferences.what_is_zen"),link:r||"/about"}),o.a.createElement(kg,{text:n("preferences.eula"),link:t}),o.a.createElement(kg,{text:n("preferences.feedback_title"),link:mn,samePage:!0}))}render(){const{profileStatus:e}=this.props;switch(e){case _e.Initial:case _e.Pending:return this._renderLoading();case _e.Error:return this._renderFailed();case _e.Success:return this._renderNormal();default:return null}}});const Pg=Vt(e=>({eulaLink:ic.get(e.profile,["data","eula","externalUrl"]),supportLink:e.links.support_link}),{fetchProfile:Pc})(Ef({profileAsyncProps:{fetch:({fetchProfile:e})=>e(),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._fetchProfile=this._withAsyncStatus({fetch:()=>this.props.profileAsyncProps.fetch()}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(_e.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){this._fetchProfile()}render(){const{profileAsyncProps:e,status:t,containerRef:n,height:r,eulaLink:s,supportLink:i}=this.props;return o.a.createElement(Tg,{containerRef:n,height:r,eulaLink:s,onRetry:this._fetchProfile,profileStatus:t,isProfileFetchThresholdPassed:e.isFetchThresholdPassed,supportLink:i})}}));n(156);const Ag=e=>async(t,n,{zenApi:r})=>{await r.updateSocialProfile(e);const o=n(),{publicId:s,uid:i}=En(o);return t(gb(s||i))},Rg=({context:e})=>{const{isZenkit:t,isIzenkit:n}=e.uatraits||{isIzenkit:!1,isZenkit:!1};return t||n};n(157),n(159);n(160);const xg=$a("default-avatar-overlay"),Ng=({isHovered:e=!1,size:t})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:xg({isHovered:e})}),o.a.createElement("span",{className:xg("image",{size:t})})),Ig=$a("passport-profile-modal-content"),Lg=({origin:e,onIframeMessage:t,retpath:n,isMobile:r})=>{Ip(()=>(window.addEventListener("message",t,!1),()=>window.removeEventListener("message",t)));const s=qa(e,n);return o.a.createElement("div",{className:Ig()},o.a.createElement("iframe",{className:Ig("iframe",{isMobile:r}),frameBorder:"0",src:s}))},jg=Object(r.memo)(({origin:e})=>{const t=Qt(e=>e),n=En(t),{isMobile:s}=t.params,i=Kt(),a=Object(r.useCallback)(e=>{(e.data.updateDisplayName||"success"===e.data.updateAvatar)&&i((({uid:e,publicId:t},n)=>r=>{t&&r(bb(t,{isPublic:!n})),r(bb(e,{isPublic:!n}))})(n,s)),e.data.updateDisplayName&&i(fl())},[i,s,n]);return o.a.createElement(Lg,{origin:e,onIframeMessage:a,retpath:`${window.location.origin}/login.html`,isMobile:Boolean(s&&s)})}),Mg=$a("profile-card-avatar"),Dg=Object(r.memo)(({size:e=88,className:t,avatarUrl:n,isSleeping:s,selfProfile:i,onOpenModal:a,isProfileUploadAvatarEnabled:c})=>{const l=n?`url(${n})`:"",u=!!n&&(e=>/https:\/\/avatars.mds.yandex.net\/get-zen_social\/\d+\/[a-z_]+\/orig/.test(e))(n),d=i&&u&&c,p=Object(r.useCallback)(()=>s?o.a.createElement("div",{className:Mg("zzz-wrap")},o.a.createElement("span",{className:Mg("zzz")}),o.a.createElement("span",{className:Mg("zzz",{second:!0})}),o.a.createElement("span",{className:Mg("zzz",{third:!0})}),o.a.createElement("span",{className:Mg("zzz",{fourth:!0})})):null,[s]),h=Object(r.useCallback)(()=>{d&&a&&a("PASSPORT_PROFILE_MODAL_PROFILE_ROUTE_KEY")},[d,a]);return o.a.createElement("div",{className:Mg()},o.a.createElement("div",{className:$a.mix(Mg("image",{isSleeping:s}),t),style:{backgroundImage:l,width:e,height:e},onClick:h},d&&o.a.createElement(Ng,{size:"l"})),p())});n(161);const Fg=$a("profile-editor-section"),Bg=({className:e,title:t,children:n,viewType:r})=>o.a.createElement("div",{className:$a.mix(Fg({viewType:r}),e)},o.a.createElement("div",{className:Fg("header")},o.a.createElement("span",{className:Fg("title")},t)),o.a.createElement("div",{className:Fg("body")},n));n(158);const Ug=$a("profile-editor-avatar-section"),zg=({children:e})=>o.a.createElement("div",{className:Ug("body")},e);n(162),n(163);const Hg=il("switch"),$g=Object(r.memo)(e=>{const{size:t="m",isChecked:n=!1,isDisabled:r=!1,isMobile:s=!1,style:i,labelStyle:a,label:c,caption:l,onChange:u}=e,d={size:t,active:n,disabled:r,mobile:s};return o.a.createElement("div",{className:Hg("outer-container")},o.a.createElement("label",{className:Hg("container",{mobile:s}),style:i,onClick:()=>{!r&&u&&u(!n)}},o.a.createElement("div",{className:Hg(d)},o.a.createElement("div",{className:Hg("control",d)},o.a.createElement("div",{className:Hg("circle",d)}))),c&&o.a.createElement("span",{style:a,className:Hg("label",d)},c)),l&&o.a.createElement("div",{className:Hg("caption",d)},l))});n(164);const Vg=il("checkbox"),Wg=({viewType:e})=>{switch(e){case"dash":return o.a.createElement("svg",{width:"10",height:"2",viewBox:"0 0 10 2",fill:"none"},o.a.createElement("rect",{width:"10",height:"2",fill:"currentColor"}));case"check":return o.a.createElement("svg",{width:"10",height:"8",viewBox:"0 0 10 8"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M-3-4h16v16H-3z"}),o.a.createElement("path",{fill:"currentColor",d:"M4.111 7.59L.261 3.74l1.256-1.257 2.594 2.594L8.483.705 9.74 1.962z"})));default:return null}},qg=e=>{const{viewType:t="check",size:n="m",name:r,label:s,isChecked:i=!1,isDisabled:a=!1,onChange:c}=e,l=X(e,["viewType","size","name","label","isChecked","isDisabled","onChange"]),u={size:n,isDisabled:a,isChecked:i,withLabel:Boolean(s)},d=nl(l,{className:Vg(u)});return o.a.createElement("label",d,o.a.createElement("div",{className:Vg("box")},o.a.createElement("input",{type:"checkbox",className:Vg("control"),disabled:a,name:r,checked:i,onChange:c}),o.a.createElement("div",{className:Vg("tick")},o.a.createElement(Wg,{viewType:t}))),s&&o.a.createElement("span",{className:Vg("label")},s))};const Gg=$a("profile-editor-privacy-setting"),Kg=({className:e,viewType:t,value:n,onChange:r,label:s})=>o.a.createElement("div",{className:$a.mix(Gg(),e)},"mobile"===t?o.a.createElement($g,{size:"l",label:s,isChecked:n,onChange:r}):o.a.createElement(qg,{size:"l",label:s,isChecked:n,onChange:r}));n(165),n(166);const Yg=$a("profile-editor-setting-item-view"),Qg=({settingType:e,settingOption:t})=>o.a.createElement("div",{className:Yg()},o.a.createElement("div",{className:Yg("type")},e),o.a.createElement("div",{className:Yg("preference")},t));var Zg=new Dh.a({id:"arrow-right--inline",use:"arrow-right--inline-usage",viewBox:"0 0 22 16",content:'<symbol viewBox="0 0 22 16" id="arrow-right--inline"><path d="M22 8l-8-8-1 1 3.857 6H0v2h16.857L13 15l1 1 8-8z" /></symbol>'}),Jg=(Bh.a.add(Zg),Zg);const Xg=$a("profile-editor-messenger-setting-view"),ev={everybody:"profile.messenger-setting-everybody",nobody:"profile.messenger-setting-nobody",contacts:"profile.messenger-setting-contacts"},tv=({viewType:e,title:t,l10n:n,messengerPrivacy:r,messengerSettingsLink:s})=>o.a.createElement("div",{className:Xg({viewType:e})},o.a.createElement("div",{className:Xg("header")},o.a.createElement("span",{className:Xg("title")},t)),o.a.createElement("div",{className:Xg("body")},o.a.createElement(Qg,{settingType:n("profile.messenger-settings-direct-chat"),settingOption:n(ev[r.privateChats])}),o.a.createElement(Qg,{settingType:n("profile.messenger-settings-add-to-chat"),settingOption:n(ev[r.invites])}),o.a.createElement(Qg,{settingType:n("profile.messenger-settings-status-visibility"),settingOption:n(ev[r.onlineStatus])}),o.a.createElement(Qg,{settingType:n("profile.messenger-settings-presence-visibility"),settingOption:n(ev[r.search])}),o.a.createElement("a",{href:s,className:Xg("link",{viewType:e}),target:"desktop"===e?"_blank":"_self",rel:"noopener noreferrer"},o.a.createElement("span",{className:Xg("link-text")},n("profile.messenger-edit-settings")),"mobile"===e?o.a.createElement(uf,{symbol:Jg,width:22,height:16,fill:"#0077FF"}):null)));n(167);const nv=$a("profile-buttons"),rv=e=>o.a.createElement(Km,c({size:"l",viewType:"regular"},e),""),ov=e=>{let{wide:t=!1}=e,n=X(e,["wide"]);const{l10n:r}=Xh();return o.a.createElement(om,{className:nv("link",{widthType:n.widthType}),to:vn},o.a.createElement(Km,c({size:"l",viewType:"regular"},n),r(t?"profile.button-edit-long":"profile.button-edit")))},sv=e=>{let{isSubscribed:t}=e,n=X(e,["isSubscribed"]);const{l10n:r}=Xh();return o.a.createElement(Km,c({size:"l",viewType:t?"regular":"yellow"},n),r(t?"feedback.subscribed":"profile.subscribe"))},iv=e=>{const{l10n:t}=Xh();return o.a.createElement(Km,c({size:"l",viewType:"regular"},e),t("profile.button-history"))},av=e=>{let{notifications:t}=e,n=X(e,["notifications"]);const{l10n:r}=Xh();return o.a.createElement(Km,c({size:"l",viewType:"regular"},n),r("profile.button-notifications"),t&&o.a.createElement("i",{className:nv("notifications-indicator")}))},cv=e=>{const{l10n:t}=Xh();return o.a.createElement(om,c({to:"/user/deactivate"},e),t("profile.editor-deactivate-profile"))},lv=((e=>t=>{class n extends r.Component{constructor(...e){var t;return t=super(...e),this.state={prevProps:this.props,cachedProps:null},t}static getDerivedStateFromProps(t,n){if(n.cachedProps)return null;const r=e(n.prevProps,t);return r?{cachedProps:r}:{prevProps:t}}render(){const{cachedProps:e}=this.state;return e?o.a.createElement(t,c({},this.props,e)):o.a.createElement(t,this.props)}}return n.displayName=Hn("WithCachedProps",t),n})((e,t)=>e.subscriptionsStatus&&e.subscriptionsStatus!==_e.Pending||!t.subscriptionsStatus||t.subscriptionsStatus===_e.Pending?null:{subscriptionsStatus:t.subscriptionsStatus})(({className:e="",selfProfile:t,isAuthorized:n,status:r,subscriptionsStatus:s,isWebview:i,notifications:a,profileSource:c,onHistoryClick:l,onNotificationsClick:u,onSubscribeToggle:d})=>{const p=r===_e.Success,h=s===_e.Pending;return o.a.createElement("div",{className:$a.mix(nv("group"),e)},o.a.createElement("div",{className:nv("group-line")},p?t?o.a.createElement(ov,{widthType:"wide",wide:!0}):h&&n?o.a.createElement(rv,null):c&&n?o.a.createElement(sv,{isSubscribed:"subscribed"===c.status,onClick:d,widthType:"wide"}):null:o.a.createElement(rv,null)),t&&i?o.a.createElement("div",{className:nv("group-line")},p?o.a.createElement(o.a.Fragment,null,o.a.createElement(iv,{onClick:l,widthType:"wide"}),o.a.createElement(av,{notifications:a,onClick:u,widthType:"wide"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(rv,null),o.a.createElement(rv,null))):null)}),$a("profile-editor")),uv=140,dv=({profile:{about:e,privacy:{hideInterests:t,hideActivity:n,hideSubscriptions:r},passportAvatarEditLink:o,passportDisplayNameEditLink:s}})=>({about:e,warnAboutLength:!1,hideInterests:t,hideActivity:n,hideSubscriptions:r,status:"initial",passportAvatarEditLink:o,passportDisplayNameEditLink:s,silentUpdate:!0});class pv extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state=dv(this.props),this._onVisibilityChange=(()=>{const{isWebview:e,forcedGetUserProfile:t,silentGetUserProfile:n,userId:r}=this.props,{silentUpdate:o}=this.state;e&&(document.hidden||(o?n(r):t(r),this.setState({silentUpdate:!0})))}),this.onPassportClick=(e=>{const{zenkitApi:t}=this.context;if(t){const{href:n}=e.currentTarget;e.preventDefault(),t.navigateBrowser({url:n,requireUserData:!1}),this.setState({silentUpdate:!1})}}),this._maybeWrapPassportLinks=(()=>{const{zenkitApi:e}=this.context;if(e){const{tld:t,lang:n}=this.props,{passportAvatarEditLink:r,passportDisplayNameEditLink:o}=this.state;e.requestCookieAuthURL(r,n,t).then(e=>{this.setState({passportAvatarEditLink:e})}),e.requestCookieAuthURL(o,n,t).then(e=>{this.setState({passportDisplayNameEditLink:e})})}}),this.onAboutChange=(e=>{const{value:t}=e.currentTarget;this.setState({about:t.slice(0,uv),warnAboutLength:t.length>uv})}),this.onInterstsToggle=(()=>{this.setState(e=>({hideInterests:!e.hideInterests}))}),this.onSubscriptionsToggle=(()=>{this.setState(e=>({hideSubscriptions:!e.hideSubscriptions}))}),this.onActivityToggle=(()=>{this.setState(e=>({hideActivity:!e.hideActivity}))}),this.onSaveClick=(()=>{const{profile:e,saveProfile:t,pushWithPreservedSearch:n,selfProfileLink:r,profileRedesign:o,refreshSourceFeed:s}=this.props,{about:i,hideInterests:a,hideActivity:c,hideSubscriptions:l}=this.state;this.setState({status:"pending"});const u=t({token:e.csrfToken,about:i,hideInterests:a,hideActivity:c,hideSubscriptions:l}),d=new Promise(e=>setTimeout(e,1e3));Promise.all([u,d]).then(()=>{o?s(e.source):n(r)},()=>{this.setState({status:"failure"})})}),t}componentDidMount(){const{profile:{passportRetPathPlaceholder:e,regionalDomainPlaceholder:t},location:n,selfProfileLink:r,tld:o,isWebview:s}=this.props,{passportAvatarEditLink:i,passportDisplayNameEditLink:a}=this.state,c=dl(n,r),l=`${window.location.origin}${c.pathname}${c.search}`,u=encodeURIComponent(l);this.setState({passportAvatarEditLink:i.replace(e,s?"":u).replace(t,o),passportDisplayNameEditLink:a.replace(e,s?"":u).replace(t,o)},this._maybeWrapPassportLinks),document.addEventListener("visibilitychange",this._onVisibilityChange,!1)}componentWillUnmount(){document.removeEventListener("visibilitychange",this._onVisibilityChange)}render(){const{about:e,warnAboutLength:t,hideInterests:n,hideActivity:r,hideSubscriptions:s,status:i}=this.state,{viewType:a,profile:c,l10n:l,messengerSettingsLink:u,isZenKit:d,isDirectMessageEnabled:p}=this.props,{name:h,avatarUrl:f,messengerPrivacy:m}=c,{passportAvatarEditLink:b,passportDisplayNameEditLink:g}=this.state;return o.a.createElement("div",{className:lv({viewType:a})},o.a.createElement("span",{className:lv("title")},l("profile.editor-title")),o.a.createElement(zg,null,o.a.createElement(Dg,{size:"mobile"===a?80:88,className:lv("avatar"),avatarUrl:f}),o.a.createElement("a",{href:b,onClick:this.onPassportClick,className:lv("link",{viewType:a})},l("profile.editor-avatar-edit-action"))),o.a.createElement(Bg,{title:l("profile.editor-caption-name"),viewType:a},o.a.createElement("div",{className:lv("display-name-container")},o.a.createElement("span",{className:lv("display-name")},h),o.a.createElement("a",{href:g,onClick:this.onPassportClick,className:lv("link",{viewType:a})},l("profile.editor-edit-action")))),o.a.createElement(Bg,{title:o.a.createElement("span",null,l("profile.editor-caption-about"),o.a.createElement("span",{className:lv("about-condition",{warn:t})},` (${l("profile.editor-about-condition")})`)),viewType:a},o.a.createElement(ag,{className:lv("about-input"),size:"l",onChange:this.onAboutChange,value:e,placeholder:l("profile.editor-about-placeholder")})),o.a.createElement(Bg,{title:l("profile.editor-caption-privacy"),className:lv("last-section"),viewType:a},o.a.createElement(Kg,{viewType:"mobile"===a?"mobile":"desktop",label:l("profile.editor-privacy-interests"),value:!n,onChange:this.onInterstsToggle}),o.a.createElement(Kg,{viewType:"mobile"===a?"mobile":"desktop",label:l("profile.editor-privacy-activity"),value:!r,onChange:this.onActivityToggle}),o.a.createElement(Kg,{viewType:"mobile"===a?"mobile":"desktop",label:l("profile.editor-privacy-subscriptions"),value:!s,onChange:this.onSubscriptionsToggle}),!d&&p&&m?o.a.createElement(tv,{l10n:l,viewType:a,title:l("profile.messenger-direct-messages"),messengerSettingsLink:u,messengerPrivacy:m}):null,o.a.createElement("div",{className:lv("deactivate-profile")},o.a.createElement(cv,{className:lv("deactivate-profile-link")}))),o.a.createElement("div",{className:lv("footer")},o.a.createElement(Km,{viewType:"pending"===i?"regular":"yellow",widthType:"mobile"===a?"wide":void 0,size:"l",onClick:this.onSaveClick,disabled:"pending"===i},"pending"===i?o.a.createElement("div",{className:lv("pending")},o.a.createElement(Df,{className:lv("button-spinner")}),o.a.createElement("span",{className:lv("pending-message")},l("profile.editor-update-pending"))):l("profile.editor-update-action-long")),o.a.createElement("div",{className:lv("failure-message",{visible:"failure"===i})},l("profile.editor-update-failure"))))}}pv.contextType=Vn;const hv=hf(pv);n(168);const fv=$a("sticky");const mv=Vt(e=>({isWebview:Boolean(e.params.isWebview)}))(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={hasShadow:!1},t}componentDidMount(){wa({scroll:1,precise:!0},({state:e})=>{this.setState({hasShadow:0!==e})})}render(){const{children:e,isWebview:t}=this.props;if(!t)return o.a.createElement(o.a.Fragment,null,e);const{hasShadow:n}=this.state;return o.a.createElement("div",{className:fv({hasShadow:n})},e)}});n(169);const bv=$a("back-button"),gv="webviewstart",vv=({path:e,onClick:t,shouldWorkInWebview:n=!0})=>{const s=(({shouldWorkInWebview:e=!0,path:t}={})=>{const{isWebview:n,product:o}=Qt(e=>e.params),s=Kt(),{zenkitApi:i}=Wn();return Object(r.useCallback)(()=>{const r=dh(o);n&&e?r&&"onPageComplete"in r&&r.onPageComplete():t?s(pl(t)):null===window.history.state||window.history.state===gv?i?i.close():window.close():s(a())},[s,n,t,o,e,i])})({path:e,shouldWorkInWebview:n}),i=Object(r.useCallback)(e=>{t&&t(e),s()},[s,t]);return o.a.createElement("button",{className:bv(),onClick:i})},yv=e=>{const t=Kt();return Object(r.useCallback)((...n)=>t(e(...n)),[t,e])},_v=$a("profile-editor-screen");n(170),n(171);const Ev=il("radio"),wv=e=>{const{size:t="m",name:n,label:r,isChecked:s=!1,isDisabled:i=!1,onChange:a}=e,c=X(e,["size","name","label","isChecked","isDisabled","onChange"]),l=nl(c,{className:Ev({size:t,isDisabled:i,isChecked:s,withLabel:Boolean(r)})});return o.a.createElement("label",l,o.a.createElement("div",{className:Ev("box")},o.a.createElement("input",{type:"radio",className:Ev("control"),disabled:i,name:n,checked:s,onChange:a}),o.a.createElement("div",{className:Ev("tick")})),r?o.a.createElement("span",{className:Ev("label")},r):null)},Sv=(e=>{const t=(e,n)=>Object.keys(n).reduce((r,o)=>{const s=[...e,o];if(Ur(n[o]))r[o]=t(s,n[o]);else{const e=s.join(".");r[o]=e}return r},{});return t([],e)})({social_profile:{show:{self:!0,foreign:!0},onboarding:{show:{like:!0,comment:!0,subscribe:!0,profile:!0},click:{like:!0,comment:!0,subscribe:!0,profile:!0},closeClick:{like:!0,comment:!0,subscribe:!0,profile:!0}},subscriptions:{self:!0,foreign:!0},followers:{self:!0,foreign:!0},interests:{self:!0,foreign:!0},deactivate:{interests:!0,likes:!0,other:!0,show:!0,cancel:!0}}}),kv=$a("profile-deactivate"),Cv="deactivate",Ov="initial",Tv=500,Pv="other",Av=["interests","likes",Pv],Rv={interests:{text:e=>e("profile.deactivate-reason-interests-text"),hint:e=>e("profile.deactivate-reason-interests-hint"),stat:Sv.social_profile.deactivate.interests},likes:{text:e=>e("profile.deactivate-reason-likes-text"),hint:e=>e("profile.deactivate-reason-likes-hint"),stat:Sv.social_profile.deactivate.likes},[Pv]:{text:e=>e("profile.deactivate-reason-other-text"),hint:void 0,stat:Sv.social_profile.deactivate.other}};const xv=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={reason:"",isButtonDisabled:!0,otherReason:"",step:Ov,status:"",warnOtherLength:!1},this._getUserProfile=(()=>{const{userId:e,getUserProfile:t}=this.props;t(e)}),this._onReasonChange=(e=>{this.setState({reason:e,isButtonDisabled:!1})}),this._onOtherReasonChange=(e=>{const{value:t}=e.currentTarget;this.setState({otherReason:t&&t.slice(0,Tv),warnOtherLength:Boolean(t&&t.length>Tv)})}),this._onContinueClick=(()=>{const{step:e,reason:t,otherReason:n}=this.state,{profileScope:r,deactivateProfile:o,pushWithPreservedSearch:s,selfProfileLink:i,clientLogger:a,profileRedesign:c,refreshSourceFeed:l}=this.props,{data:u}=r;if(!u)return null;const{csrfToken:d}=u;if(e===Cv)return this.setState({status:"pending"}),o(t!==Pv?t:n,{token:d}).then(()=>{this.setState({status:""}),a.logClick(Rv[t].stat),c?l(u.source):s(i)},()=>{this.setState({status:"failure"})});this.setState({step:Cv})}),this._onBackButtonClick=(()=>{this.setState({step:Ov})}),this._renderReason=(e=>{const{reason:t}=this.state,{l10n:n}=this.props;return o.a.createElement("div",{key:e},o.a.createElement(wv,{size:"l",name:"reason",label:Rv[e].text(n),isChecked:t===e,onChange:()=>this._onReasonChange(e)}))}),this._maybeRenderHint=(()=>{const{reason:e}=this.state,{l10n:t}=this.props,n=e&&Rv[e];if(n&&n.hint)return o.a.createElement(om,{to:vn,className:kv("hint"),dangerouslySetInnerHTML:{__html:n.hint(t)}})}),this._maybeRenderCustomReasonForm=(()=>{const{viewType:e}=this.props,{reason:t,otherReason:n,warnOtherLength:r}=this.state,{l10n:s}=this.props;if(t===Pv)return o.a.createElement("div",{className:kv("other")},o.a.createElement(ag,{value:n,onChange:this._onOtherReasonChange,placeholder:s("profile.deactivate-reason-other-placeholder"),size:"mobile"===e?"m":"l"}),o.a.createElement("div",{className:kv("other-hint",{warn:r})},s("profile.deactivate-reason-other-hint")))}),this._renderReasons=(()=>o.a.createElement("div",{className:kv("reasons")},Av.map(e=>this._renderReason(e)))),this._maybeRenderInitialStep=(()=>{const{step:e}=this.state,{l10n:t}=this.props;return e!==Ov?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:kv("title")},t("profile.deactivate-init-title")),this._renderReasons(),this._maybeRenderHint(),this._maybeRenderCustomReasonForm())}),this._maybeRenderDeactivateStep=(()=>{const{step:e}=this.state,{viewType:t,l10n:n}=this.props;return e!==Cv?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:kv("title")},"mobile"===t?null:o.a.createElement(sf,{onClick:this._onBackButtonClick}),n("profile.deactivate-confirm-title")),o.a.createElement("p",null,n("profile.deactivate-confirm-message")),o.a.createElement("ul",{className:kv("points")},o.a.createElement("li",null,o.a.createElement("span",{className:kv("point-dot")}),n("profile.deactivate-confirm-message-point-1")),o.a.createElement("li",null,o.a.createElement("span",{className:kv("point-dot")}),n("profile.deactivate-confirm-message-point-2"))))}),t}componentDidMount(){const{clientLogger:e}=this.props;e.logShow(Sv.social_profile.deactivate.show),this._getUserProfile()}_maybeRenderMobileHeader(){const{viewType:e,nativeNavBarEnabled:t}=this.props;return"mobile"!==e||t?null:o.a.createElement(mv,null,o.a.createElement("div",{className:kv("mobile-header")},o.a.createElement(vv,{shouldWorkInWebview:!1})))}render(){const{isButtonDisabled:e,step:t,status:n}=this.state,{viewType:r,l10n:s}=this.props;return o.a.createElement("div",{className:kv({viewType:r})},this._maybeRenderMobileHeader(),o.a.createElement("div",{className:kv("body")},this._maybeRenderInitialStep(),this._maybeRenderDeactivateStep()),o.a.createElement("div",{className:kv("footer")},o.a.createElement("div",{className:kv("failure-message",{visible:"failure"===n})},s("profile.deactivate-failure")),"pending"===n?o.a.createElement("div",{className:kv("pending")},o.a.createElement(Df,null)):o.a.createElement(Km,{viewType:"yellow",widthType:"mobile"===r?"wide":void 0,size:"l",disabled:e&&t===Ov,onClick:this._onContinueClick},s(t===Ov?"profile.deactivate-continue":"profile.deactivate"))))}}),Nv=Object(G.createSelector)(Nm,e=>({logClick(t){Am(t)(e).log("client_click")},logShow(t){Am(t)(e).log("client_show")},logRender(t){Am(t)(e).log("client_render")}})),Iv={getUserProfile:mb,deactivateProfile:(e,t)=>async(n,r,{zenApi:o})=>{await o.deactivateProfile(e,t);const s=r(),{publicId:i,uid:a}=En(s);return n(gb(i||a))},pushWithPreservedSearch:pl,refreshSourceFeed:_h},Lv=qn(({zenApi:e})=>({zenApi:e}))(Vt((e,{zenApi:t})=>{const n=wn(e),r=sb(e,n),o=Nv(e,t),{nativeNavBarEnabled:s}=e.iface;return{userId:n,profileScope:r,selfProfileLink:Pu(e),clientLogger:o,profileRedesign:bu(e).redesign,nativeNavBarEnabled:s}},Iv)(xv));n(118);n(120);var jv=new Dh.a({id:"app-icon-s--inline",use:"app-icon-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="app-icon-s--inline">\n    <g transform="translate(-3.5, -3.5) scale (0.9)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 4a2 2 0 00-2 2v16c0 1.1.9 2 2 2h9a2 2 0 002-2V6a2 2 0 00-2-2h-9zm9 2h-9v16h9V6z" />\n    <path d="M11.5 19h5v2h-5z" />\n    </g>\n</symbol>'}),Mv=(Bh.a.add(jv),new Dh.a({id:"app-icon-m--inline",use:"app-icon-m--inline-usage",viewBox:"0 0 28 28",content:'<symbol viewBox="0 0 28 28" id="app-icon-m--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 4a2 2 0 00-2 2v16c0 1.1.9 2 2 2h9a2 2 0 002-2V6a2 2 0 00-2-2h-9zm9 2h-9v16h9V6z" />\n    <path d="M11.5 19h5v2h-5z" />\n</symbol>'}));Bh.a.add(Mv);$a("app-icon");n(119);const Dv=(e,t)=>{const[n,o]=Object(r.useState)(e);return Object(r.useEffect)(()=>{if(e!==n){const n=window.setTimeout(()=>{o(e)},t);return()=>{window.clearTimeout(n)}}},[n,e,t]),n},Fv=($a("sidebar-item-view"),$a("sidebar-app-button"),()=>{const e=tn(),t=Tp(()=>{const t=e.getState();if(t.params.bulk){const{bulk_params:e,stat_events:n}=t.params.bulk;return{bulkParams:e,statEvents:n}}}),n=oh(t),o=Object(r.useCallback)(e=>{n("client_click",{eventReplaceMap:{__els__:e}})},[n]),s=Object(r.useCallback)(e=>{n("client_show",{eventReplaceMap:{__els__:e}})},[n]);return{clientClick:o,clientRender:Object(r.useCallback)((e,{ttfb:t,html:r,fcp:o,fmp:s,tti:i,t:a})=>{var c,l,u,d,p,h;n("client_render",{eventReplaceMap:{__els__:e,__ttfb__:null!==(c=t)&&void 0!==c?c:"__ttfb__",__html__:null!==(l=r)&&void 0!==l?l:"__html__",__fcp__:null!==(u=o)&&void 0!==u?u:"__fcp__",__fmp__:null!==(d=s)&&void 0!==d?d:"__fmp__",__tti__:null!==(p=i)&&void 0!==p?p:"__tti__",__t__:null!==(h=a)&&void 0!==h?h:"__t__"}})},[n]),clientShow:s}});n(121);const Bv=({stroke:e,className:t})=>o.a.createElement("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:e,transform:"translate(-1 -1)"},o.a.createElement("circle",{cx:"9",cy:"9",r:"7",strokeWidth:"2"}),o.a.createElement("path",{strokeLinecap:"square",strokeWidth:"2",d:"M4.5 4.5l9.055 9.055"})));const Uv=({stroke:e,className:t})=>o.a.createElement("svg",{className:t,width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M2 7.473L8.42857 13.25L20 2",stroke:e,strokeWidth:"3"}));n(124);var zv=new Dh.a({id:"app-store-ru--inline",use:"app-store-ru--inline-usage",viewBox:"0 0 135 40",content:'<symbol fill="none" viewBox="0 0 135 40" id="app-store-ru--inline">\n    <defs></defs>\n    <path d="M125.47 0H8.44l-.92.01c-.67.01-1.34.07-2 .18A6.67 6.67 0 002 2 6.26 6.26 0 00.2 5.53a13 13 0 00-.18 2L0 8.44v23.12c0 .3 0 .61.02.92a13 13 0 00.17 2A6.59 6.59 0 002 38a6.27 6.27 0 003.53 1.81c.66.1 1.33.17 2 .18h.92l1.1.01H126.55l.92-.01c.67-.01 1.33-.07 2-.18a6.3 6.3 0 004.7-3.42c.3-.6.51-1.25.62-1.9.11-.67.18-1.34.19-2.01v-.92l.01-1.1V9.54v-1.1l-.01-.92c-.01-.67-.08-1.34-.19-2A6.47 6.47 0 00129.47.2c-.66-.1-1.32-.17-2-.18h-.91L125.47 0z" fill="#A6A6A6" />\n    <path d="M8.57 39.12h-.9c-.63-.01-1.25-.07-1.87-.17a5.88 5.88 0 01-3.06-1.56 5.32 5.32 0 01-1.56-3.06c-.1-.62-.16-1.24-.17-1.87L1 31.54V8.44l.01-.89c.01-.63.07-1.25.17-1.87a5.76 5.76 0 011.56-3.06 5.57 5.57 0 013.05-1.57C6.41.95 7.04.9 7.67.9l.9-.01h118.77c.62.02 1.24.07 1.85.17a5.59 5.59 0 014.62 4.62 12.98 12.98 0 01.18 2.77l.01 1.1v22l-.01.93c-.01.62-.07 1.24-.17 1.85a5.72 5.72 0 01-1.56 3.06 5.41 5.41 0 01-3.07 1.57c-.61.1-1.24.16-1.86.16l-.9.01H8.57z" fill="#000" />\n    <path d="M24.77 20.3a4.95 4.95 0 012.36-4.15 5.07 5.07 0 00-4-2.16c-1.68-.18-3.3 1-4.16 1-.87 0-2.19-.98-3.6-.95a5.32 5.32 0 00-4.48 2.73c-1.93 3.34-.5 8.26 1.36 10.97.93 1.33 2.01 2.8 3.43 2.75 1.39-.05 1.9-.88 3.58-.88 1.66 0 2.14.88 3.59.85 1.49-.02 2.43-1.33 3.32-2.67.67-.94 1.18-1.99 1.52-3.09a4.78 4.78 0 01-2.92-4.4zM22.04 12.21a4.87 4.87 0 001.11-3.49 4.96 4.96 0 00-4.11 3.23c-.2.57-.28 1.18-.24 1.8a4.1 4.1 0 003.24-1.54zM42.3 27.14h-4.73l-1.14 3.36h-2l4.48-12.42h2.08l4.49 12.42h-2.04l-1.14-3.36zm-4.24-1.55h3.75l-1.85-5.45h-.05l-1.85 5.45zM55.16 25.97c0 2.81-1.5 4.62-3.78 4.62a3.07 3.07 0 01-2.85-1.58h-.04v4.48h-1.86V21.44h1.8v1.5h.03a3.21 3.21 0 012.89-1.6c2.3 0 3.8 1.82 3.8 4.63zm-1.91 0c0-1.83-.95-3.04-2.4-3.04-1.41 0-2.37 1.23-2.37 3.04 0 1.82.96 3.05 2.38 3.05 1.44 0 2.39-1.2 2.39-3.05zM65.12 25.97c0 2.81-1.5 4.62-3.77 4.62a3.07 3.07 0 01-2.85-1.58h-.05v4.48H56.6V21.44h1.8v1.5h.03a3.21 3.21 0 012.88-1.6c2.3 0 3.81 1.82 3.81 4.63zm-1.9 0c0-1.83-.95-3.04-2.4-3.04-1.42 0-2.37 1.23-2.37 3.04 0 1.82.95 3.05 2.37 3.05 1.45 0 2.4-1.2 2.4-3.05zM71.71 27.04c.14 1.23 1.33 2.04 2.97 2.04 1.57 0 2.7-.81 2.7-1.92 0-.97-.69-1.54-2.3-1.94l-1.6-.39c-2.29-.55-3.35-1.61-3.35-3.34 0-2.15 1.87-3.62 4.52-3.62 2.63 0 4.43 1.47 4.49 3.62h-1.88c-.11-1.24-1.14-2-2.63-2-1.5 0-2.52.76-2.52 1.87 0 .87.65 1.4 2.25 1.79l1.37.33c2.55.6 3.6 1.63 3.6 3.44 0 2.33-1.85 3.78-4.79 3.78-2.75 0-4.61-1.42-4.73-3.66h1.9zM83.35 19.3v2.14h1.72v1.47h-1.72v5c0 .77.34 1.13 1.1 1.13.2 0 .4-.02.6-.04v1.46c-.33.07-.68.1-1.02.09-1.84 0-2.55-.7-2.55-2.45v-5.19h-1.32v-1.47h1.32V19.3h1.87zM86.06 25.97c0-2.85 1.68-4.64 4.3-4.64s4.3 1.8 4.3 4.64c0 2.86-1.67 4.64-4.3 4.64s-4.3-1.78-4.3-4.64zm6.7 0c0-1.95-.9-3.1-2.4-3.1s-2.4 1.15-2.4 3.1c0 1.96.9 3.1 2.4 3.1s2.4-1.14 2.4-3.1zM96.19 21.44h1.77v1.54H98a2.16 2.16 0 012.18-1.63c.21 0 .43.02.63.07v1.74a2.59 2.59 0 00-.83-.12 1.87 1.87 0 00-1.94 2.09v5.37H96.2v-9.06zM109.38 27.84c-.25 1.64-1.85 2.77-3.9 2.77-2.63 0-4.26-1.77-4.26-4.6 0-2.84 1.64-4.68 4.19-4.68 2.5 0 4.08 1.72 4.08 4.47v.63h-6.4v.12a2.35 2.35 0 002.44 2.56 2.05 2.05 0 002.09-1.27h1.76zm-6.28-2.7h4.53a2.17 2.17 0 00-2.22-2.3 2.29 2.29 0 00-2.3 2.3zM36.74 11.25h.8a1 1 0 001.12-.95c0-.55-.41-.9-1.12-.9a1.06 1.06 0 00-1.2.93h-.88a1.87 1.87 0 012.11-1.74c1.18 0 2 .65 2 1.6a1.39 1.39 0 01-1.08 1.37v.07a1.39 1.39 0 011.33 1.44 2 2 0 01-2.23 1.77 1.98 1.98 0 01-2.24-1.76h.89c.05.57.58.94 1.35.94.77 0 1.28-.42 1.28-1 0-.6-.48-.96-1.3-.96h-.83v-.8zM40.83 13.42c0-.8.6-1.27 1.67-1.34l1.22-.07v-.39c0-.47-.31-.74-.92-.74-.5 0-.84.18-.94.5H41c.1-.78.82-1.27 1.84-1.27 1.13 0 1.77.56 1.77 1.51v3.08h-.86v-.64h-.07a1.52 1.52 0 01-1.35.71 1.36 1.36 0 01-1.5-1.35zm2.9-.38v-.38l-1.1.07c-.63.04-.9.26-.9.65 0 .4.34.64.83.64a1.06 1.06 0 001.16-.98zM46.97 10.94v3.76h-.9v-4.5h2.97v.74h-2.07zM54.43 12.44c0 1.43-.72 2.33-1.86 2.33a1.47 1.47 0 01-1.39-.75h-.07v2.17h-.89v-6h.86v.75h.07a1.56 1.56 0 011.41-.82c1.15 0 1.87.9 1.87 2.32zm-.91 0c0-.95-.45-1.52-1.2-1.52-.76 0-1.22.59-1.22 1.53 0 .94.46 1.52 1.2 1.52.77 0 1.22-.57 1.22-1.53zM55.61 16.31v-.76l.3.01a.77.77 0 00.8-.63l.07-.22-1.63-4.52h.97l1.13 3.58h.07l1.13-3.58h.94l-1.68 4.7c-.38 1.09-.81 1.44-1.73 1.44-.07 0-.28 0-.37-.02zM60.08 13.42h.89c.08.4.45.6.98.6.59 0 .95-.26.95-.66 0-.44-.33-.64-.95-.64h-.68v-.7h.66c.54 0 .81-.2.81-.58 0-.33-.26-.58-.8-.58-.5 0-.87.21-.92.57h-.86a1.58 1.58 0 011.77-1.32c1.07 0 1.69.48 1.69 1.24a.93.93 0 01-.71.92v.07a1.01 1.01 0 01.88 1.02c0 .85-.73 1.42-1.84 1.42-.99 0-1.79-.45-1.87-1.36zM65.07 14.7v-4.5h.88v3.1h.07l2.07-3.1h.88v4.5h-.88v-3.12h-.06l-2.08 3.12h-.88zM73.83 10.94H72.4v3.76h-.9v-3.76H70.1v-.75h3.73v.75zM78.61 13.48a1.83 1.83 0 01-1.95 1.3 2.04 2.04 0 01-2.08-2.32 2.08 2.08 0 012.08-2.35c1.25 0 2 .85 2 2.27v.3H75.5v.06a1.19 1.19 0 001.2 1.29 1.08 1.08 0 001.07-.55h.85zm-3.12-1.45h2.27a1.08 1.08 0 00-1.1-1.17 1.15 1.15 0 00-1.17 1.17zM82.38 10.2h2.03c.88 0 1.4.44 1.4 1.14a.97.97 0 01-.76.95v.07A1.03 1.03 0 0186 13.4c0 .78-.6 1.3-1.58 1.3h-2.05v-4.5zm.88.68v1.16h.88c.54 0 .8-.2.8-.58 0-.36-.23-.58-.7-.58h-.98zm0 1.82v1.32h1.05c.53 0 .81-.24.81-.66 0-.45-.32-.66-.92-.66h-.94z" fill="#fff" />\n</symbol>'}),Hv=(Bh.a.add(zv),zv),$v=new Dh.a({id:"app-store-en--inline",use:"app-store-en--inline-usage",viewBox:"0 0 135 40",content:'<symbol fill="none" viewBox="0 0 135 40" id="app-store-en--inline">\n    <defs></defs>\n    <g clip-path="url(#app-store-en--inline_clip0)">\n        <path d="M125.44 0H8.46l-.92.01c-.67.01-1.34.07-2 .18A6.7 6.7 0 002 2 6.26 6.26 0 00.2 5.53c-.12.66-.18 1.33-.18 2L0 8.44v23.12c0 .3 0 .61.02.92 0 .67.06 1.34.17 2A6.58 6.58 0 002 38a6.3 6.3 0 003.53 1.81c.67.1 1.34.17 2.01.18a41.85 41.85 0 002.02.01H126.54l.91-.01c.68-.01 1.35-.07 2.01-.18a6.28 6.28 0 004.72-3.42c.3-.6.51-1.25.62-1.9.11-.67.18-1.34.19-2.01v-.92l.01-1.1V9.54v-1.1l-.01-.92c-.01-.67-.08-1.34-.19-2A6.47 6.47 0 00129.46.2c-.66-.1-1.33-.17-2-.18h-.93L125.44 0z" fill="#A6A6A6" />\n        <path d="M8.47 39.13c-.3 0-.6 0-.9-.02-.64 0-1.26-.06-1.88-.16a5.91 5.91 0 01-3.06-1.56 5.32 5.32 0 01-1.57-3.06c-.1-.62-.16-1.24-.17-1.87l-.01-.92V8.44l.01-.89c0-.63.06-1.25.17-1.87a5.74 5.74 0 011.56-3.06 5.58 5.58 0 013.06-1.57C6.31.95 6.93.9 7.56.9l.9-.02h118.07l.91.02c.63 0 1.25.06 1.87.16a5.6 5.6 0 014.63 4.62 12.84 12.84 0 01.18 2.77v24.03c-.02.62-.08 1.24-.18 1.85a5.46 5.46 0 01-2.96 4.08 5.9 5.9 0 01-1.68.55c-.61.1-1.24.16-1.87.16l-.9.02H8.47z" fill="#000" />\n        <path d="M24.84 20.3a4.94 4.94 0 012.36-4.15 5.07 5.07 0 00-4-2.16c-1.68-.18-3.32 1-4.18 1-.87 0-2.2-.98-3.61-.95a5.34 5.34 0 00-4.49 2.73c-1.94 3.34-.5 8.27 1.37 10.97.93 1.33 2.01 2.8 3.43 2.75 1.4-.05 1.91-.88 3.6-.88 1.66 0 2.14.88 3.6.85 1.49-.02 2.43-1.33 3.32-2.67.67-.94 1.18-1.99 1.53-3.09a4.8 4.8 0 01-2.93-4.4zM22.1 12.21a4.86 4.86 0 001.12-3.49 4.98 4.98 0 00-4.13 3.23c-.2.57-.28 1.18-.24 1.8a4.12 4.12 0 003.25-1.54zM42.42 27.14h-4.75l-1.14 3.36h-2l4.49-12.42h2.09l4.5 12.42h-2.05l-1.14-3.36zm-4.25-1.55h3.76l-1.86-5.45h-.05l-1.85 5.45zM55.31 25.97c0 2.81-1.5 4.62-3.78 4.62a3.09 3.09 0 01-2.86-1.58h-.04v4.48h-1.87V21.44h1.8v1.5h.04a3.22 3.22 0 012.9-1.6c2.3 0 3.81 1.82 3.81 4.63zm-1.91 0c0-1.83-.95-3.04-2.4-3.04-1.42 0-2.38 1.23-2.38 3.04 0 1.82.96 3.05 2.38 3.05 1.45 0 2.4-1.2 2.4-3.05zM65.3 25.97c0 2.81-1.5 4.62-3.78 4.62a3.09 3.09 0 01-2.86-1.58h-.04v4.48h-1.86V21.44h1.8v1.5h.03a3.22 3.22 0 012.9-1.6c2.3 0 3.82 1.82 3.82 4.63zm-1.9 0c0-1.83-.96-3.04-2.4-3.04-1.43 0-2.39 1.23-2.39 3.04 0 1.82.96 3.05 2.38 3.05 1.45 0 2.4-1.2 2.4-3.05zM71.91 27.04c.14 1.23 1.34 2.04 2.98 2.04 1.57 0 2.7-.81 2.7-1.92 0-.97-.68-1.54-2.3-1.94l-1.61-.39c-2.29-.55-3.35-1.61-3.35-3.34 0-2.15 1.87-3.62 4.53-3.62 2.63 0 4.44 1.47 4.5 3.62h-1.88c-.11-1.24-1.14-2-2.64-2-1.5 0-2.53.76-2.53 1.87 0 .87.65 1.4 2.26 1.79l1.37.33c2.56.6 3.62 1.63 3.62 3.44 0 2.33-1.86 3.78-4.8 3.78-2.77 0-4.64-1.42-4.76-3.66h1.91zM83.58 19.3v2.14h1.73v1.47h-1.73v5c0 .77.35 1.13 1.1 1.13.21 0 .41-.02.62-.04v1.46c-.34.07-.69.1-1.04.09-1.84 0-2.55-.7-2.55-2.45v-5.19h-1.32v-1.47h1.32V19.3h1.87zM86.3 25.97c0-2.85 1.69-4.64 4.31-4.64 2.64 0 4.31 1.8 4.31 4.64 0 2.86-1.67 4.64-4.3 4.64-2.65 0-4.31-1.78-4.31-4.64zm6.72 0c0-1.95-.9-3.1-2.4-3.1-1.52 0-2.41 1.15-2.41 3.1 0 1.96.9 3.1 2.4 3.1 1.51 0 2.41-1.14 2.41-3.1zM96.46 21.44h1.77v1.54h.05a2.16 2.16 0 012.18-1.63c.22 0 .43.02.64.07v1.74a2.61 2.61 0 00-.84-.12 1.88 1.88 0 00-1.94 2.09v5.37h-1.86v-9.06zM109.7 27.84c-.26 1.64-1.86 2.77-3.92 2.77-2.64 0-4.28-1.77-4.28-4.6 0-2.84 1.65-4.68 4.2-4.68 2.52 0 4.1 1.72 4.1 4.47v.63h-6.42v.12a2.35 2.35 0 002.45 2.56 2.06 2.06 0 002.1-1.27h1.76zm-6.3-2.7h4.53a2.18 2.18 0 00-2.23-2.3 2.3 2.3 0 00-2.3 2.3zM37.93 8.73a2.65 2.65 0 012.82 2.97c0 1.9-1.04 3-2.82 3h-2.16V8.73h2.16zm-1.23 5.12h1.13a1.89 1.89 0 001.97-2.14 1.88 1.88 0 00-1.97-2.14H36.7v4.28zM41.8 12.44a2.13 2.13 0 012.13-2.33 2.14 2.14 0 012.13 2.33 2.13 2.13 0 01-2.13 2.34 2.15 2.15 0 01-2.13-2.34zm3.34 0c0-.97-.44-1.54-1.21-1.54-.78 0-1.21.57-1.21 1.54 0 .99.43 1.55 1.2 1.55.78 0 1.22-.57 1.22-1.55zM51.72 14.7h-.93l-.93-3.32h-.07l-.93 3.32h-.92l-1.24-4.5h.9l.81 3.43h.07l.93-3.44h.85l.93 3.44h.07l.8-3.44h.9l-1.24 4.5zM54 10.2h.86v.71h.07a1.35 1.35 0 011.35-.8 1.47 1.47 0 011.56 1.67v2.92h-.9V12c0-.72-.3-1.08-.97-1.08a1.04 1.04 0 00-1.07 1.14v2.64H54v-4.5zM59.26 8.44h.9v6.26h-.9V8.44zM61.39 12.44a2.13 2.13 0 012.13-2.33 2.14 2.14 0 012.13 2.33 2.13 2.13 0 01-2.13 2.34 2.15 2.15 0 01-2.13-2.34zm3.34 0c0-.97-.44-1.54-1.2-1.54-.78 0-1.22.57-1.22 1.54 0 .99.44 1.55 1.21 1.55s1.21-.57 1.21-1.55zM66.59 13.42c0-.8.6-1.27 1.68-1.34l1.22-.07v-.39c0-.47-.32-.74-.92-.74-.5 0-.85.18-.95.5h-.86c.1-.78.82-1.27 1.85-1.27 1.13 0 1.77.56 1.77 1.51v3.08h-.86v-.64h-.07a1.52 1.52 0 01-1.36.71 1.37 1.37 0 01-1.5-1.35zm2.9-.38v-.38l-1.1.07c-.62.04-.9.26-.9.65 0 .4.35.64.83.64a1.07 1.07 0 001.17-.98zM71.55 12.44c0-1.42.73-2.32 1.87-2.32a1.5 1.5 0 011.39.79h.06V8.44h.9v6.26h-.86v-.71h-.07a1.56 1.56 0 01-1.42.78c-1.15 0-1.87-.9-1.87-2.33zm.92 0c0 .96.45 1.53 1.2 1.53.76 0 1.22-.58 1.22-1.52 0-.94-.47-1.53-1.21-1.53-.75 0-1.21.58-1.21 1.52zM79.45 12.44a2.13 2.13 0 012.13-2.33 2.14 2.14 0 012.13 2.33 2.13 2.13 0 01-2.13 2.34 2.15 2.15 0 01-2.13-2.34zm3.34 0c0-.97-.43-1.54-1.2-1.54-.78 0-1.22.57-1.22 1.54 0 .99.44 1.55 1.21 1.55.78 0 1.21-.57 1.21-1.55zM84.9 10.2h.86v.71h.07a1.35 1.35 0 011.35-.8 1.47 1.47 0 011.56 1.67v2.92h-.89V12c0-.72-.31-1.08-.97-1.08a1.04 1.04 0 00-1.08 1.14v2.64h-.9v-4.5zM93.78 9.07v1.15h.98v.74h-.98v2.32c0 .47.2.68.64.68l.34-.02v.74c-.16.03-.33.04-.49.04-.99 0-1.38-.35-1.38-1.21v-2.55h-.72v-.74h.72V9.07h.89zM95.97 8.44h.89v2.48h.07a1.39 1.39 0 011.37-.8 1.49 1.49 0 011.56 1.67v2.9h-.9v-2.68c0-.72-.33-1.08-.96-1.08a1.06 1.06 0 00-1.14 1.14v2.63h-.89V8.44zM105.06 13.48a1.83 1.83 0 01-1.96 1.3 2.06 2.06 0 01-2.09-2.32 2.06 2.06 0 011.22-2.17c.27-.12.57-.18.86-.18 1.26 0 2.02.85 2.02 2.27v.3h-3.19v.06a1.2 1.2 0 001.2 1.29 1.08 1.08 0 001.08-.55h.86zm-3.14-1.45h2.28a1.09 1.09 0 00-1.11-1.17 1.16 1.16 0 00-1.17 1.17z" fill="#fff" />\n    </g>\n    <defs>\n        <clipPath id="app-store-en--inline_clip0">\n            <path fill="#fff" d="M0 0h135v40H0z" />\n        </clipPath>\n    </defs>\n</symbol>'}),Vv=(Bh.a.add($v),$v),Wv=new Dh.a({id:"google-store-ru--inline",use:"google-store-ru--inline-usage",viewBox:"0 0 135 40",content:'<symbol fill="none" viewBox="0 0 135 40" id="google-store-ru--inline">\n    <defs></defs>\n    <path d="M130 0H5a5 5 0 00-5 5v30a5 5 0 005 5h125a5 5 0 005-5V5a5 5 0 00-5-5z" fill="#000" />\n    <path d="M130 .8a4.2 4.2 0 014.2 4.2v30a4.198 4.198 0 01-4.2 4.2H5A4.2 4.2 0 01.8 35V5A4.2 4.2 0 015 .8h125zm0-.8H5a5 5 0 00-5 5v30a5 5 0 005 5h125a5.002 5.002 0 005-5V5a5.002 5.002 0 00-5-5z" fill="#A6A6A6" />\n    <path d="M68.14 21.75A4.25 4.25 0 1072.41 26a4.19 4.19 0 00-4.27-4.25zm0 6.83a2.58 2.58 0 112.4-2.58 2.46 2.46 0 01-2.4 2.58zm-9.31-6.83A4.25 4.25 0 1063.09 26a4.192 4.192 0 00-4.27-4.25h.01zm0 6.83A2.58 2.58 0 1161.22 26a2.46 2.46 0 01-2.4 2.58h.01zm-11.09-5.52v1.8h4.32a3.77 3.77 0 01-1 2.27 4.422 4.422 0 01-3.33 1.32 4.8 4.8 0 010-9.6A4.6 4.6 0 0151 20.14l1.27-1.27A6.29 6.29 0 0047.74 17a6.61 6.61 0 100 13.21 6 6 0 004.61-1.85 6 6 0 001.56-4.22 5.875 5.875 0 00-.1-1.13l-6.07.05zm45.31 1.4a4 4 0 00-3.64-2.71 4.001 4.001 0 00-4 4.25 4.16 4.16 0 004.22 4.25 4.23 4.23 0 003.54-1.88l-1.45-1a2.43 2.43 0 01-2.09 1.18 2.16 2.16 0 01-2.06-1.29l5.69-2.35-.21-.45zm-5.8 1.42a2.33 2.33 0 012.22-2.48 1.65 1.65 0 011.58.9l-3.8 1.58zM82.63 30h1.87V17.5h-1.87V30zm-3.06-7.3h-.07a3 3 0 00-2.24-1 4.26 4.26 0 000 8.51 2.9 2.9 0 002.24-1h.06v.61c0 1.63-.87 2.5-2.27 2.5a2.35 2.35 0 01-2.14-1.51l-1.63.68A4.05 4.05 0 0077.29 34c2.19 0 4-1.29 4-4.43V22h-1.72v.7zm-2.14 5.88a2.59 2.59 0 010-5.16A2.402 2.402 0 0179.7 26a2.38 2.38 0 01-2.28 2.58h.01zm24.38-11.08h-4.47V30h1.87v-4.74h2.61a3.889 3.889 0 100-7.76h-.01zm0 6H99.2v-4.26h2.65a2.145 2.145 0 110 4.29l-.04-.03zm11.53-1.8a3.498 3.498 0 00-3.33 1.91l1.66.69a1.777 1.777 0 011.7-.92 1.804 1.804 0 011.792.931c.114.21.184.441.208.679v.13a4.13 4.13 0 00-1.95-.48c-1.79 0-3.6 1-3.6 2.81a2.904 2.904 0 00.969 2.03 2.892 2.892 0 002.131.72 2.634 2.634 0 002.4-1.2h.06v1h1.8v-4.81c0-2.19-1.66-3.46-3.79-3.46l-.05-.03zm-.23 6.85c-.61 0-1.46-.31-1.46-1.06 0-1 1.06-1.33 2-1.33a3.32 3.32 0 011.7.42 2.26 2.26 0 01-2.19 2l-.05-.03zM123.74 22l-2.14 5.42h-.06L119.32 22h-2l3.33 7.58-1.9 4.21h1.95L125.82 22h-2.08zm-16.81 8h1.87V17.5h-1.87V30z" fill="#fff" />\n    <path d="M10.44 7.54a2 2 0 00-.46 1.4v22.12a2 2 0 00.46 1.4l.07.07L22.9 20.15v-.29L10.51 7.47l-.07.07z" fill="url(#google-store-ru--inline_paint0_linear)" />\n    <path d="M27 24.28l-4.1-4.13v-.29l4.1-4.14.09.05L32 18.56c1.4.79 1.4 2.09 0 2.89l-4.89 2.78-.11.05z" fill="url(#google-store-ru--inline_paint1_linear)" />\n    <path d="M27.12 24.22L22.9 20 10.44 32.46a1.63 1.63 0 002.08.06l14.61-8.3" fill="url(#google-store-ru--inline_paint2_linear)" />\n    <path d="M27.12 15.78l-14.61-8.3a1.63 1.63 0 00-2.08.06L22.9 20l4.22-4.22z" fill="url(#google-store-ru--inline_paint3_linear)" />\n    <path opacity=".2" d="M27 24.13l-14.49 8.25a1.67 1.67 0 01-2 0l-.07.07.07.07a1.66 1.66 0 002 0l14.61-8.3-.12-.09z" fill="#000" />\n    <path opacity=".12" d="M10.44 32.32a2 2 0 01-.46-1.4v.15a2 2 0 00.46 1.4l.07-.07-.07-.08zM32 21.3l-5 2.83.09.09L32 21.44A1.75 1.75 0 0033 20a1.86 1.86 0 01-1 1.3z" fill="#000" />\n    <path opacity=".25" d="M12.51 7.62L32 18.7a1.86 1.86 0 011 1.3 1.75 1.75 0 00-1-1.44L12.51 7.48c-1.4-.79-2.54-.13-2.54 1.47v.15c.03-1.61 1.15-2.27 2.54-1.48z" fill="#fff" />\n    <path d="M42.11 14.27h-.74v-2H42a2.86 2.86 0 00.76-2.3V7h4v5.26h.67v2h-.74V13h-4.58v1.27zM43.5 10a4 4 0 01-.57 2.3h3V7.74H43.5V10zm9.91 2.22a3.12 3.12 0 01-4.4 0 3.24 3.24 0 010-4.45 3.1 3.1 0 014.4 0 3.23 3.23 0 010 4.45zm-3.83-.5a2.31 2.31 0 003.26 0 2.56 2.56 0 000-3.44 2.31 2.31 0 00-3.26 0 2.56 2.56 0 000 3.44zm8.6 1.41A3.06 3.06 0 0155.06 10a3.06 3.06 0 013.12-3.13 2.77 2.77 0 012.2 1l-.54.52a2 2 0 00-1.67-.76 2.27 2.27 0 00-1.66.66 2.57 2.57 0 000 3.47 2.27 2.27 0 001.66.66 2.371 2.371 0 001.83-.89l.54.54a2.92 2.92 0 01-1 .78 3.15 3.15 0 01-1.36.28zm5.5-.13h-.77V7.74h-1.68V7h4.12v.74h-1.67V13zm6.97-6l-2.27 5.06A1.51 1.51 0 0167 13.13a1.543 1.543 0 01-.6-.13l.2-.71c.122.07.26.109.4.11a.71.71 0 00.42-.1.94.94 0 00.27-.38l.22-.48-2-4.43h.91l1.48 3.44L69.74 7h.91zm.87 6V7h4.34v6h-.77V7.74h-2.8V13h-.77zm5.71 0V7H78v2.57h3V7h.77v6H81v-2.71h-3V13h-.77zm10.83-.78a3.12 3.12 0 01-4.4 0 3.24 3.24 0 010-4.45 3.1 3.1 0 014.4 0 3.23 3.23 0 010 4.45zm-3.83-.5a2.31 2.31 0 003.26 0 2.56 2.56 0 000-3.44 2.31 2.31 0 00-3.26 0 2.56 2.56 0 000 3.44zM92.09 13V7h2.17a1.76 1.76 0 011.22.46A1.51 1.51 0 0196 8.63a1.31 1.31 0 01-.22.75 1.39 1.39 0 01-.59.49c.29.096.545.277.73.52.192.245.295.549.29.86a1.57 1.57 0 01-.54 1.22 1.85 1.85 0 01-1.28.49l-2.3.04zm.77-3.43h1.4a.9.9 0 00.7-.29A.889.889 0 0095 8a.86.86 0 00-.67-.29H92.9l-.04 1.86zm0 2.69h1.55a.92.92 0 00.72-.31 1 1 0 00.28-.68 1 1 0 00-1-1h-1.52l-.03 1.99z" fill="#fff" stroke="#fff" stroke-width=".2" stroke-miterlimit="10" />\n    <defs>\n        <linearGradient id="google-store-ru--inline_paint0_linear" x1="21.8" y1="8.71" x2="5.02" y2="25.49" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#00A0FF" />\n            <stop offset=".01" stop-color="#00A1FF" />\n            <stop offset=".26" stop-color="#00BEFF" />\n            <stop offset=".51" stop-color="#00D2FF" />\n            <stop offset=".76" stop-color="#00DFFF" />\n            <stop offset="1" stop-color="#00E3FF" />\n        </linearGradient>\n        <linearGradient id="google-store-ru--inline_paint1_linear" x1="33.83" y1="20" x2="9.64" y2="20" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#FFE000" />\n            <stop offset=".41" stop-color="#FFBD00" />\n            <stop offset=".78" stop-color="orange" />\n            <stop offset="1" stop-color="#FF9C00" />\n        </linearGradient>\n        <linearGradient id="google-store-ru--inline_paint2_linear" x1="24.83" y1="22.3" x2="2.07" y2="45.05" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#FF3A44" />\n            <stop offset="1" stop-color="#C31162" />\n        </linearGradient>\n        <linearGradient id="google-store-ru--inline_paint3_linear" x1="7.3" y1=".18" x2="17.46" y2="10.34" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#32A071" />\n            <stop offset=".07" stop-color="#2DA771" />\n            <stop offset=".48" stop-color="#15CF74" />\n            <stop offset=".8" stop-color="#06E775" />\n            <stop offset="1" stop-color="#00F076" />\n        </linearGradient>\n    </defs>\n</symbol>'}),qv=(Bh.a.add(Wv),Wv),Gv=new Dh.a({id:"google-store-en--inline",use:"google-store-en--inline-usage",viewBox:"0 0 135 40",content:'<symbol fill="none" viewBox="0 0 135 40" id="google-store-en--inline">\n    <defs></defs>\n    <path d="M130 0H5a5 5 0 00-5 5v30a5 5 0 005 5h125a5 5 0 005-5V5a5 5 0 00-5-5z" fill="#000" />\n    <path d="M130 .8a4.2 4.2 0 014.2 4.2v30a4.198 4.198 0 01-4.2 4.2H5A4.2 4.2 0 01.8 35V5A4.2 4.2 0 015 .8h125zm0-.8H5a5 5 0 00-5 5v30a5 5 0 005 5h125a5.002 5.002 0 005-5V5a5.002 5.002 0 00-5-5z" fill="#A6A6A6" />\n    <path d="M47.42 10.24a2.709 2.709 0 01-.75 2 2.91 2.91 0 01-2.2.89 3.151 3.151 0 01-2.21-5.37 3 3 0 012.21-.9 3.1 3.1 0 011.23.25c.362.146.684.376.94.67l-.53.53a2 2 0 00-1.64-.71 2.32 2.32 0 00-2.33 2.4 2.36 2.36 0 004 1.73 1.89 1.89 0 00.5-1.22h-2.17v-.72h2.91c.027.149.04.3.04.45zM52 7.74h-2.7v1.9h2.46v.72H49.3v1.9H52V13h-3.5V7H52v.74zM55.28 13h-.77V7.74h-1.68V7H57v.74h-1.72V13zm4.66 0V7h.77v6h-.77zm4.19 0h-.77V7.74h-1.68V7h4.12v.74h-1.67V13zm9.48-.78a3.12 3.12 0 01-4.4 0 3.24 3.24 0 010-4.45 3.1 3.1 0 014.4 0 3.23 3.23 0 010 4.45zm-3.83-.5a2.31 2.31 0 003.26 0 2.56 2.56 0 000-3.44 2.31 2.31 0 00-3.26 0 2.56 2.56 0 000 3.44zm5.8 1.28V7h.94l2.92 4.67V7h.77v6h-.8l-3.05-4.89V13h-.78z" fill="#fff" stroke="#fff" stroke-width=".2" stroke-miterlimit="10" />\n    <path d="M68.14 21.75A4.25 4.25 0 1072.41 26a4.19 4.19 0 00-4.27-4.25zm0 6.83a2.58 2.58 0 112.4-2.58 2.46 2.46 0 01-2.4 2.58zm-9.31-6.83A4.25 4.25 0 1063.09 26a4.192 4.192 0 00-4.27-4.25h.01zm0 6.83A2.58 2.58 0 1161.22 26a2.46 2.46 0 01-2.4 2.58h.01zm-11.09-5.52v1.8h4.32a3.77 3.77 0 01-1 2.27 4.422 4.422 0 01-3.33 1.32 4.8 4.8 0 010-9.6A4.6 4.6 0 0151 20.14l1.27-1.27A6.29 6.29 0 0047.74 17a6.61 6.61 0 100 13.21 6 6 0 004.61-1.85 6 6 0 001.56-4.22 5.875 5.875 0 00-.1-1.13l-6.07.05zm45.31 1.4a4 4 0 00-3.64-2.71 4.001 4.001 0 00-4 4.25 4.16 4.16 0 004.22 4.25 4.23 4.23 0 003.54-1.88l-1.45-1a2.43 2.43 0 01-2.09 1.18 2.16 2.16 0 01-2.06-1.29l5.69-2.35-.21-.45zm-5.8 1.42a2.33 2.33 0 012.22-2.48 1.65 1.65 0 011.58.9l-3.8 1.58zM82.63 30h1.87V17.5h-1.87V30zm-3.06-7.3h-.07a3 3 0 00-2.24-1 4.26 4.26 0 000 8.51 2.9 2.9 0 002.24-1h.06v.61c0 1.63-.87 2.5-2.27 2.5a2.35 2.35 0 01-2.14-1.51l-1.63.68A4.05 4.05 0 0077.29 34c2.19 0 4-1.29 4-4.43V22h-1.72v.7zm-2.14 5.88a2.59 2.59 0 010-5.16A2.402 2.402 0 0179.7 26a2.38 2.38 0 01-2.28 2.58h.01zm24.38-11.08h-4.47V30h1.87v-4.74h2.61a3.889 3.889 0 100-7.76h-.01zm0 6H99.2v-4.26h2.65a2.145 2.145 0 110 4.29l-.04-.03zm11.53-1.8a3.498 3.498 0 00-3.33 1.91l1.66.69a1.777 1.777 0 011.7-.92 1.804 1.804 0 011.792.931c.114.21.184.441.208.679v.13a4.13 4.13 0 00-1.95-.48c-1.79 0-3.6 1-3.6 2.81a2.904 2.904 0 00.969 2.03 2.892 2.892 0 002.131.72 2.634 2.634 0 002.4-1.2h.06v1h1.8v-4.81c0-2.19-1.66-3.46-3.79-3.46l-.05-.03zm-.23 6.85c-.61 0-1.46-.31-1.46-1.06 0-1 1.06-1.33 2-1.33a3.32 3.32 0 011.7.42 2.26 2.26 0 01-2.19 2l-.05-.03zM123.74 22l-2.14 5.42h-.06L119.32 22h-2l3.33 7.58-1.9 4.21h1.95L125.82 22h-2.08zm-16.81 8h1.87V17.5h-1.87V30z" fill="#fff" />\n    <path d="M10.44 7.54a2 2 0 00-.46 1.4v22.12a2 2 0 00.46 1.4l.07.07L22.9 20.15v-.29L10.51 7.47l-.07.07z" fill="url(#google-store-en--inline_paint0_linear)" />\n    <path d="M27 24.28l-4.1-4.13v-.29l4.1-4.14.09.05L32 18.56c1.4.79 1.4 2.09 0 2.89l-4.89 2.78-.11.05z" fill="url(#google-store-en--inline_paint1_linear)" />\n    <path d="M27.12 24.22L22.9 20 10.44 32.46a1.63 1.63 0 002.08.06l14.61-8.3" fill="url(#google-store-en--inline_paint2_linear)" />\n    <path d="M27.12 15.78l-14.61-8.3a1.63 1.63 0 00-2.08.06L22.9 20l4.22-4.22z" fill="url(#google-store-en--inline_paint3_linear)" />\n    <path opacity=".2" d="M27 24.13l-14.49 8.25a1.67 1.67 0 01-2 0l-.07.07.07.07a1.66 1.66 0 002 0l14.61-8.3-.12-.09z" fill="#000" />\n    <path opacity=".12" d="M10.44 32.32a2 2 0 01-.46-1.4v.15a2 2 0 00.46 1.4l.07-.07-.07-.08zM32 21.3l-5 2.83.09.09L32 21.44A1.75 1.75 0 0033 20a1.86 1.86 0 01-1 1.3z" fill="#000" />\n    <path opacity=".25" d="M12.51 7.62L32 18.7a1.86 1.86 0 011 1.3 1.75 1.75 0 00-1-1.44L12.51 7.48c-1.4-.79-2.54-.13-2.54 1.47v.15c.03-1.61 1.15-2.27 2.54-1.48z" fill="#fff" />\n    <defs>\n        <linearGradient id="google-store-en--inline_paint0_linear" x1="21.8" y1="8.71" x2="5.02" y2="25.49" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#00A0FF" />\n            <stop offset=".01" stop-color="#00A1FF" />\n            <stop offset=".26" stop-color="#00BEFF" />\n            <stop offset=".51" stop-color="#00D2FF" />\n            <stop offset=".76" stop-color="#00DFFF" />\n            <stop offset="1" stop-color="#00E3FF" />\n        </linearGradient>\n        <linearGradient id="google-store-en--inline_paint1_linear" x1="33.83" y1="20" x2="9.64" y2="20" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#FFE000" />\n            <stop offset=".41" stop-color="#FFBD00" />\n            <stop offset=".78" stop-color="orange" />\n            <stop offset="1" stop-color="#FF9C00" />\n        </linearGradient>\n        <linearGradient id="google-store-en--inline_paint2_linear" x1="24.83" y1="22.3" x2="2.07" y2="45.05" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#FF3A44" />\n            <stop offset="1" stop-color="#C31162" />\n        </linearGradient>\n        <linearGradient id="google-store-en--inline_paint3_linear" x1="7.3" y1=".18" x2="17.46" y2="10.34" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#32A071" />\n            <stop offset=".07" stop-color="#2DA771" />\n            <stop offset=".48" stop-color="#15CF74" />\n            <stop offset=".8" stop-color="#06E775" />\n            <stop offset="1" stop-color="#00F076" />\n        </linearGradient>\n    </defs>\n</symbol>'}),Kv=(Bh.a.add(Gv),Gv);const Yv=$a("store-button-view"),Qv=({type:e,lang:t})=>{const n=Object(r.useMemo)(()=>"appStore"===e?"ru"===t?Hv:Vv:"ru"===t?qv:Kv,[e,t]);return o.a.createElement("div",{className:Yv()},o.a.createElement("svg",{viewBox:n.viewBox,className:Yv("svg")},o.a.createElement("use",{xlinkHref:`#${n.id}`})))},Zv=$a("desktop-sms-view"),Jv=()=>o.a.createElement("div",{className:Zv("placeholder")},o.a.createElement("div",{className:Zv("placeholder-prefix")},"+7"),o.a.createElement("div",{className:Zv("placeholder-mask")})),Xv={init:"button",input:"button",pending:"pending",error:"error",success:"success"},ey=({containerRef:e,inputRef:t,storeButtonLang:n,buttonText:s,pendingText:i,errorText:a,successText:c,title:l,subtitle:u,phone:d,isValid:p,stage:h,host:f,appStoreHref:m,googleStoreHref:b,onInputFocus:g,onInputBlur:v,onInputChange:y,onFormSubmit:_,screenShotIgnoreClass:E})=>{const w=Xv[h],S=Dv(w,300),k=w!==S,C=Object(r.useRef)(!1);C.current=C.current||k;const O=C.current,T=Object(r.useMemo)(()=>{switch(S){case"button":return o.a.createElement(Km,{size:"l",viewType:"yellow",className:Zv("button"),type:"submit"},o.a.createElement("div",{className:Zv("button-text")},s));case"pending":return o.a.createElement("div",{className:Zv("message-container",{stage:"pending"})},o.a.createElement("div",{className:$a.mix(E,Zv("spinner-container"))},o.a.createElement(Df,{className:Zv("message-icon")})),o.a.createElement("div",{className:Zv("message-text")},i));case"error":return o.a.createElement("div",{className:Zv("message-container",{stage:"error"})},o.a.createElement(Bv,{className:Zv("message-icon")}),o.a.createElement("div",{className:Zv("message-text")},a));case"success":return o.a.createElement("div",{className:Zv("message-container",{stage:"success"})},o.a.createElement(Uv,{className:Zv("message-icon")}),o.a.createElement("div",{className:Zv("message-text")},c))}},[s,a,i,E,c,S]);return o.a.createElement("div",{ref:e,className:Zv({isTransition:k,withFadeInAnimation:O})},o.a.createElement("div",{className:Zv("title")},l),o.a.createElement("div",{className:Zv("content")},o.a.createElement("div",{className:Zv("form-container")},o.a.createElement("div",{className:Zv("subtitle")},u),o.a.createElement("form",{className:Zv("form"),onSubmit:_},o.a.createElement(lg,{onFocusCapture:g,onBlur:v,type:"tel",name:"tel",size:"l",isAutoComplete:!0,inputRef:t,value:d,renderPlaceholder:Jv,onChange:y,className:Zv("input"),isDisabled:!["input","init"].includes(h),isError:"input"===h&&!p}),o.a.createElement("div",{className:Zv("button-container")},T))),o.a.createElement("div",{className:Zv("link-container")},o.a.createElement(jh,{host:f,href:m,className:Zv("store-button")},o.a.createElement(Qv,{type:"appStore",lang:n})),o.a.createElement(jh,{host:f,href:b,className:Zv("store-button")},o.a.createElement(Qv,{type:"googleStore",lang:n})))))},ty="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,ny=/^[+\d\-()\s]*$/,ry=e=>{const t=e.replace(/[^\d]+/g,"");return"8"===t[0]?`+7${t.substr(1)}`:`+${t}`},oy=()=>{},sy=({onError:e=oy,onSuccess:t=oy,onTrySend:n=oy,handleSend:o,handleClose:s,afterSuccessTimeout:i=3e3,afterErrorTimeout:a=2e3})=>{const[c,l]=(e=>{const[t,n]=Object(r.useState)(e),o=Object(r.useRef)(()=>{});return Object(r.useEffect)(()=>{o.current()},[t]),[t,Object(r.useCallback)(e=>(o.current(),new Promise(t=>{o.current=t,n(e)})),[])]})("init"),[u,d]=Object(r.useState)(""),[p,h]=Object(r.useState)(!1),f=Object(r.useRef)(null),m=Object(r.useMemo)(()=>(e=>{const t=ry(e),n=/^\+7\d{10}$/.test(t),r=/^\+[0-69]\d{9,14}$/.test(t);return n||r})(u),[u]),b=Object(r.useCallback)(()=>{h(!0)},[]),g=Object(r.useCallback)(()=>{h(!1)},[]);ty(()=>{"init"===c&&d(p?"+7":"")},[p]),ty(()=>{if("init"!==c||!p)return;const e=u.length;f.current&&f.current.setSelectionRange&&f.current.setSelectionRange(e,e)},[u]);const v=Object(r.useCallback)(async()=>{if(n(),!m||!["init","input"].includes(c))return void("init"===c&&(d("+7"),await l("input")));const r=ry(u),[p]=await Promise.all([o(r),l("pending")]);p?(t(),await l("success"),await qm(i||0),s(),d(""),await l("init")):(e(),await l("error"),await qm(a||0),await l("input"))},[n,m,c,u,o,l,t,i,s,e,a]),y=Object(r.useCallback)(async e=>{e.preventDefault(),await v()},[v]),_=Object(r.useCallback)(({currentTarget:e})=>{const{value:t}=e,n=["init","input"].includes(c);ny.test(t)&&n&&(d(t),l("input").then())},[l,c]);return{phone:u,isValid:m,stage:c,inputRef:f,handleFocus:b,handleBlur:g,handleChange:_,handleSubmit:y}},iy="undefined"!=typeof window&&void 0!==window.localStorage,ay=iy?{isAvailable:iy,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return!1}}}:{isAvailable:!1,getItem:()=>null,setItem:()=>!1,removeItem:()=>!1};new class{constructor(){this.timerId=null,this.interval=300,this.handler=(()=>{}),this.checkStorageForQueries=(()=>{this.queueNextPollingIteration(),_r()&&this.handler()})}onceCookieExists(e){this.setObserver(()=>{this.stopPolling(),e()})}setObserver(e){this.handler=e,null===this.timerId&&this.queueNextPollingIteration()}queueNextPollingIteration(){this.timerId=window.setTimeout(this.checkStorageForQueries,this.interval)}stopPolling(){null!==this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null)}};const cy=(e,t)=>e+Js({origin:"zen",mode:"edit",retpath:t});n(109);var ly=n(52),uy=n.n(ly);const dy=il("login-popup"),py=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:dy("gray-card")}),o.a.createElement("div",{className:dy("gray-card")}),o.a.createElement("div",{className:dy("black-card")}),o.a.createElement("div",{className:dy("star",{isBig:!0})}),o.a.createElement("div",{className:dy("star")})),hy=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:dy("gray-channel")}),o.a.createElement("div",{className:dy("star",{isBig:!0})}),o.a.createElement("div",{className:dy("star")})),fy=({viewType:e,titleText:t,descriptionText:n,buttonText:r,isMobile:s,onClick:i,containerRef:a})=>{const c="channel"===e?hy:py;return o.a.createElement("div",{className:dy({isMobile:s,viewType:e}),ref:a},o.a.createElement("div",{className:dy("pics")},c),o.a.createElement("h1",{className:dy("title")},t),o.a.createElement("p",{className:dy("description")},n),o.a.createElement(Km,{size:"l",icon:uy.a,viewType:"yellow",widthType:"wide",onClick:i,iconClass:dy("button-icon")},r))};n(116),n(117);const my=Object(r.memo)(({width:e,height:t,children:n,isAd:r})=>o.a.createElement("div",{className:r?"zenad-scaled-container":"scaled-container",style:{paddingBottom:`${t/e*100}%`}},o.a.createElement("div",{className:r?"zenad-scaled-container__inner":"scaled-container__inner"},n))),by=(e,t,n)=>{const r=window.open(e,t);if(r&&n){const{noOpener:e}=n;e&&(r.opener=null)}return r};var gy=n(15),vy=n.n(gy);const yy=e=>`nsp-${e}`,_y=e=>{vy.a.set(yy(e),"1",{expires:9999})},Ey=()=>async(e,t)=>{const n=t(),{newSearchPopup:r,router:o}=n;o&&"/"===o.location.pathname&&r&&!(e=>Boolean(vy.a.get(yy(e))))(r.id)&&(await Ah(r.gifSource),e(ml(location.pathname)),e(bl("NEW_SEARCH_POPUP_KEY")))},wy=$a("new-search-popup"),Sy=({viewType:e,onSetShouldCloseOnOuterClick:t})=>{const{id:n,title:s,text:i,buttonText:a,alternativeButtonText:c,gifSource:l}=Qt(e=>{const{newSearchPopup:t}=e;return Wr(t,"expected defined newSearchPopup state"),t},xt),{zenApi:u}=Wn(),{clientClick:d}=Fv(),p=Object(r.useMemo)(()=>((e,t)=>({show:()=>t(`new_search_popup.show.${e}`),close:()=>t(`new_search_popup.close.${e}`),tryLater:()=>t(`new_search_popup.later.${e}`),tryNow:()=>t(`new_search_popup.try.${e}`)}))(n,d),[d,n]);Ip(()=>{p.show(),t(!1);const e=window.setTimeout(()=>{t(!0)},1e3);return()=>{window.clearTimeout(e)}});const h=Object(r.useRef)(!1);(e=>{const t=Object(r.useRef)();Object(r.useEffect)(()=>{t.current=e},[e]),Object(r.useEffect)(()=>()=>{t.current&&t.current()},[])})(()=>{h.current||(p.close(),_y(n))});const f=yv(fl),m=Object(r.useRef)(!1),b=Object(r.useCallback)(()=>{p.tryNow(),t(!1),h.current=!0,m.current=!0,_y(n),u.forceSendBulkEvents().catch(console.error).then(()=>{h.current=!0,f("try-search-later"),"desktop"===e?by((e=>{const t=Zs(e);return`/search${Js(Object.assign({},t,{query:"кошки"}))}`})(window.location.search),"_blank"):by((e=>{const t=Zs(e);return`/search${Js(Object.assign({},t,{searchFocus:"1"}))}`})(window.location.search),"_self")})},[f,n,t,p,e,u]),g=Object(r.useCallback)(()=>{m.current||(p.tryLater(),p.close(),h.current=!0,f("try-search-later"),_y(n))},[f,n,p]),v="desktop"===e?"l":"m";return o.a.createElement("div",{className:wy({viewType:e})},o.a.createElement(my,{width:802,height:450},o.a.createElement("div",{className:wy("gif"),style:{backgroundImage:`url(${l})`}})),o.a.createElement("div",{className:wy("info")},o.a.createElement("div",{className:wy("title")},s),o.a.createElement("div",{className:wy("text")},i),o.a.createElement("div",{className:wy("buttons-container")},o.a.createElement("div",{className:wy("button-container",{isFirst:!0})},o.a.createElement(Km,{size:v,viewType:"yellow",onClick:b},a)),o.a.createElement("div",{className:wy("button-container")},o.a.createElement(Km,{size:v,viewType:"transparent",onClick:g},c)))))},ky=(Object(r.memo)(Sy),{LOGIN_POPUP_MODAL_ROUTE_KEY:{component:({containerRef:e})=>{const{tld:t,popupMessage:n,loginPopupData:s,bulkParams:i}=Qt(e=>{const{loginPopup:t}=e;if(null===t)return{};const{subscribeLoginPopupMessage:n,likeLoginPopupMessage:r}=lu(e),o=t,{tld:s,bulk:i}=e.params,{bulk_params:a}=i;return{tld:s,popupMessage:t.triggerAction===$e.Like?r:n,loginPopupData:o,bulkParams:a}},xt),a=Object(r.useRef)(!1),c=null==s?void 0:s.triggerAction,l=null==s?void 0:s.itemIdForStats,{title:u,description:d}=Object(r.useMemo)(()=>{switch(!0){case n===eu.mainpage&&c===$e.Subscribe:return{title:"common.login_popup.auth_subscribe",description:"common.login_popup.source_on_mainpage"};case n===eu.saveSource&&c===$e.Subscribe:return{title:"common.login_popup.not_lose_subscriptions",description:"common.login_popup.auth_save_source"};case n===eu.betterRecommend&&c===$e.Subscribe:return{title:"common.login_popup.auth_subscribe",description:"common.login_popup.recommend_better_auth"};case n===eu.betterRecommend&&c===$e.Like:return{title:"common.login_popup.auth_like",description:"common.login_popup.recommend_better_auth"};case n===eu.tuneFeed&&c===$e.Like:return{title:"common.login_popup.auth_like",description:"common.login_popup.tune_feed"};case n===eu.saveInProfile&&c===$e.Like:return{title:"common.login_popup.not_lose_likes",description:"common.login_popup.save_likes_in_profile"};default:return{title:null,description:null}}},[c,n]),p=Object(r.useMemo)(()=>{if(s&&i){if(s.triggerAction===$e.Subscribe){const{statEvents:e}=s.source;return{bulkParams:i,statEvents:e}}if(s.triggerAction===$e.Like){const{statEvents:e}=s.statObject;return{bulkParams:i,statEvents:e}}}},[i,s]),h=(({statObject:e,itemIdForStats:t})=>{const n=oh(e);return Object(r.useCallback)(r=>{if(!e||!t)return null;const{bulkParams:o,statEvents:s}=e;if(!o||!s)return null;n(r,{bulkReplaceMap:{__place_param__:"login_popup",__item_id__:t,__item_type__:"interface_element"}})},[n,t,e])})({itemIdForStats:l,statObject:p}),f=Object(r.useCallback)(()=>{a.current||h("login_suggest_close")},[h,a]);Ip(()=>(h("login_suggest_show"),f));const{l10n:m}=Xh(),b=yv(fl),g=Object(r.useCallback)(()=>{if(!s||!l||!c)return;const e=Object.assign({},s,{itemIdForStats:l,ts:Date.now()});try{const t=JSON.stringify(e),n=s.triggerAction===$e.Like?s.id:s.source.id;ay.setItem(((e,t)=>`zen-afterlogin_${t}_${e}`)(n,c),t)}catch(e){console.warn(e)}const n=s.triggerAction===$e.Subscribe?s.source.id:s.id,r=`https://passport.yandex.${t}/auth/`,o=Do(),i=Xs(o,{[`after_login_${c}`]:n}),u=window.open();u&&(u.opener=null,u.target="_blank",u.location=cy(r,i)),a.current=!0,h("auth_click"),b()},[t,l,b,c,h,s]);return n&&n!==eu.empty&&s&&l&&c&&u&&d?o.a.createElement(fy,{containerRef:e,isMobile:Boolean(!1),viewType:"channel",titleText:m(u),descriptionText:m(d),buttonText:m("api.v3.launcher.auth.login_button.title"),onClick:g}):null},initialStatus:_e.Pending,viewType:"login-popup-fixed-thin",withVerticalAlign:!0},PASSPORT_PROFILE_MODAL_PROFILE_ROUTE_KEY:{component:()=>o.a.createElement(jg,{origin:"zen_profile"}),initialStatus:_e.Pending,viewType:"inner-close-fixed-thin"},PASSPORT_PROFILE_MODAL_HEADER_ROUTE_KEY:{component:()=>o.a.createElement(jg,{origin:"zen_header"}),initialStatus:_e.Pending,viewType:"inner-close-fixed-thin"},PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY:{component:Ka,initialStatus:_e.Pending,viewType:"inner-close-fixed-thin"},ONBOARDING_MODAL_ROUTE_KEY:{component:Wm,initialStatus:_e.Pending},NEW_SEARCH_POPUP_KEY:{component:({onSetShouldCloseOnOuterClick:e})=>o.a.createElement(Sy,{viewType:"desktop",onSetShouldCloseOnOuterClick:e}),initialStatus:_e.Initial,isClosable:!1,viewType:"inner-close-m",width:480,withVerticalAlign:!0},SMS_MODAL_ROUTE_KEY:{component:({containerRef:e})=>{const{zenApi:t}=Wn(),{afterSuccessTimeout:n,afterErrorTimeout:s,popupButtonTextVariant:i,popupTextVariant:a}=Qt(e=>{const{rezenSmsPopup:t}=lu(e);return{afterSuccessTimeout:t.afterSuccessTimeout,afterErrorTimeout:t.afterErrorTimeout,popupButtonTextVariant:t.popupButtonTextVariant,popupTextVariant:t.popupTextVariant}},xt),{l10n:c}=Xh(),l=Object(r.useMemo)(()=>((e,t)=>({[Jl.Default]:e("desktop.sms_popup.button"),[Jl.A]:e("desktop.sms_popup.button_a"),[Jl.B]:e("desktop.sms_popup.button_b"),[Jl.C]:e("desktop.sms_popup.button_c"),[Jl.D]:e("desktop.sms_popup.button_d")})[t])(c,i),[c,i]),u=Object(r.useMemo)(()=>((e,t)=>({[Xl.Default]:e("desktop.sms_popup.text"),[Xl.A]:e("desktop.sms_popup.text_a"),[Xl.B]:e("desktop.sms_popup.text_b"),[Xl.C]:e("desktop.sms_popup.text_c"),[Xl.D]:e("desktop.sms_popup.text_d"),[Xl.E]:e("desktop.sms_popup.text_e"),[Xl.F]:e("desktop.sms_popup.text_f")})[t])(c,a),[c,a]),{clientClick:d,clientShow:p}=Fv(),h=Object(r.useCallback)(()=>p("sms-modal"),[p]),f=Object(r.useCallback)(()=>d("sms-modal.close"),[d]),m=Object(r.useCallback)(()=>d("sms-modal.button-click"),[d]),b=Object(r.useCallback)(()=>p("sms-modal.pending"),[p]),g=Object(r.useCallback)(()=>p("sms-modal.success"),[p]),v=Object(r.useCallback)(()=>p("sms-modal.error"),[p]),y=yv(fl),_=Object(r.useCallback)(async e=>{try{b();const{ok:n}=await t.sendAppLinkSms(e);return Boolean(n)}catch(e){return console.error(e),!1}},[b,t]);Ip(()=>(h(),f));const{phone:E,isValid:w,stage:S,inputRef:k,handleFocus:C,handleBlur:O,handleChange:T,handleSubmit:P}=sy({onError:v,onSuccess:g,onTrySend:m,handleSend:_,handleClose:y,afterSuccessTimeout:n,afterErrorTimeout:s}),A=Ih(),R=(()=>{const{l10n:e}=Xh(),t=e("desktop.sms_popup.store_button_key");return"ru"===t||"en"===t?t:"en"})();return o.a.createElement(ey,{containerRef:e,inputRef:k,onFormSubmit:P,onInputBlur:O,onInputFocus:C,onInputChange:T,host:A,storeButtonLang:R,appStoreHref:"https://redirect.appmetrica.yandex.com/serve/1107276769683140447",googleStoreHref:"https://redirect.appmetrica.yandex.com/serve/98470455534477621",buttonText:l,title:u,subtitle:c("desktop.sms_popup.subtitle"),pendingText:c("desktop.sms_popup.pending"),successText:c("desktop.sms_popup.success"),errorText:c("desktop.sms_popup.error"),phone:E,stage:S,isValid:w})},initialStatus:_e.Pending,width:648,withVerticalAlign:!0},[hn]:{component:Eb,initialStatus:_e.Pending},[gn]:{component:Eb,initialStatus:_e.Pending},"/user/:socialProfileId/followers":{component:Qb,initialStatus:_e.Pending},[fn]:{component:wm,initialStatus:_e.Pending},"/top/:id":{component:Tf,initialStatus:_e.Pending},"/profile":{component:Pg,initialStatus:_e.Pending},"/profile/blocked":{component:Pb,initialStatus:_e.Pending},[mn]:{component:wg,initialStatus:_g},[vn]:{component:()=>{const{l10n:e}=Xh(),{userId:t,profileScope:n,isWebview:s,tld:i,location:a,selfProfileLink:c,nativeNavBarEnabled:l,profileRedesign:u,messengerSettingsLink:d,isZenKit:p,isDirectMessageEnabled:h}=Qt(e=>{const t=wn(e),n=sb(e,t),{nativeNavBarEnabled:r}=e.iface,{messengerSettingsLink:o,isDirectMessageEnabled:s}=lu(e),i=Rg(e);return{userId:t,profileScope:n,isWebview:Boolean(e.params.isWebview),tld:e.params.tld,location:e.router.location,selfProfileLink:Pu(e),nativeNavBarEnabled:r,profileRedesign:bu(e).redesign,messengerSettingsLink:o,isZenKit:i,isDirectMessageEnabled:s}},xt),f=yv(bb),m=yv(gb),b=yv(pl),g=yv(Ag),v=yv(_h),y=Kt(),_=Object(r.useCallback)(()=>y(mb(t)),[y,t]);Ip(()=>{_()});return o.a.createElement("div",{className:_v()},null,o.a.createElement("div",{className:_v("body")},(()=>{switch(n.status){case _e.Initial:case _e.Pending:return o.a.createElement("div",{className:_v("pending")},o.a.createElement(Df,null));case _e.Error:return o.a.createElement("div",{className:_v("failure")},o.a.createElement(pf,{onClick:_,title:e("common.data-not-loaded")},e("common.request-retry")));case _e.Success:return n.data?o.a.createElement(hv,{viewType:"desktop",profile:n.data,saveProfile:g,pushWithPreservedSearch:b,isWebview:s,tld:i,location:a,selfProfileLink:c,userId:t,forcedGetUserProfile:f,silentGetUserProfile:m,profileRedesign:u,refreshSourceFeed:v,messengerSettingsLink:d,isZenKit:p,isDirectMessageEnabled:h}):null}})()))},viewType:"inner-close-fixed-thin"},"/user/deactivate":{component:e=>o.a.createElement(Lv,c({},e,{viewType:"desktop"})),viewType:"inner-close-fixed-thin"}}),Cy=10,Oy=100,Ty=100,Py=600,Ay=(e,t)=>`${t||null}_${e}`;const Ry={closeModal:fl},xy=qn(({outputBus:e,modalRoutes:t})=>({outputBus:e,modalRoutes:t}))(Vt((e,{modalRoutes:t})=>{const{location:n}=e.router,{forcedModalRoute:r}=e.modal,o=Dc({location:n,forcedModalRoute:r,modalRoutes:t}),s=o&&ky[o.routeId]||null;return{columnCount:$u(e),route:s,location:n,path:o&&o.routeId,match:o&&o.match}},Ry)(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={route:null,match:null,status:null,height:0,shouldCloseOnEscClick:!0,isAnimationDisabled:!1,shouldCloseOnOuterClick:!0},this._containerRef=Object(r.createRef)(),this._composeContainerRefs=Zc(),this._modalScrollableContainerRef=Object(r.createRef)(),this._close=(()=>{this.props.closeModal(hl)}),this._setStatus=((e,t)=>{t=t||{};const{withAnimation:n=!0}=t;this.setState({status:e,isAnimationDisabled:!n})}),this._enableCloseOnEscClick=(()=>{this.setState({shouldCloseOnEscClick:!0})}),this._disableCloseOnEscClick=(()=>{this.setState({shouldCloseOnEscClick:!1})}),this._getFadeDuration=((e,t,n)=>Oy*Math.abs(n)),this._getResizeDuration=((e,t)=>{const{height:n}=this.state;let r;if(Dr(n)){const e=document.documentElement.clientHeight,o=Math.min(n,e);r=Math.min(n+t,e)-o}else r=t;return Math.max(Math.min(Math.abs(r),Py),Ty)}),this.handleSetShouldCloseOnOuterClick=(e=>{this.setState({shouldCloseOnOuterClick:e})}),t}componentDidCatch(e){const{closeModal:t}=this.props;console.error(e),t("error")}static getDerivedStateFromProps(e,t){const{route:n,match:r}=e;return t.route!==n?{route:n,match:r,status:n?n.initialStatus:null,height:null,shouldCloseOnEscClick:!0,isAnimationDisabled:!1}:null}getSnapshotBeforeUpdate(e,t){return Ay(t.status,e.path)!==Ay(this.state.status,this.props.path)?{height:this._containerRef.current?this._containerRef.current.offsetHeight:null}:null}componentDidUpdate(e,t,n){if(n&&this.setState({height:n.height}),!t.route&&this.state.route){const{outputBus:e}=this.props;e.emit("popupOpen")}}render(){const{columnCount:e,location:t}=this.props,{route:n,match:r,status:s,height:i,isAnimationDisabled:a,shouldCloseOnEscClick:c,shouldCloseOnOuterClick:l}=this.state,u=n&&n.width||pn[e]-2*Cy;if(!n)return o.a.createElement(ul,{isOpen:!1});const d=n&&n.withVerticalAlign;return o.a.createElement(ul,{isOpen:!0,isClosable:n.isClosable,close:this._close,style:{width:u,margin:"-4px auto 0"},shouldCloseOnEscClick:c,shouldCloseOnOuterClick:l,scrollableContainerRef:this._modalScrollableContainerRef,withScrollbarFix:!0,withVerticalAlign:d,viewType:n.viewType},o.a.createElement(Tl,{triggerKey:Ay(this.state.status,this.props.path),isDisabled:a,fadeTimingFunction:"ease-in-out",resizeTimingFunction:"ease-in-out",getFadeDuration:this._getFadeDuration,getResizeDuration:this._getResizeDuration},({ref:e})=>{const a=n.component;return o.a.createElement(a,{location:t,match:r,containerRef:this._composeContainerRefs(this._containerRef,e),modalScrollableContainerRef:this._modalScrollableContainerRef,height:i,status:s,setStatus:this._setStatus,enableCloseOnEscClick:this._enableCloseOnEscClick,disableCloseOnEscClick:this._disableCloseOnEscClick,onSetShouldCloseOnOuterClick:this.handleSetShouldCloseOnOuterClick})}))}})),Ny=()=>o.a.createElement("div",{className:"zen-popup"},o.a.createElement(xy,null));class Iy{setHandler(){}setContext(){}error(){}warn(){}log(){}}const Ly={LOGIN_POPUP_MODAL_ROUTE_KEY:{forced:!0},PASSPORT_PROFILE_MODAL_PROFILE_ROUTE_KEY:{forced:!0},PASSPORT_PROFILE_MODAL_HEADER_ROUTE_KEY:{forced:!0},PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY:{forced:!0},ONBOARDING_MODAL_ROUTE_KEY:{forced:!0},NEW_SEARCH_POPUP_KEY:{forced:!0},SMS_MODAL_ROUTE_KEY:{forced:!0},[hn]:{path:hn,exact:!0},[gn]:{path:gn,exact:!0,backgroundFromLocation:!0},"/user/:socialProfileId/followers":{path:"/user/:socialProfileId/followers",exact:!0,backgroundFromLocation:!0},[fn]:{path:fn,exact:!0},"/top/:id":{path:"/top/:id",exact:!0},"/profile":{path:"/profile",exact:!0},"/profile/blocked":{path:"/profile/blocked",exact:!0},[mn]:{path:mn,exact:!0},[vn]:{path:vn},"/user/deactivate":{path:"/user/deactivate"}},jy=e=>()=>t=>n=>{if(n.broadcastable){const t=Object.assign({},n);delete t.statEvent,delete t.bulkStat,delete t.broadcastable,t.tabId=e,ay.setItem("BROADCAST_ACTION",JSON.stringify(t))}return t(n)},My={timeouts:[5e3,1e4,15e3]};Object(G.createSelector)(lu,Rg,({rezenAppButton:e},t)=>{const{isEnabled:n,isYellow:r,closeTimeout:o,url:s}=e;return{isEnabled:n&&!t,isYellow:r,closeTimeout:o,url:s}});const Dy=e=>({type:"SET_CURRENT_NOTIFIER",payload:e}),Fy=e=>()=>(t,n)=>{const r=n(),{currentNotifierButton:o}=r.notifiers;o===e&&t(Dy(null))},By=(Fy(Oe.Load),Fy(Oe.More),Fy(Oe.App),Fy(Oe.Error),(e,t)=>({type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}})),Uy=e=>By("links",e),zy=e=>By("params",e),Hy=((()=>{const e=[]})(),200),$y=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;new class{loop(e){"number"==typeof this.start&&"number"==typeof this.distance&&"number"==typeof this.scrollTime&&(this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=$y(this.timeElapsed,this.start,this.distance,this.scrollTime),this.container?this.container.scrollTop=this.next:window.scrollTo(0,this.next),this.timeElapsed<this.scrollTime?requestAnimationFrame(e=>{this.loop(e)}):this.end&&this.end())}scrollTo({top:e=0,animate:t=!0,container:n,scrollTime:r=Hy}={}){return new Promise(o=>{const s=Math.max(0,e),i=()=>{if("number"!=typeof this.start||"number"!=typeof this.distance)return;const e={scroll:s,scrollBottomEdge:s+window.innerHeight};n?n.scrollTop=this.start+this.distance:window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=e,o(s)};this.end=i,this.start=n?n.scrollTop:window.pageYOffset,this.distance=s-this.start,this.scrollTime=r,this.disableScrollEvents(),this.container=n,t?requestAnimationFrame(e=>{this.loop(e)}):(n?n.scrollTop=s:window.scrollTo(0,s),i())})}disableScrollEvents(){ka()}enableScrollEvents(){setTimeout(()=>Ca(),500)}};const Vy=(e,t,n,r)=>({type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n,shouldAddToItemsOrder:r}}),Wy=(((e,t)=>{let n,r;const o=e=>{n=Object.assign({},My,e)},s=({args:t,timeouts:o=n.timeouts,withoutAction:s=!1,withoutRetries:i=!1,onTryComplete:a=(e=>{if(e.isRejected)throw e.error;return e.value})}={})=>{const c=(e=>"function"!=typeof e?()=>e:e)(t),l=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(o);let u,d,p=0,h=!1,f=!1;const m=()=>u===r,b=()=>!h&&!f,g=()=>!i&&b()&&m(),v=()=>{b()&&(d&&d(),f=!0)},y=()=>{const t=c(p);let n;return Array.isArray(t)?n=e(...t):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>a({value:e,tryNumber:p,isFulfilled:!0,isRejected:!1,isLastSession:m,abortRetries:v}),e=>a({error:e,tryNumber:p,isFulfilled:!1,isRejected:!0,isLastSession:m,abortRetries:v}))},_=e=>{if(g()){const t=l(p);if("number"==typeof t)return p++,(e=>new Promise((t,n)=>{d=(()=>{d=null,n(new Error("Retries aborted."))}),setTimeout(()=>{d=null,t()},e)}))(t).then(()=>{if(g())return y().catch(_);throw e});null!=t&&console.warn("Expected action timeout to be a number or null/undefined.")}throw e},E=s?Promise.reject(new Error("Generated error by 'withoutAction' call.")):y(),w=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(E.catch(_),()=>{h=!0});return r&&r.abortRetries(),r=u={actionResult:E,retriesResult:w,isLastSession:m,isInProgress:b,abortRetries:v}};o(t);const i=(...e)=>s({args:e});i.startSession=s,i.setOptions=o})(e=>e.getMore()),e=>({type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}})),qy=(Object(G.createSelector)(e=>{if(e&&e.id&&e.state.mounted)return e.id},e=>e?{global:{__with_comment_id__:e}}:void 0),Object(G.createSelector)(lu,hu,e=>e.params.libType,({commentInCard:e},t,n)=>t||n&&yr(n)?{enabled:!1,hotBubble:!1,removeSnippet:!1}:e),{links:Uy,params:zy,shared:e=>By("shared",e),context:e=>By("context",e),auth:e=>By("auth",e),user:e=>By("user",e)}),Gy=(e,t)=>{const n=e.screens&&e.screens.items;if(!Array.isArray(n))return null;const r=n.filter(({type:e})=>e===t);return 1!==r.length?null:r[0].source},Ky=/([&?])token(=[^&#]*)?(&)?/g,Yy=(e,t)=>{const n=Gy(e,t);return n?n.replace(Ky,(e,t,n,r)=>r?t:""):null},Qy=e=>(t,n,{zenApi:r,ttlController:o})=>{o&&o.apiResponseReceived(sr.Export,e),t({type:"CLEAR_FEED",payload:null});const s=ic.get(e,"grid_type.name");s&&t((e=>t=>{t((e=>({type:"SET_GRID_TYPE",payload:{gridType:e}}))(e)),t(Wy(xr[e].initialDisplayedRowsNumber))})(s)),e.items&&t(Vy(e.items,!1,!1)),e.interview&&t((({interview:e,packId:t,pos:n})=>({type:"ADD_INTERVIEW",payload:{interview:e,packId:t,pos:n}}))({interview:e.interview,packId:e.id,pos:e.interview.showOnPosition}));const{channel:i}=e;i&&t((e=>({type:"MERGE_CHANNEL_SOURCE",payload:e}))(i)),e.commentsDoc&&t((e=>({type:"RECEIVE_COMMENTS_DOC",payload:{doc:e}}))(e.commentsDoc)),t((e=>{const t={[sr.Onboarding]:ic.get(e,"onboarding.link")||null,[sr.More]:ic.get(e,"more.link")||null,[sr.Bulk]:ic.get(e,"bulk.link")||null,[sr.ClientLogs]:ic.get(e,"client_logs.link")||null,[sr.Subs]:Gy(e,"subs")||Gy(e,"switchable_subs"),[sr.Profile]:Gy(e,"profile"),[sr.Category]:Gy(e,"category"),[sr.Categories]:Gy(e,"categories"),[sr.Suggest]:Gy(e,"suggest"),[sr.Multisearch]:Gy(e,"multisearch"),[sr.Blocked]:Gy(e,"blocked"),[sr.Preferences]:Gy(e,"preferences"),[sr.Subscribers]:Gy(e,"subscribers"),[sr.BlockedSuggest]:Gy(e,"blocked_suggest"),[sr.VideoRecommend]:Gy(e,"video_recommend"),[sr.CountryLang]:Gy(e,"language"),[sr.CommentsCounter]:Gy(e,"comments_counter"),[sr.CommentsInfos]:Gy(e,"comments_infos"),[sr.SendAppLinkSms]:Gy(e,"send_app_link_sms"),[sr.SocialProfile]:Yy(e,"social_profile"),[sr.SocialActivityFeed]:Yy(e,"social_activity_feed"),[sr.SocialProfileEdit]:Yy(e,"social_profile_edit"),[sr.ProfileCompleteOnboarding]:Yy(e,"profile_complete_onboarding"),[sr.ProfileDeactivate]:Yy(e,"profile_deactivate"),[sr.ProfileCancelDeactivate]:Yy(e,"profile_cancel_deactivate"),[sr.AllChannelsLink]:ic.get(e,"links.all_channels_link"),[sr.SupportLink]:ic.get(e,"links.support_link"),[sr.GetVideoPopupData]:Gy(e,"get_video_popup_data")};return Uy(t)})(e)),t((e=>zy({bannerStats:e.banner,experimentsData:e.experimentsData||void 0,clientDefinition:e.clientDefinition,isIceStart:e.isIceStart,complaints:e.complaints,bulk:e.bulk,groupIds:e.groupIds,shouldCleanCacheOnFeedback:e.feedbackCacheClean}))(e)),t((e=>By("request",e))({rid:ic.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:{exportData:e,currentTime:Date.now()}}),e.id&&(r.packUsed(e.id),t((e=>({type:"SET_TOP_PACK_ID",payload:{packId:e}}))(e.id)))},Zy=(e,t)=>(n,r)=>{const{exportData:o,initialDisplayedRowsNumber:s,params:i,comments:a}=e;Kr(qy).forEach(t=>{const r=e[t];if(r){n((0,qy[t])(r))}}),n(ab(_n(r()))),o&&n(Qy(o)),a&&n((e=>async t=>{t({type:"INIT_COMMENTS",payload:e})})(a)),s&&n(Wy(s)),i&&i.isChildPage&&n((e=>({type:"SET_IS_CHILD_WINDOW",payload:e}))(!0)),t.history&&n(gl()),n((e,t)=>{const n=t(),{scrollToID:r}=n.shared;if(!r)return;const{displayedRowsNumber:o}=Fu(n),{rows:s}=Vu(n),i=s.findIndex(e=>e.some(({id:e})=>e===r));e(Wy(i+o))})};n(176);const Jy=$a("desktop-search-view");const Xy=hf(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._inputRef=Object(r.createRef)(),this._onSearchChange=(e=>{this.props.onSearchChange(e.target.value.substr(0,dn))}),t}componentDidMount(){setTimeout(()=>{this._inputRef.current&&this._inputRef.current.focus()},0)}render(){const{searchValue:e,searchSources:t,searchStatus:n,isSearchFetchThresholdPassed:r,isInterestsEnabled:s,onSearchClear:i,onSearchRetry:a,disableCloseOnEscClick:c,enableCloseOnEscClick:l,onSourceRequestOpen:u}=this.props;return o.a.createElement("div",{className:Jy()},o.a.createElement(Kf,{inputRef:this._inputRef,mode:"default",value:e,status:n,sources:t,isFetchThresholdPassed:r,isInterestsEnabled:s,onChange:this._onSearchChange,onClear:i,onFocus:c,onBlur:l,onRetry:a,isRedesign:!0,onSourceRequestOpen:u},({ref:e})=>o.a.createElement("div",{ref:e})))}}),e_=(e,t)=>{const n=Object(r.useRef)(!1);Object(r.useEffect)(()=>{if(n.current)return e();n.current=!0},t)},t_=Vt(e=>({searchSources:Nl(e)||[],filter:e.search.filter,isInterestsEnabled:ku(e)}),{updateSuggest:_m})(Ef({searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})(({searchAsyncProps:e,filter:t,searchSources:n,isInterestsEnabled:s,children:i})=>{const[a,c]=Object(r.useState)(!1),[l,u]=Object(r.useState)(!1),{clientClick:d}=Fv();e_(()=>{d(l?"searchInput.focus":"searchInput.unfocus")},[l]);const{l10n:p}=Xh(),h=p(s?"suggest.search_placeholder3":"suggest.channel_placeholder"),f=Object(r.useCallback)(()=>{""!==t&&e.fetch("")},[e,t]),m=Object(r.useCallback)(()=>{e.fetch(t)},[e,t]),b=Object(r.useCallback)(()=>{c(!1)},[]),g=Object(r.useCallback)(()=>{c(!0),u(!0)},[]),v=Object(r.useCallback)(()=>{u(!1)},[]),y=Object(r.useCallback)(t=>{const n=t.target.value;""!==n&&""===n.trim()||e.fetch(t.target.value)},[e]);return i?i({value:t,placeholder:h,isUnfolded:a&&Boolean(t),onChange:y,onClear:f,onFocus:g,onBlur:v,onClose:b,searchResultsElement:o.a.createElement(Xy,{isInterestsEnabled:s,isSearchFetchThresholdPassed:e.isFetchThresholdPassed,searchValue:t,searchSources:n,searchStatus:e.status,onSearchChange:e.fetch,onSearchClear:f,onSearchRetry:m,onSourceRequestOpen:f})}):null}));n(172),n(174);var n_=new Dh.a({id:"star--inline",use:"star--inline-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="star--inline">\n    <path d="M16 8.27v-.54c-2.81-.19-4.44-.6-5.8-1.93C8.87 4.44 8.46 2.81 8.27 0h-.54c-.19 2.81-.6 4.44-1.93 5.8C4.44 7.13 2.81 7.54 0 7.73v.54c2.81.19 4.44.6 5.8 1.93 1.33 1.36 1.74 2.99 1.93 5.8h.54c.19-2.81.6-4.44 1.93-5.8 1.36-1.33 2.99-1.74 5.8-1.93z" />\n</symbol>'}),r_=(Bh.a.add(n_),n_);const o_=il("source-snippet"),s_={s:12,m:16,l:20},i_=Object(r.memo)(({size:e})=>o.a.createElement(uf,{className:o_("interest-svg"),symbol:r_,width:s_[e],height:s_[e]})),a_=Object(r.memo)(({rootRef:e,type:t,size:n="m",title:r,subtitle:s,logoSrc:i,logoBackgroundColor:a,withBackgroundTransition:c=!1,isActive:l=!1,isHovered:u=!1})=>o.a.createElement("div",{className:o_({size:n,isHovered:u,isActive:l,withBackgroundTransition:c}),ref:e},"interest"===t?o.a.createElement("div",{className:o_("interest-icon")},o.a.createElement(i_,{size:n})):o.a.createElement("div",{className:o_("logo-container"),style:{backgroundColor:a,backgroundImage:`url(${i})`}},o.a.createElement("div",{className:o_("logo-border")})),o.a.createElement("div",{className:o_("text-container")},o.a.createElement("div",{className:o_("title")},r),s?o.a.createElement("div",{className:o_("subtitle")},s):null))),c_=(e,t,n)=>(r,o)=>e(r,Object.assign({},o,{statEvents:t,bulkParams:n})),l_=(e,t)=>{const n=c_(t,e.statEvents,e.bulkParams);return{show:()=>n("show"),click:()=>n("click")}};n(173);const u_=(e,t)=>{const n=Object(r.useRef)(t);e_(()=>{n.current=t},[t]),Object(r.useEffect)(()=>{const t=e=>{13===(e.which||e.keyCode)&&n.current(e)};return e?document.addEventListener("keydown",t,!0):document.removeEventListener("keydown",t,!0),()=>document.removeEventListener("keydown",t,!0)},[e])},d_=$a("suggest-item-container-desktop"),p_=({host:e,link:t,target:n="_blank",onClick:s,isActive:i,isHoverable:a,children:c})=>{const{isHovered:l,onMouseEnter:u,onMouseLeave:d}=(()=>{const[e,t]=Object(r.useState)(!1);return{isHovered:e,onMouseEnter:Object(r.useCallback)(()=>t(!0),[]),onMouseLeave:Object(r.useCallback)(()=>t(!1),[])}})(),p=Object(r.useRef)(null);return u_(i,e=>{s&&s(),Fr(t)&&(e.preventDefault(),p.current&&p.current.focus(),by(t,n,{noOpener:!0}))}),o.a.createElement(jh,{rootRef:p,className:d_({isHovered:l&&a,isActive:i}),href:t,host:e,target:n,onClick:s,onMouseEnter:u,onMouseLeave:d},c({isHovered:l&&a}))},h_=Object(r.memo)(({log:e,host:t,isActive:n,isHoverable:s,onOpenItem:i,item:a})=>{const[c,l]=Lp(),u=Tp(()=>l_(a,e));Xp({isVisible$:l,onShow:u.show});const d=Object(r.useCallback)(()=>{u.click(),i()},[u,i]);return"interest"===a.type?o.a.createElement(p_,{host:t,isActive:n,isHoverable:s,link:a.feedLink,onClick:d},({isHovered:e})=>o.a.createElement(a_,{type:"interest",size:"m",rootRef:c,title:a.title,subtitle:a.subtitle,isActive:n||e})):"publisher"===a.type||"domain"===a.type||"user"===a.type?o.a.createElement(p_,{host:t,isActive:n,isHoverable:s,link:a.feedLink,onClick:d},()=>o.a.createElement(a_,{type:"publisher",size:"m",rootRef:c,title:a.title,logoSrc:a.logo,logoBackgroundColor:a.logoBackgroundColor})):(console.error(`unknown suggest-item with type ${a.type}`),null)});n(175);var f_=new Dh.a({id:"magnifier--inline",use:"magnifier--inline-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" viewBox="0 0 16 16" id="magnifier--inline">\n    <path fill="#000" fill-rule="evenodd" d="M7 14a7 7 0 115.76-3.02l2.74 3.52-1 1-3.52-2.74A6.97 6.97 0 017 14zm0-2A5 5 0 107 2a5 5 0 000 10z" clip-rule="evenodd" />\n</symbol>'}),m_=(Bh.a.add(f_),f_);const b_=$a("suggest-all-results-item-desktop"),g_=Object(r.memo)(({serpLink:e,host:t,onOpenItem:n,isActive:r,isHoverable:s,l10n:i})=>o.a.createElement(p_,{host:t,link:e,target:"_self",onClick:n,isActive:r,isHoverable:s},({isHovered:e})=>o.a.createElement("div",{className:b_({isHovered:e,isActive:r})},o.a.createElement(uf,{symbol:m_,width:18,height:18,className:b_("icon")}),o.a.createElement("div",{className:b_("title")},i("search.show_all_results"))))),v_=e=>({interest:e.filter(({type:e})=>"interest"===e).slice(0,3),channel:e.filter(({type:e})=>["publisher","domain"].includes(e)).slice(0,3),user:e.filter(({type:e})=>"user"===e).slice(0,3)}),y_=e=>__.reduce((t,n)=>[...t,...e[n]],[]),__=["user","channel","interest"],E_={id:"SHOW_ALL_RESULTS_ITEM_ID"},w_=$a("suggest-desktop"),S_=Object(r.memo)(({items:e,serpLink:t,onClose:n,l10n:s,host:i,log:a,isInputFocused:c})=>{const[l,u]=Object(r.useState)(()=>v_(e)),[d,p]=Object(r.useState)(()=>[...y_(l),E_]);e_(()=>{const t=v_(e);u(t),p([...y_(t),E_])},[e]);const[h,f]=(e=>{const[t,n]=Object(r.useState)(()=>({index:0,widthWithNull:e.length+1}));return e_(()=>{n({index:0,widthWithNull:e.length+1})},[e]),Object(r.useEffect)(()=>{const e=e=>{const t=e.which?e.which:e.keyCode;38===t&&(n(e=>Object.assign({},e,{index:(e.index+e.widthWithNull-1)%e.widthWithNull})),e.preventDefault()),40===t&&(n(e=>Object.assign({},e,{index:(e.index+1)%e.widthWithNull})),e.preventDefault())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),[0===t.index?null:e[t.index-1],Object(r.useCallback)(()=>n(e=>Object.assign({},e,{index:0})),[])]})(d);e_(()=>{f()},[f,d,c]),u_(null===h&&c,()=>{n(),by(t,"_self")});const m=!h;return o.a.createElement("div",{className:w_(),onMouseMove:f},__.map((e,t)=>l[e].length>0?o.a.createElement(r.Fragment,{key:e},o.a.createElement("div",{className:w_("group-title",{isFirst:0===t})},(e=>({interest:s("profile.interests-title"),channel:s("preferences.channels"),user:s("preferences.users")})[e])(e)),l[e].map(e=>o.a.createElement(h_,{key:e.id,onOpenItem:n,log:a,host:i,isActive:e.id===(null==h?void 0:h.id)&&c,isHoverable:m,item:e})),o.a.createElement("div",{className:w_("group-padding")})):null),o.a.createElement(g_,{onOpenItem:n,serpLink:t,l10n:s,host:i,isActive:(null==h?void 0:h.id)===E_.id&&c,isHoverable:m}))}),k_=Vt(e=>{const{isDesktopSuggestEnabled:t,isV0SearchPlaceholder:n}=lu(e);return{searchSources:Nl(e)||[],isDesktopSuggestEnabled:t,isV0SearchPlaceholder:n,locationSearch:e.router.location.search,locationPathname:e.router.location.pathname}},{updateSuggest:_m})(Ef({searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})(({searchAsyncProps:e,searchSources:t,isDesktopSuggestEnabled:n,isV0SearchPlaceholder:s,locationSearch:i,locationPathname:a,children:c})=>{const[l,u]=Object(r.useState)(()=>{if(!de(a,{path:"/search"}))return"";const{query:e=""}=Zs(i);return e}),[d,p]=Object(r.useState)(!1),{isFocused:h,onFocus:f,onBlur:m}=(()=>{const[e,t]=Object(r.useState)(!1);return{isFocused:e,onFocus:Object(r.useCallback)(()=>t(!0),[]),onBlur:Object(r.useCallback)(()=>t(!1),[])}})(),{l10n:b}=Xh(),{clientClick:g}=Fv();e_(()=>{g(h?"searchInput.focus":"searchInput.unfocus")},[h]),Object(r.useEffect)(()=>{n&&h&&t&&t.length>0&&p(!0)},[n,h,t]);const v=Object(r.useRef)();Object(r.useEffect)(()=>{h&&v.current!==l&&(v.current=l,n&&e.fetch(l))},[l,n,h,e]);const y=Object(r.useCallback)(()=>{u("")},[]),_=Object(r.useCallback)(()=>{p(!1)},[]),E=Object(r.useCallback)(e=>{const t=e.target.value;""!==t&&""===t.trim()||u(e.target.value)},[]),w=d&&t&&t.length>0,S=((e,t)=>{const n=Zs(t);return`/search${Js(Object.assign({},n,{query:e}))}`})(l,i);u_(!w&&h,()=>{by(S,"_self")});const k=Ih(),C=sh();return c?c({value:l,placeholder:b(s?"search.placeholder_v0":"search.placeholder"),isUnfolded:d,onChange:E,onClear:y,onFocus:f,onBlur:m,onClose:_,searchResultsElement:w?o.a.createElement(S_,{serpLink:S,isInputFocused:h,host:k,log:C,l10n:b,items:t,onClose:_}):null}):null}));if(!window||!window.Promise)throw new er({message:"window and promise must exist for zenlib-loader",owner:Xn.Front,sourceType:Jn.Logic});const C_={"__LANG__":"ru","preferences.users":"Пользователи","profile.interests-title":"Интересы","preferences.channels":"Каналы","onboarding.yabro_interests_retry":"Обновить","suggest.failure":"Результаты поиска не загрузились","suggest.headers.empty_list":"Ничего не найдено","suggest.search_placeholder2":"каналы и интересы","suggest.channel_placeholder":"Поиск каналов","suggest.headers.recommeded_channels":"Вам могут быть интересны","channels.top-title":"Топ каналов","navigate_bar.channels":"Каналы","blocked.desktop.failure":"Данные не загрузились","navigate_bar.enter_profile":"Войти в профиль","onboarding.new.title":"Чем вы интересуетесь?","onboarding.new.subtitle":"Расскажите, что вам интересно, чтобы получать больше подходящих материалов в ленту","onboarding.new.ready":"Готово","subs.add-channel":"Добавить канал","subs.my":"Мои","navigate_bar.subs":"Подписки","subs.empty":"У вас пока нет подписок","subs.other-empty":"Подписок пока нет или пользователь предпочёл скрыть их","subs.find-channels":"Найти интересные каналы","blocked.empty":"У вас пока нет заблокированных каналов","preferences.blocked":"Заблокированное","blocked.desktop.title":"Заблокированные каналы","comments.removed-user":"Удалённый пользователь","feedback.subscribed":"Вы подписаны","profile.subscribe":"Подписаться","profile.followers.title":"Подписчики","profile.followers-empty":"У вас пока нет подписчиков","profile.followers-other-empty":"Подписчиков пока нет","site.feedback.rate":"Оцените Яндекс.Дзен","site.feedback.response":"Как вам Яндекс.Дзен?","site.feedback.email":"Электронная почта","site.feedback.error.email":"Некорректный адрес электронной почты","site.feedback.captcha":"Символы на картинке","site.feedback.send":"Отправить","site.feedback.sent.title":"Cпасибо!","site.feedback.sent.subtitle":"Ваш отзыв отправлен","preferences.zen_about":"О сервисе","preferences.failure":"Профиль не загрузился","preferences.what_is_zen":"Что такое Дзен?","preferences.eula":"Пользовательское соглашение","preferences.feedback_title":"Обратная связь","profile.messenger-setting-everybody":"Все пользователи","profile.messenger-setting-nobody":"Никто","profile.messenger-setting-contacts":"Только мои контакты","profile.messenger-settings-direct-chat":"Кто может создать личный чат со мной","profile.messenger-settings-add-to-chat":"Кто может добавлять меня в чаты и каналы","profile.messenger-settings-status-visibility":"Кто может видеть, что я в сети","profile.messenger-settings-presence-visibility":"Кто может найти меня в Мессенджере","profile.messenger-edit-settings":"Редактировать в настройках Яндекс.Мессенджера","profile.button-edit-long":"Настройки профиля","profile.button-edit":"Настройки","profile.button-history":"История","profile.button-notifications":"Уведомления","profile.editor-deactivate-profile":"Деактивировать профиль","profile.editor-title":"Настройки профиля","profile.editor-avatar-edit-action":"Изменить фото профиля","profile.editor-caption-name":"Имя на сервисах Яндекса","profile.editor-edit-action":"Изменить","profile.editor-caption-about":"О себе","profile.editor-about-condition":"максимум 140 символов","profile.editor-about-placeholder":"Расскажите о себе","profile.editor-caption-privacy":"Конфиденциальность","profile.editor-privacy-interests":"Мои интересы видны всем","profile.editor-privacy-activity":"Мои лайки видны всем","profile.editor-privacy-subscriptions":"Мои подписки видны всем","profile.messenger-direct-messages":"Личные сообщения","profile.editor-update-pending":"Сохранение","profile.editor-update-action-long":"Сохранить изменения","profile.editor-update-failure":"Не удалось сохранить","profile.deactivate-reason-interests-text":"Не хочу, чтобы кто-то видел мои интересы","profile.deactivate-reason-interests-hint":"Вы можете <b>скрыть свои интересы</b> на экране редактирования профиля","profile.deactivate-reason-likes-text":"Не хочу, чтобы кто-то видел мои лайки","profile.deactivate-reason-likes-hint":"Вы можете <b>скрыть свою активность</b> на экране редактирования профиля","profile.deactivate-reason-other-text":"Другое","profile.deactivate-reason-other-placeholder":"Если вам не сложно, расскажите о причине — это поможет нам сделать Дзен лучше","profile.deactivate-reason-other-hint":"максимум 500 символов","profile.deactivate-init-title":"Почему вы хотите деактивировать профиль?","profile.deactivate-confirm-title":"Вы уверены?","profile.deactivate-confirm-message":"Деактивируя свой профиль, вы теряете:","profile.deactivate-confirm-message-point-1":"Список понравившихся вам публикаций","profile.deactivate-confirm-message-point-2":"Возможность комментировать происходящее","profile.deactivate-failure":"Что-то пошло не так","profile.deactivate-continue":"Продолжить","profile.deactivate":"Деактивировать","common.login_popup.auth_subscribe":"Войдите, чтобы подписаться","common.login_popup.source_on_mainpage":"И читайте публикации этого источника на главной странице","common.login_popup.not_lose_subscriptions":"Не потеряйте свои подписки","common.login_popup.auth_save_source":"Войдите, чтобы сохранить источник в раздел подписок","common.login_popup.recommend_better_auth":"Лента рекомендаций Дзена лучше, когда вы авторизованы","common.login_popup.auth_like":"Войдите, чтобы оценить публикацию","common.login_popup.tune_feed":"Оценивания публикации, вы настраиваете вашу ленту","common.login_popup.not_lose_likes":"Не потеряйте то, что вам понравилось","common.login_popup.save_likes_in_profile":"Понравившиеся публикации сохраняются в вашем профиле","api.v3.launcher.auth.login_button.title":"Войти","desktop.sms_popup.button":"Получить ссылку","desktop.sms_popup.button_a":"Скачать приложение","desktop.sms_popup.button_b":"Познакомиться с приложением","desktop.sms_popup.button_c":"Попробовать","desktop.sms_popup.button_d":"Вперёд","desktop.sms_popup.text":"Быстрый доступ\nк Дзену в мобильном\nприложении","desktop.sms_popup.text_a":"Читайте Дзен\nв своём телефоне","desktop.sms_popup.text_b":"Удобнее читать\nв приложении","desktop.sms_popup.text_c":"Статьи, новости, видео\nвсегда под рукой","desktop.sms_popup.text_d":"Сохраняйте интересное\nв мобильном\nприложении","desktop.sms_popup.text_e":"Сохраняйте статьи\nв своём телефоне","desktop.sms_popup.text_f":"Скачайте и сохраняйте\nстатьи, новости, видео","desktop.sms_popup.store_button_key":"ru","desktop.sms_popup.subtitle":"Напишите свой номер, и мы пришлем вам ссылку на приложение для вашего телефона.","desktop.sms_popup.pending":"Идет отправка","desktop.sms_popup.success":"Отправлено","desktop.sms_popup.error":"Не отправлено","common.data-not-loaded":"Данные не загрузились","common.request-retry":"Попробовать снова","suggest.search_placeholder3":"Найти каналы и интересы","search.show_all_results":"Показать все результаты","search.placeholder_v0":"Статья, канал, интерес","search.placeholder":"Статья, видео, канал, интерес"},O_=(()=>{const e=Ua,t=Boolean(!1),n=t?{shouldDeferEvents:t,notDeferredEvents:["show_teaser","short"]}:void 0;return new e(e=>Object.assign({},e,{apiResponseValidator:Ii,deferredEvents:n}))})();let T_=null;const P_=()=>{if(!T_)throw new Error("Get store before init");return T_};class A_ extends Error{}const R_=e=>{if(!e.bulk||!e.bulk.link){const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new A_(t);throw e.ttl&&(n.ttl=e.ttl),n}},x_=(()=>{const e=(()=>{const e=Date.now();return(t,n=2592e6)=>{const{user:r}=t,o=e+t.user.serverTimeDiff,{zenApp:s,zenAppIos:i}=r.lastSawFeed;return o-Math.max(s||0,i||0)<Math.max(1728e5,n)}})();return t=>e(t,2592e6)})(),N_=e=>"PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY"===e.route,I_=({app:e,outputBus:t})=>{var n,o;return o=n=class extends r.Component{constructor(...e){var t;return t=super(...e),this.changeListener=(e=>{const{onChange:t}=this.props;t&&t(e)}),this.closeListener=(()=>{const{onClose:e}=this.props;e&&e()}),this.iframeMessageListener=(e=>{(e.data.updateDisplayName||"success"===e.data.updateAvatar)&&this.props.onUpdateAvatar&&this.props.onUpdateAvatar(),e.data.updateDisplayName&&P_().dispatch(fl())}),this.openSubs=(()=>{this.setRoute(Ya.SUBS)}),this.openChannels=(()=>{this.setRoute(Ya.CHANNELS)}),this.openBlocked=(()=>{this.setRoute(Ya.BLOCKED)}),this.openSearch=(()=>{this.setRoute(Ya.SEARCH)}),this.openAbout=(()=>{this.setRoute(Ya.ABOUT)}),this.openPassport=(()=>{P_().dispatch(bl("PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY"))}),this.close=(()=>{this.setRoute("/")}),this.setRoute=(e=>{P_().dispatch(i(e))}),this.getRoute=(()=>P_().getState().router.location.pathname),t}componentDidMount(){t.on("popupClose",this.closeListener),t.on("sourceChange",this.changeListener)}componentDidUpdate(e){const t=N_(this.props);t!==N_(e)&&(t?window.addEventListener("message",this.iframeMessageListener,!1):window.removeEventListener("message",this.iframeMessageListener))}componentWillUnmount(){t.off("popupClose",this.closeListener),t.off("sourceChange",this.changeListener),window.removeEventListener("message",this.iframeMessageListener)}render(){return e}},n.sendAppLinkSms=(e=>O_.sendAppLinkSms(e)),n.checkZenAppUser=(()=>x_(P_().getState())),n.showNewSearchPopup=(()=>P_().dispatch(Ey())),o};za().modalLib={create:async(e,t)=>{const{host:n,clid:r,countryCode:s,lang:i,teethType:a,zenFeatures:c,clientExperiments:l,libType:u,notifiersPosition:d,styles:p,isMobile:h,initialDisplayedRowsNumber:f,userInfo:m}=e,b={product:Qn.MODAL_LIB,host:n,clid:r,countryCode:s,lang:i,teethType:a,zenFeatures:Object.assign({},vr,c),clientExperiments:l,libType:u,notifiersPosition:d,styles:p,isMobile:h},g=m?{oauthToken:m.oauthToken,login:m.login,deviceId:m.deviceId,profileId:m.profileId,yandexuid:m.yandexuid}:void 0;if(O_.configure(t=>Object.assign({},t,b,{cache:e.cache,apiResponseValidator:R_})),!t){const e=await O_.getPublisherConfig();if(As(e))return{ModalLibFacadeComponent:Object({}),DesktopSearchDropdown:null};t=e}const{auth:v}=t,y=D({initialEntries:["/"]}),_=Qa(),E=Math.round(1e8*Math.random()),w={zenApi:O_,zenLogger:new Iy,inputBus:new Sr,outputBus:_,privateBus:new Sr,modalRoutes:Ly},S=(e=>[kn(e),H(e)])(w).concat([nn(y),jy(E)]),k=(({reducer:e,middlewares:t=[],zenContext:n,feedId:r,onBeforeInit:o,settings:s})=>{const i=en(e,Cn(t,n,r));return o&&o(),i.dispatch(Zy(s,n)),i})({settings:{exportData:t,params:b,auth:v,user:g,initialDisplayedRowsNumber:f},reducer:Qc(y),middlewares:S,zenContext:w}),C=(({App:e,history:t,translations:n,zenContext:r,store:s,nativeZenApiMethods:i={},fontMetrics:a})=>Yn({element:o.a.createElement(e,{nativeZenApiMethods:i}),store:s,translations:n,history:t,zenContext:r,fontMetrics:a}))({App:Ny,history:y,translations:C_,zenContext:w,store:k});return T_=k,((e,t)=>{let n;const r=()=>{const r=t.getState(),o=Za(r);void 0!==n&&n===o||(n=o,e.configure(e=>Object.assign({},e,o)))};r(),t.subscribe(r)})(O_,k),{ModalLibFacadeComponent:I_({app:C,outputBus:_}),DesktopSearchDropdown:e=>Yn({element:lu(k.getState()).isSearch2Enabled?o.a.createElement(k_,e):o.a.createElement(t_,e),store:k,translations:C_,history:y,zenContext:w})}}}},function(e,t,n){"use strict";n.r(t);n(2);var r=n(24),o=n.n(r);const s=new o.a("regular-ysans"),i=new o.a("bold-ysans"),a=new o.a("medium-ysans");window._fontsLoadPromise||(window._fontsLoadPromise=Promise.all([s.load(),i.load(),a.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.classList.add("fonts-loaded")}).catch(e=>{console.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)}))}]);