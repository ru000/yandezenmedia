(function(a){var e=a._translations||{};var c=JSON.parse('{"82117155":"Выйти","a632e5de":"Сегодня","78733ea7":"Вчера","1e39105d":"2&nbsp;дня&nbsp;назад","0a94b888":"3&nbsp;дня&nbsp;назад","7db412ad":"сек","89ecfbc9":"мин","bce5213c":"вс, пн, вт, ср, чт, пт, сб","386c0e4d":"воскресенье, понедельник, вторник, среда, четверг, пятница, суббота","928edc82":"янв, фев, мар, апр, май, июн, июл, авг, сен, окт, ноя, дек","4f323975":"январь, февраль, март, апрель, май, июнь, июль, август, сентябрь, октябрь, ноябрь, декабрь","daf32e37":"января, февраля, марта, апреля, мая, июня, июля, августа, сентября, октября, ноября, декабря","e1c00ef7":"Правки будут опубликованы {{date}} в&nbsp;{{time}}","19237a91":"Правки будут опубликованы {{date}}","2d6ceaba":"Будет опубликовано {{date}} в&nbsp;{{time}}","39dc55b3":"Будет опубликовано {{date}}","6f02312c":"Адрес занят","1ddd174e":"Адрес недоступен","3b8a8b67":"Пиксель уже используется","a7237aec":"Все каналы на цифру","edac9e3f":"Все каналы на букву","10e004de":"Все каналы","d9e51af7":"Оставьте поле пустым, чтобы описание было одинаковым для всех картинок","2c707234":"Описание","a6e04399":"Сохранение...","3bf5a3cf":"Сохранено","4f75772f":"Нет интернета","f8f6b718":"Что-то не загрузилось","609fb693":"Без интернета правки не сохранятся","7adaf6b8":"Ошибка при загрузке публикаций","c4ee7a73":"Что-то пошло не так","5261d3a9":"Кампания завершена","309c6f8f":"Некорректный адрес","de39fc40":"Недопустимый формат","5c12d005":"Неправильный код","6feb99dc":"Исчерпано число попыток","2f22a41b":"У этого пользователя уже есть такой доступ","cc0a3fd5":"Не удалось найти введённую почту. Пожалуйста, укажите главный логин агентства","82c17b5e":"Достигнуто максимальное количество публикаций в кампании","2df63b7e":"Ошибка сохранения пикселей","fa342c07":"Введен некорректный адрес канала","800c4aa4":"Подходят только адреса Яндекс.Почты","98e2a58e":"Ошибка при сохранении настроек черновика","ae4d805c":"В магазин","3ec45ebe":"Перейти","2eaf84bc":"Реклама в Дзене","ff3275c1":"Размер или формат не поддерживается","09e43ede":"Некоторые картинки не загрузились","4acbfa0e":"Максимум картинок — {{count}}","567491de":"Загружаем...","7339f642":"Ошибка — проверьте, есть ли интернет","046fa9c8":"Не удалось отправить","85c36722":"Публикация...","fab9c2da":"Публикация создана","d57006f1":"Не удалось загрузить статистику по клиентам","e26da378":"Партнёрская публикация","08c47ddb":"Есть правки","3b2d07db":"Есть неопубликованные правки","e22901a9":"Статистика","ad7d9707":"Удалить правки","9e3da05d":"Удалить публикацию","63cf00c3":"Изменить","a9d6aca7":"Сообщение","8948c548":"Написать сообщение","25bb3c3e":"Удалить «{1}»?","d61440b1":"Удалить публикацию без названия?","645df422":"Пожаловаться на публикацию","c40db515":"Разблокировать канал","d080f75c":"Заблокировать канал","85214c14":"Разблокировать","4c39c77a":"Вы подписаны","215090f7":"Подписаться","e46e1638":"подписчик","4fa6e8f6":"подписчика","8b42b998":"подписчиков","207e74c8":"Скопировано\\n","00d750cb":"Скопировать\\n","007c9083":"ВКонтакте","5a3bb617":"дочитывание","400ccbaf":"дочитывания","9684fab0":"дочитываний","6ea5f454":" тыс.","87e1c52e":" млн","53f11787":"Беру","cb10f2bc":"Яндекс.Маркет","c932adc4":"Joom","4901651b":"просмотр","96705d78":"просмотра","b81753ee":"просмотров","d9edd56a":"Уникальные посетители страницы.","924ff1d3":"Пользователи, дочитавшие до конца.","f8042733":"Среднее время дочитывания публикации.","5b9d1cdb":"Удалить","4f16d1cd":"Отменить","08256526":"еще {count}","fb58245b":"комментарий","fe6a747e":"комментария","2d5f8851":"комментариев","524f8a97":"Нет","e2062b80":"Понравилась&nbsp;статья?","913afa31":"Нет отметок","9546e95e":"Понравилась статья?","71510d8a":"Вам нравится","6175da7d":"нравится","009347de":"Facebook","9710924f":"Одноклассники","37242f98":"Twitter","44e6ec07":"Telegram","c5526e59":"Скопировать ссылку","fcc6949f":"Viber","47539a7f":"Автор","043e95b4":"Профиль","b88ffe03":"Редактор","b51dc837":"Заблокированное","925b281d":"О сервисе","e72a3591":"Регистрация","8a053021":"Войти","7cd1f5f9":"Найти каналы и интересы","fc96ad9f":"Статья, видео, канал, интерес","7d38059d":"Статья, канал, интерес","86a77153":"из","9c2debfa":"Редактировать галерею","c0b1a55f":"Удалить галерею","f0eaefad":"Готовится к публикации","a8a40fb2":"<link>Главное о коронавирусе: новости, статистика, ответы на вопросы</link>","5070b89c":"По мнению других пользователей, в публикации есть недостоверная информация.","4a50258d":"Материал содержит информацию о&nbsp;товарах, употребление которых может навредить вашему здоровью.","7372c314":"Другие публикации этого автора"}')||{};for(var d in c){e[d]=c[d]}a._translations=e})(this);!function(e){function t(t){for(var n,a,o=t[0],r=t[1],c=t[2],d=0,u=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&u.push(s[a][0]),s[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(p&&p(t);u.length;)u.shift()();return l.push.apply(l,c||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,o=1;o<i.length;o++){var r=i[o];0!==s[r]&&(n=!1)}n&&(l.splice(t--,1),e=a(a.s=i[0]))}return e}function n(e){return a.p+""+({2:"ad-article-container-lazy-chunk",6:"article-bottom",7:"article-comments",10:"article-feedback-layout",15:"article-recommender-container-lazy-chunk",16:"article-right-suggested-publications-container",17:"article-scroll-to-site-lazy-chunk",23:"call-to-action",36:"circular-progress-indicator",42:"element-scroll-polyfill",45:"form-complaint",49:"intersection-observer",50:"lego-notifier",56:"notifications-popup",60:"rezen-modal",62:"similars",63:"social-login-popup-container-lazy-chunk"}[e]||e)+"."+{2:"ru.c0c2974c72d66d1ed82b",6:"ru.87d5a98211c4479691ba",7:"312eabeb884e05763b68",10:"76c501bcbbd5f2c141aa",15:"ru.11abcca02a7441418f14",16:"ru.a125c38d8077bfd7ad5f",17:"ru.88d9f16977952a7b4690",23:"ru.0dcb715823d98c85f332",36:"7053f56067739c3c2435",42:"7790e918250364579f7f",45:"ru.5a4a8e75a1c355cd1909",49:"0e53b4a2da7ece38fc3d",50:"ru.f45de8b80823389ab779",56:"ce6491984d87fbd3d22e",60:"ru.fc08a00971a0bd032442",62:"ru.87bd8cedd79ecf57b9f1",63:"ru.8038f1c300dab52aa256",89:"b1b4fdd7a88afe0568e1"}[e]+".js"}function a(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}var o={},r={5:0},s={5:0},l=[];a.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{2:1,6:1,7:1,10:1,15:1,16:1,17:1,23:1,36:1,45:1,50:1,62:1,63:1}[e]&&t.push(r[e]=new Promise(function(t,i){for(var n=({2:"ad-article-container-lazy-chunk",6:"article-bottom",7:"article-comments",10:"article-feedback-layout",15:"article-recommender-container-lazy-chunk",16:"article-right-suggested-publications-container",17:"article-scroll-to-site-lazy-chunk",23:"call-to-action",36:"circular-progress-indicator",42:"element-scroll-polyfill",45:"form-complaint",49:"intersection-observer",50:"lego-notifier",56:"notifications-popup",60:"rezen-modal",62:"similars",63:"social-login-popup-container-lazy-chunk"}[e]||e)+"."+{2:"3f379b5edab2f82c18d0",6:"d9a2209e6584adb11118",7:"054629fc3d99bab0d1ef",10:"850b5dfc101cd2ee449f",15:"2419b0a0b6cb06a08846",16:"eac3edb076d00bb4086d",17:"65a8954a943b9fcd6b90",23:"0b3491cca536dc01d97c",36:"014e406e4443e68b8873",42:"31d6cfe0d16ae931b73c",45:"0845b2b9d880150897c9",49:"31d6cfe0d16ae931b73c",50:"ee568caa24d5d7f13a72",56:"31d6cfe0d16ae931b73c",60:"31d6cfe0d16ae931b73c",62:"f6617471c75967cd577a",63:"c1eccfb6120617f0cefb",89:"31d6cfe0d16ae931b73c"}[e]+".css",o=a.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=(d=r[s]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===n||l===o))return t()}var c=document.getElementsByTagName("style");for(s=0;s<c.length;s++){var d;if((l=(d=c[s]).getAttribute("data-href"))===n||l===o)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var n=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.request=n,i(a)},u.href=o,document.getElementsByTagName("head")[0].appendChild(u)}).then(function(){r[e]=0}));var i=s[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,n){i=s[e]=[t,n]});t.push(i[2]=o);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=n(e);var d=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(u);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,i[1](d)}s[e]=void 0}};var u=setTimeout(function(){l({type:"timeout",target:c})},12e4);c.onerror=c.onload=l,document.head.appendChild(c)}var p={15:[2]}[e];return p&&p.forEach(function(e){if(void 0===s[e]){s[e]=null;var t=document.createElement("link");t.charset="utf-8",a.nc&&t.setAttribute("nonce",a.nc),t.rel="preload",t.as="script",t.href=n(e),document.head.appendChild(t)}}),Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw e};var c=window.webpackPublishersJsonp=window.webpackPublishersJsonp||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=d;l.push([2730,37,18]),i()}([function(e,t){e.exports=React},,,,,,,function(e,t,i){"use strict";function n(e,t=!0){return Object.keys(e).filter(t=>void 0!==e[t]).map(i=>t?`${encodeURIComponent(i)}=${encodeURIComponent(String(e[i]))}`:`${i}=${e[i]}`).join("&")}function a(e){return e.filter(([e,t])=>!!t&&!!e).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&")}function o(e,t,i=!0){let a="",o=n(t,i);const r=e=>e>0?e:0,s=r(e.indexOf("?")),l=r(e.indexOf("#",s)),c=e.slice(0,s||l||void 0);return l&&(a=e.slice(l)),o=o?`?${o}`:"",`${c}${o}${a}`}function r(e,t=!0){if(!e)return{};const i=e.indexOf("?");if(-1===i)return{};const n=(e=>e>0?e:0)(e.indexOf("#",i));return e.slice(i+1,n||void 0).split("&").reduce((e,i)=>{const[n,a]=i.split("=");return n&&a?(t?e[decodeURIComponent(n)]=decodeURIComponent(a):e[n]=a,e):e},{})}function s(e,t){return o(e,{...r(e),...Object.keys(t).reduce((e,i)=>t[i]?{...e,[i]:t[i]}:e,{})})}function l({publicationId:e,publisherId:t,titleForUrl:i,nickname:n}){const a=i?`${encodeURIComponent(i)}-${e}`:e;return n?`/${k.PREFIX_ROOT}/${n}/${a}`:`/${k.PREFIX_ROOT}/id/${t}/${a}`}function c({id:e,nickname:t}){return t?`/${k.PREFIX_EDITOR_ROOT}/${(0,w.getPublisherNickname)({nickname:t})||""}`:`/${k.PREFIX_EDITOR_ROOT}/id/${e}`}function d(e,t){return t?`/${t}`:`/id/${e}`}function u(){return`/${k.PREFIX_ROOT}/zen/login`}function p(e){const t=(e||window.location.hostname).trim().match(/^(\S+\.)?yandex\.(\S+)$/);return t?t[2]||"ru":"ru"}function m(e,t){const i={retpath:e,login:t,origin:"zen_pubs"};return(0,O.buildUrl)(`${B()}/auth`,i)}function h(e){const t=[];return Object.keys(e).forEach(i=>{void 0!==e[i]&&t.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(e[i]))}`)}),t.join("&")}function f(e,t,i){const n=[],a=e.replace(/:(\w+)/g,(e,i)=>{const a=t[i];if(!a)throw new TypeError(`No param for path match "${e}".`);return n.push(i),String(a)});return Object.keys(t).filter(e=>!n.includes(e)).forEach(e=>{throw new Error(`No pattern for param "${e}" in path.`)}),i?a+(a.includes("?")?"&":"?")+h(i):a}function g(e){const t="//"===e.substr(0,2)?`https:${e}`:e,i=`https://${location.host}`;return t.startsWith("http")&&(!t.startsWith(i)||![void 0,"/"].includes(t[i.length]))}function b(e){return e.replace(/^https:\/\/[^/]+/,"")}function _(){if("undefined"==typeof window)return null;const e=window.location.hostname.match(/yandex\.(.*)$/);return e?e[1]:void 0}function v(e){if(!e)return[];const t=e.indexOf("?");if(-1===t)return[];const i=Math.max(e.indexOf("#",t),0);return e.slice(t+1,i||void 0).split("&").reduce((e,t)=>{const[i,n]=t.split("=");return i&&n?(e.push([decodeURIComponent(i),decodeURIComponent(n)]),e):e},[])}function y(e,t){let i="",n=a(t);const o=Math.max(e.indexOf("?"),0),r=Math.max(e.indexOf("#",o),0),s=e.slice(0,o||r||void 0);return r&&(i=e.slice(r)),n=n?`?${n}`:"",`${s}${n}${i}`}function S(e,t){return y(e,[...v(e),...t.filter(([,e])=>!!e)])}function I(e){return Object.keys(e).reduce((t,i)=>{const n=e[i];return void 0!==n&&(t[encodeURIComponent(i)]=encodeURIComponent(String(n))),t},{})}function T(e,t,i){const n=r(e,!1),a=I(t),o=I(i);return Object.keys(n).forEach(e=>{if(e in a){var t;const i=null===(t=a[e])||void 0===t?void 0:t.toString();i&&(n[e]=i),delete a[e]}e in o&&delete o[e]}),{queryParams:n,addParams:{...a,...o}}}var P=i(1),E=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.toUrlQueryString=n,t.queryListToUrl=a,t.replaceUrlQuery=o,t.getUrlQuery=r,t.appendLocationQuery=function(e,t=["via"]){const i=r(e),n=r(location.href);return t.forEach(e=>{n.hasOwnProperty(e)&&(i[e]=n[e])}),o(e,i)},t.appendQuery=s,t.toEditUrl=function({publication:{id:e,publisherId:t,content:i},openPublishPopup:n,query:a}){let o=`/${k.PREFIX_EDITOR_ROOT}/id/${t}/${e}`;return o+=i&&"post"===i.type?"/mobile-edit":"/edit",a&&(o=s(o,a)),n&&(o+="#open_publish_pupup"),o},t.toMoneyUrl=function(e){return f(A.MONEY_PAGE_INDEX,{publisherId:e})},t.toMicroPostResetAndEditUrl=function({id:e,publisherId:t}){return`/${k.PREFIX_EDITOR_ROOT}/id/${t}/${e}/reset-draft-and-edit`},t.toStatsUrl=function(e){const{id:t,content:i,addTime:n,publisherId:a}=e,o={filterType:i.type,publicationId:t},r="number"==typeof n?{intervalStart:(0,R.default)(n-(0,N.toMsFromDays)(7)).getTime(),intervalEnd:(0,M.default)(n+(0,N.toMsFromDays)(7)).getTime()}:{};return(0,O.buildUrl)(`/profile/editor/id/${a}/publications-stat`,{...o,...r})},t.toAuthorStatsUrl=function(e,{tab:t}={}){return`/profile/editor/id/${e}/publications-stat${t?`?statType=${t}`:""}`},t.toViewUrl=function(e,t,i){const n=e.titleForUrl?`${e.titleForUrl}-${e.id}`:e.id;return t?`/${k.PREFIX_ROOT}/${t}/${n}${i?"":"?from=editor"}`:`/${k.PREFIX_ROOT}/id/${e.publisherId}/${n}${i?"":"?from=editor"}`},t.toPublicationURL=l,t.toCommentsUrl=function(e,t,i,n){return`${l({publicationId:e,publisherId:t,titleForUrl:i,nickname:n})}#comments_data=p_root`},t.toThematicFeedUrl=function(e){return`/t/${encodeURIComponent(e)}`},t.fromThematicFeedUrl=function(e){const t=e.match(/.*?\/t\/(.+)/);return t?decodeURIComponent(t[1]):""},t.isThematicFeedUrl=function(e){return/\/t\/.+/i.test(e)},t.toPublisherUrl=c,t.toWidgetUrl=function({id:e,privateData:t,itemId:i}){return`${c({id:e,privateData:t,itemId:i})}/widget`},t.toKarmaUrl=function({id:e,privateData:t,itemId:i}){return`${c({id:e,privateData:t,itemId:i})}/karma`},t.toCampaignsUrl=function({id:e}){return`${c({id:e})}/campaigns`},t.toClientsUrl=function({id:e}){return`${c({id:e})}/clients`},t.toPartnerVideoUrl=function({id:e}){return`${c({id:e})}/partner-video`},t.toChannelUrl=function(e){const t=e.nickname?(0,w.getPublisherNickname)(e)||"":"";return d(e.id,t)},t.toChannelIdUrl=d,t.publisherUrl=function(e){return`https://zen.yandex.ru/media/${k.PREFIX_EDITOR_ROOT}/id/${e}`},t.toChannelEditorUrl=function(e){return e.nickname?`/${k.PREFIX_EDITOR_ROOT}/${(0,w.getPublisherNickname)(e)||""}`:`/${k.PREFIX_EDITOR_ROOT}/id/${e.id}`},t.toLoginUrl=u,t.getRegionalDomain=p,t.toLogoutUrl=function(){if(L.isSSR)return;const e=document.cookie.match(/yandexuid=(\d+)/);if(!e)return;const t=`https://${location.host}${u()}`,i={mode:"logout",yu:e[1],retpath:t,origin:"zen_pubs"};return(0,O.buildUrl)(`${B()}/passport`,i)},t.toReloginUrl=m,t.openRegistrationPage=function(e){if(L.isSSR)return;const t=window.location.href,i=o(t,{...r(t),...window._prominentParams,...window._zenOmittedQueryParams,...e});window.location.href=f(`${B()}/registration`,{},{origin:"zen_pubs",retpath:i})},t.serializeURLParams=h,t.formatPath=f,t.uploadLogoUrl=function(e){return(0,O.buildUrl)(`/${k.EDITOR_API_V2}/add-image-publisher`,{publisherId:e.id})},t.isExternalURL=g,t.clearDomainPart=b,t.getSearchParams=function(e){const t=e.indexOf("?");let i=e;if(-1!==t){const n=e.indexOf("#",t);i=i.slice(t+1,n>0?n:void 0)}return i.split("&").reduce((e,t)=>{const i=t.includes("=")?t.split("="):[t,""];return i[0]&&(e[i[0]]=i[1]),e},{})},t.getMetrikaDashboardLink=function({privateData:e}){return e&&e.metrikaCounterId?`https://metrika.yandex.ru/dashboard?id=${e.metrikaCounterId}`:null},t.getTld=_,t.isAppMetrikaRedirectLink=function(e){return e.startsWith("https://redirect.appmetrica.yandex.com/")},t.isFromFeed=function({originalStartUrl:e}={}){const t=e||!L.isSSR&&x&&x.originalStartUrl||location.search,i=decodeURIComponent((t.match(/\butm_referrer=([^&]+)/)||[])[1]||"")||document.referrer;return!!i&&(g(i)?i.startsWith("https://zen.yandex.com"):!b(i).startsWith("/media/"))},t.getUrlHashParams=function(e){const t=e.indexOf("#");return-1===t?{}:e.substring(t+1).split("&").reduce((e,t)=>{const i=t.split("=");return""!==i[0]&&(e[i[0]]=i[1]||!0),e},{})},t.replaceUrlHash=function(e){location.hash=e},t.toDownloadStatisticReport=function(e){return`/${k.EDITOR_API_V2}/publisher-publications-rich-stat-xls?${n(e)}`},t.toDownloadCampaignsStatisticReport=function(e){return`${C.PATHS.CAMPAIGNS_STATS_REPORT}?${n(e)}`},t.getUrlQueryList=v,t.replaceUrlQueryList=y,t.appendQueryList=S,t.passUrlParams=function(e){const t=["experiment","exclude_exp","telemetry"];return S(e,v(location.href).filter(([e])=>t.some(t=>e===t)))},t.addProtocolToUrlIfAbsent=function(e){return(0,w.hasUrlProtocol)(e)?e:`http://${e}`},t.replaceURLQueryParams=function(e,t,i){const{queryParams:n,addParams:a}=T(e,i,t);return o(e,{...n,...a},!1)},t.getProperParams=T,t.replaceCurrentUrlQuery=t.getPublicationIdFromUrl=t.getPlayerVersionFromUrl=t.getFaviconUrl=t.getDomainFromUrl=t.toUserProfile=t.toShareDraftURL=t.getPublicationData=t.toDownloadStatisticAudience=t.getFeedbackUrl=t.getCurrentLocationPath=t.getCurrentLocationUrl=t.getAvatarUrlByName=t.getDefaultAvatarUrl=t.resetUrlToOriginal=t.openAuthPage=t.getPassportHost=t.toRulesUrl=t.toHelpKarmaBonusUrl=t.toHelpKarmaUrl=t.toHelpUrl=t.toLoginCampaigns=t.LINKS=void 0;var C=i(22),A=i(131),k=i(19),O=i(52),L=E(i(10)),w=i(64),D=i(36),R=P(i(43)),M=P(i(86)),N=i(20);const U={"а":"a","б":"b","ц":"c","ч":"ch","д":"d","е":"e","э":"ee","ф":"f","г":"g","х":"h","и":"i","й":"ii","ж":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","щ":"sch","ш":"sh","т":"t","в":"v","у":"y","я":"ya","ё":"yo","ю":"yu","з":"z"};t.LINKS={PROMO_ABOUT:"https://yandex.ru/support/zen/channel/promo-code.html"};const x="undefined"==typeof window?void 0:window;t.toLoginCampaigns=(()=>`/${k.PREFIX_ROOT}/zen/campaigns`),t.toHelpUrl=(()=>`//yandex.${p()}/support/zen/publishers/authors.html`),t.toHelpKarmaUrl=(()=>`//yandex.${p()}/support/zen/publishers/karma.html`),t.toHelpKarmaBonusUrl=(()=>`//yandex.${p()}/support/zen/publishers/karma-bonus.html#calculating`),t.toRulesUrl=(()=>`//yandex.${p()}/support/zen/publishers/requirements.html`);const B=()=>`//passport.yandex.${p()}`;t.getPassportHost=B,t.openAuthPage=((e,t)=>{if(L.isSSR)return;if((0,D.getPlatformInfo)())return void window.open("zenkit://authorize","_blank");const i=window.location.href,n=m(o(i,{...r(i),...window._prominentParams,...window._zenOmittedQueryParams,...e}));"_blank"===t?window.open(n,"_blank"):window.location.href=n}),t.resetUrlToOriginal=(()=>{const{originalStartUrl:e}=L.default;!L.isSSR&&e&&history&&history.replaceState({},document.title,e)}),t.getDefaultAvatarUrl=(e=>{const t=e.name||"";return F(t)});const F=e=>{if(!e)return`${C.LETTERS_HOST}no-symbol/avatar@2x.png`;const t=e[0].toLowerCase();return/[a-z]/.test(t)?`${C.LETTERS_HOST}en/${t}@2x.png`:e.startsWith("10")?`${C.LETTERS_HOST}numbers/10@2x.png`:/[1-9]/i.test(t)?`${C.LETTERS_HOST}numbers/${t}@2x.png`:U[t]?`${C.LETTERS_HOST}ru/RU-${U[t]}@2x.png`:`${C.LETTERS_HOST}no-symbol/avatar@2x.png`};t.getAvatarUrlByName=F,t.getCurrentLocationUrl=(()=>L.isSSR?"":`https://${location.host}${location.pathname}`),t.getCurrentLocationPath=(()=>L.isSSR?"":location.pathname),t.getFeedbackUrl=(e=>`https://forms.yandex.${_()||"ru"}/surveys/10017410/?znchnlid=${e}`),t.toDownloadStatisticAudience=(e=>f(`/${k.EDITOR_API_V2}/publisher/:publisherId/monthly-stats-xls`,e)),t.getPublicationData=(e=>(0,O.buildUrl)(C.PATHS.GET_PUBLICATION_DATA,{id:e})),t.toShareDraftURL=(({draftId:e="",publisherId:t="",origin:i=""})=>`${i}/${k.PREFIX_ROOT}/id/${t}/${e}/draft-preview`),t.toUserProfile=(()=>`${C.PATHS.USER_PROFILE}/`);const H=e=>{const t=e.replace(/^https?:\/\//,""),i=t.indexOf("/");if(-1!==i)return t.substring(0,i);const n=t.indexOf("?");return-1!==n?t.substring(0,n):t};t.getDomainFromUrl=H,t.getFaviconUrl=(e=>`https://favicon.yandex.net/favicon/${H(e)}`),t.getPlayerVersionFromUrl=(()=>{const{video_player_version:e}=r(document.location.search);return e}),t.getPublicationIdFromUrl=(e=>{const t=e.split("/"),i=t[t.length-1].split(/[#?]/)[0].split("-"),n=i[i.length-1];return/[\w]{24}/.test(n)?n:""}),t.replaceCurrentUrlQuery=(e=>{if(!L.isSSR&&history){const t=r(location.href);history.replaceState({},document.title,o(location.href,{...t,...e}))}})},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var a=n(i(10));const o=/\{(\d+)\}/g;t.lang=((e,t)=>{const i=(a.default.translations||{})[e]||e.toUpperCase();return t?i.replace(o,(e,i)=>{const n=parseInt(i,10)-1;return n<t.length?String(t[n]):""}):i})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertCamelCaseToKebabCase=t.createBlock=t.getModsClasses=t.getElemClasses=t.getBlockClasses=t.getElemClass=t.getBlockClass=void 0;const n=(e,t={},i=[])=>o(e,t,i).join(" ");t.getBlockClass=n;const a=(e,t,i={},n=[])=>r(e,t,i,n).join(" ");t.getElemClass=a;const o=(e,t={},i=[])=>[e,...s(e,t),...i];t.getBlockClasses=o;const r=(e,t,i,n=[])=>{const a=`${e}__${t}`;return[a,...s(a,i),...n]};t.getElemClasses=r;const s=(e,t={})=>Object.keys(t).reduce((i=[],n)=>{const a=t[n],o=l(n);return"boolean"!=typeof a?[...i,`${e}_${o}_${a}`]:a?[...i,`${e}_${o}`]:i},[]);t.getModsClasses=s,t.createBlock=(e=>({bl:(t,i)=>n(e,t,i),el:(t,i,n)=>a(e,t,i,n)}));const l=e=>e.replace(/([a-z])([A-Z])/g,(e,t,i)=>`${t.toLowerCase()}-${i.toLowerCase()}`).replace(/([A-Z])([a-z])/g,"-$1$2").toLowerCase().replace(/^-/,"");t.convertCamelCaseToKebabCase=l},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalWindow=function(){return T?void 0:window},t.isSSR=t.default=void 0;const{_config:i,_editorConfig:n,_featureConfig:a,_data:o,_uatraits:r,_isZenKit:s,_isIZenKit:l,_zenKitVersion:c,_csrfToken:d,_zenUserData:u,_articleContainer:p,_language:m,_translations:h,_originalStartUrl:f,_zenOAuthToken:g,_yaNonce:b,_prominentParams:_,_zenOmittedQueryParams:v,_interview:y,_zenlibPath:S}=e;var I={config:i,editorConfig:n,featureConfig:a,data:o,uatraits:r,isZenKit:s,isIZenKit:l,zenKitVersion:c,csrfToken:d,zenUserData:u,articleContainer:p,language:m,translations:h,originalStartUrl:f,zenOAuthToken:g,yaNonce:b,prominentParams:_,omittedQueryParams:v,interview:y,zenlibPath:S};t.default=I;const T="undefined"==typeof window;t.isSSR=T}).call(this,i(65))},,,function(e,t,i){"use strict";function n(e){const t=(0,p.getSearchParams)(document.location.search||document.location.hash);for(const[i,n]of Object.entries(_))if(e.includes(n)){const e=t[i];if(e)return fetch(`/${b.EDITOR_API_V2}/mock-proxy?mockId=${e}`).then(e=>e.json()).then(e=>e.data)}}async function a(e,t=P){async function i(){const e=await(a?T():Promise.resolve(null)),t=new XMLHttpRequest;if(r&&(t.responseType="blob"),t.open("GET",g,!0),f||await c(t,g),e&&t.setRequestHeader("X-Csrf-Token",e),u&&(t.setRequestHeader("Cache-Control","no-cache"),t.setRequestHeader("Pragma","no-cache")),h&&t.setRequestHeader("zen-request-id",h),f){const{product:e,partner:i,integration:n,clid:a,place:o,experiments:r,token:s,oAuthToken:l}=f;t.setRequestHeader("X-Zen-Comments-Product",e),t.setRequestHeader("X-Zen-Comments-Partner",i),t.setRequestHeader("X-Zen-Comments-Integration",n),t.setRequestHeader("X-Zen-Comments-Clid",a),t.setRequestHeader("X-Zen-Comments-Place",o),t.setRequestHeader("X-Zen-Comments-Experiments",r),t.setRequestHeader("X-Zen-Comments-Token",s),t.withCredentials=!0,l&&t.setRequestHeader("Authorization",`OAuth ${l}`)}const n=s(t,m,o,g);return t.send(),n.catch(e=>{if(a)return l(e,i,_--);throw e})}const{csrf:a=!0,json:o=!0,blob:r=!1,noCache:u=!1,timeout:m=y,rid:h,commentsRequestHeaders:f}=t,g=await d((0,p.passUrlParams)(e)),b=n(g);if(b)return b;let _=v;return i()}function o(e,t){return`Load data status: ${e}; Path: ${t};`}function r(e){var t,i;let n;try{n="string"==typeof e?JSON.parse(e):e}catch(e){}return Array.isArray(null===(t=n)||void 0===t?void 0:t.errors)&&(null===(i=n)||void 0===i?void 0:i.errors.some(({type:e})=>"invalid-csrf-token-error"===e))}function s(e,t,i,n,a){let s=n.trim();return s.length>200&&(s=`${s.slice(0,197)}...`),new Promise((n,a)=>{let l=!1;t&&(e.timeout=t,window.setTimeout(()=>l=!0,t));let c=!1;const d=e.abort;e.abort=function(){c=!0,d.call(e)},e.ontimeout=(()=>{const t=o(e.status.toString(),s);a({message:t,errorType:"timeout",status:e.status})}),e.onerror=(e=>{e.errorType="other",a(e)}),e.onreadystatechange=(()=>{if(4!==e.readyState)return;const t="blob"===e.responseType?"0":e.responseText;if(2===Math.floor(e.status/100)){let l=t;if(i&&l&&"string"==typeof l)try{l=JSON.parse(l)}catch(e){}r(l)&&a({message:o(e.status.toString(),s),errorType:"csrf",status:e.status,statusText:e.statusText,responseText:t}),l instanceof Object&&l.hasOwnProperty("_telemetry")&&(S.telemetry||(S.telemetry=[]),l._telemetry,function(e){try{e&&e.statlog&&e.statlog.forEach(e=>{e.event,JSON.stringify(e,null,2)})}catch(e){}}(l._telemetry),S.telemetry.push(l._telemetry)),n("blob"===e.responseType?e.response:l)}else{const i=o(e.status.toString(),s);let n;c?n="abort":l?n="timeout":0!==e.status||window.navigator&&"onLine"in window.navigator&&window.navigator.onLine?(n="server",t&&"string"==typeof t&&(r(t)||"blob"===e.responseType)&&(n="csrf")):n="offline",a({message:i,errorType:n,status:e.status,statusText:e.statusText,responseText:t})}})}).then(e=>(a||function(t){const i=e?e.errors:void 0;if(i&&i.length>0){i.forEach(e=>{});const e=i.map(e=>e.message).join("; ");throw new E(e,i[0].type||"")}}(),e))}function l(e,t,i){if(e&&("csrf"===e.errorType||"offline"===e.errorType)&&i>0)return I().then(t).catch(()=>t());throw e}async function c(e,t){const i=(0,m.getToken)();i&&!(0,p.isExternalURL)(t.trim())&&(t=>e.setRequestHeader("Authorization",`Bearer ${t}`))(i)}async function d(e){return(0,f.getZenKitApi)(),e}var u=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.loadData=a,t.createCachedDataLoader=function(e=30){let t,i,n;return(o,r,s=!1)=>t&&i===o&&!s?t.then(e=>({data:e,fromCache:!0})):(n&&clearTimeout(n),i=o,t=a(o,r).catch(e=>(t=void 0,Promise.reject(e))),n=setTimeout(()=>{t=void 0,i=void 0,n=void 0},1e3*e),t.then(e=>({data:e,fromCache:!1})))},t.postData=async function(e,t,i={}){async function a(){let e=await T();const n=new XMLHttpRequest,{rid:o}=i;n.open("POST",r,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Cache-Control","no-cache"),await c(n,r),o&&n.setRequestHeader("zen-request-id",o),e||(await I(),e=await T()),e&&n.setRequestHeader("X-Csrf-Token",e),""!==location.host&&(0,p.isExternalURL)(r)&&(n.withCredentials=!0);const d=s(n,y,!0,r);return n.send(JSON.stringify(t)),d.catch(e=>l(e,a,u--))}const o=n(e);if(o)return o;const r=await d((0,p.passUrlParams)(e));let u=v;return a()},t.deleteData=async function(e){async function t(){const e=await T(),a=new XMLHttpRequest;a.open("DELETE",i,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Accept","application/json"),await c(a,i),e&&a.setRequestHeader("X-Csrf-Token",e);const o=s(a,y,!0,i);return a.send(),o.catch(e=>l(e,t,n--))}const i=await d((0,p.passUrlParams)(e));let n=v;return t()},t.postFormData=async function(e,t,i,n){async function a(){r=new XMLHttpRequest;const e=new FormData;r.open("POST",o,!0),await c(r,o);let d=await T();d||(await I(),d=await T()),d&&r.setRequestHeader("X-Csrf-Token",d),""!==location.host&&(0,p.isExternalURL)(o)&&(r.withCredentials=!0);const m=s(r,!1,!0,o,n);return Object.keys(t).forEach(i=>{Array.isArray(t[i])?t[i].forEach(t=>e.append(i,t)):("boolean"==typeof t[i]||t[i])&&e.append(i,t[i])}),r.upload&&i&&r.upload.addEventListener("progress",e=>{const t=e.loaded/e.total;i&&i(t)},!1),r.send(e),m.catch(e=>l(e,a,u--))}const o=await d((0,p.passUrlParams)(e));let r,u=v;return{promise:a(),abort:()=>r&&r.abort()}},t.setZenKitPathDomain=d,t.ApiError=void 0;var p=i(7),m=i(114),h=u(i(10)),f=i(67),g=i(22),b=i(19);const _={mock_api_1:"/media-api/publication-view-stat",mock_api_2:"/api/v3/launcher/similar-publisher",mock_api_3:"/editor-api/v2/get-user-karma",mock_api_4:"/media-api/publisher-publications-rich-stat",mock_api_5:"/media-api/publication/flights/forecast-views-shows/",mock_api_6:"/api/v3/launcher/narrative",mock_api_7:"/media-api/list-notifications",mock_api_8:"/editor-api/v2/abcover-stats",mock_api_9:"/add-phone",mock_api_10:"/editor-api/v2/flights/campaigns/statistics",mock_api_11:"/media-api/campaign-pubs-popup",mock_api_12:"/editor-api/v2/flights/campaigns/stop",mock_api_13:"/editor-api/v2/flights/campaigns/publication/remove",mock_api_14:"/editor-api/v2/flights/agency/client-statistics",mock_api_15:"/api/v3/launcher/similar-by-interest",mock_api_17:"/editor-api/v2/flights/agency/get-clients-list",mock_api_18:"/editor-api/v2/publisher/wallet/balance",mock_api_19:"/editor-api/v2/tags/suggest/by-draft",mock_api_20:"/editor-api/v2/tags/suggest/autocompletion",mock_api_21:"monthly-audience",mock_api_22:"monthly-subscribers",mock_api_23:"/editor-api/v2/flights/campaigns/statistics",mock_api_24:"/editor-api/v2/flights/campaigns/list",mock_api_25:"/publication-stats",mock_api_26:"/flights/campaigns/limits",mock_api_27:"/ecom-stats",mock_api_28:"/verify-phone",mock_api_29:"get-video-stats-total",mock_api_30:"get-video-stats",mock_api_31:"/call-2-action/market",mock_api_32:"/call-2-action/publication/",mock_api_33:"/flights/campaigns/forecast/full-read-v2",mock_api_34:"/editor-api/v2/link-preview",mock_api_35:"/editor-api/v2/flights/campaigns/charts"},v=3,y=2e4,S="undefined"==typeof window?void 0:window,{requestCsrfToken:I,getCsrfToken:T}=(()=>{function e(){return i?t:(i=!0,t=t.then(()=>a(g.PATHS.GET_CSRF_TOKEN,{csrf:!1,noCache:!0})).then(({result:e})=>(i=!1,e)).catch(e=>{throw e.errorType&&e.errorType,i=!1,t=Promise.resolve(null),e}))}let t=Promise.resolve(null),i=!1;return h.default&&h.default.csrfToken?t=Promise.resolve(h.default.csrfToken):(t=Promise.resolve(null),e()),{requestCsrfToken:e,getCsrfToken:()=>t}})(),P={timeout:y,csrf:!0,json:!0,noCache:!1};class E extends Error{constructor(e,t){super(e),this.type=t}}t.ApiError=E},,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YANDEX_ZEN_SUPPORT_PREFIX=t.ZEN_YANDEX_METRIKA_PROBLEMS_HELP=t.YANDEX_METRIKA_URL=t.NATIVEAD_LANDING_URL=t.PREFIX_ROOT=t.PREFIX_EDITOR_ROOT=t.ZENKIT_PROTOCOL=t.LAUNCHER_V3_API=t.EDITOR_API_V2=t.COMMENTS_API=t.MEDIA_API=t.MEDIA_API_VIDEO=void 0,t.MEDIA_API_VIDEO="media-api-video",t.MEDIA_API="media-api",t.COMMENTS_API="api/comments",t.EDITOR_API_V2="editor-api/v2",t.LAUNCHER_V3_API="/api/v3/launcher",t.ZENKIT_PROTOCOL="zenkit://",t.PREFIX_EDITOR_ROOT="profile/editor",t.PREFIX_ROOT="media",t.NATIVEAD_LANDING_URL="/adv",t.YANDEX_METRIKA_URL="https://metrika.yandex.ru",t.ZEN_YANDEX_METRIKA_PROBLEMS_HELP="https://yandex.ru/support/zen-commercial/statistics/statistics-analysis.html#stat-diff_counters",t.YANDEX_ZEN_SUPPORT_PREFIX="https://yandex.ru/support/zen"},function(e,t,i){"use strict";function n(e){return`0${e}`.slice(-2)}function a(){return new Promise(e=>{requestAnimationFrame(e)})}function o(e,{isOptionalYear:t=!0}={}){const i=new Date(e),n=C[i.getMonth()],a=i.getDate();return i.getFullYear()===(new Date).getFullYear()&&t?`${a} ${n}`:`${a} ${n} ${i.getFullYear()}`}function r(e){return E[e.getMonth()]}var s=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.padTwoZeros=n,t.toHumanDate=function(e,t){const i=new Date(e),n=t?new Date(t):new Date,a=Math.abs((0,d.default)(n,i)),o=(0,c.default)(new Date(n.toDateString()),new Date(i.toDateString()));return(0,l.default)(i,n)?(0,_.lang)('a632e5de'):1===o?(0,_.lang)('78733ea7'):2===o?(0,y.addNoBreakingSpaces)((0,_.lang)('1e39105d')):3===o?(0,y.addNoBreakingSpaces)((0,_.lang)('0a94b888')):0===a?`${i.getDate()}${A}${C[i.getMonth()]}`:`${i.getDate()}${A}${C[i.getMonth()]}${A}${i.getFullYear()}`},t.toHumanDateInterval=function(e,t){const i=new Date(e),n=i.getDate(),a=i.getMonth(),o=`${n}${A}${C[a]}`,r=i.getFullYear();if(!t)return`${o}${A}${r}`;const s=new Date(t),l=s.getDate(),c=s.getMonth(),d=s.getFullYear(),u=`${l}${A}${C[c]}${A}${d}`;return r===d?`${o} — ${u}`:`${`${o}${A}${r}`} — ${u}`},t.raf=a,t.wait=function(e){return new Promise(t=>{setTimeout(t,e)})},t.throttleRaf=function(e){let t=!1;return()=>{t||(t=!0,a().then(()=>{e(),t=!1}))}},t.toPassedTheTime=function(e){return e?e<60?`${10*(Math.floor(e/10)||1)} ${(0,_.lang)('7db412ad')}.`:`${Math.floor(e/60)}${e%60>=30?",5":""} ${(0,v.formatMessage)('89ecfbc9')}.`:`0 ${(0,_.lang)('7db412ad')}.`},t.toShortDate=function(e,t){const i=new Date(e),a=P[i.getMonth()],o=n(i.getDate()),r=i.getFullYear();return t?`${o} ${a} ${r}`:`${o} ${a}`},t.toShortDateInterval=function(e,t){const i=new Date(e),a=n(i.getDate()),o=i.getMonth();if(!t)return`${a}${A}${P[o]}`;const r=new Date(t),s=n(r.getDate()),l=r.getMonth();if(a===s&&o===l)return`${a}${A}${P[o]}`;const c=`${s}${A}${P[l]}`;return o===l?`${a} — ${c}`:`${`${a}${A}${P[o]}`} — ${c}`},t.toSimpleDate=o,t.toMonthName=r,t.weekDaysFromMonday=function(){const[e,...t]=I;return[...t,e]},t.toMonth=function(e){return r(new Date(e))},t.toISO8601Duration=t.toShortMonth=t.toFullSimpleDate=t.isDateTimeInRange=t.toSpelledMonth=t.toDateRange=t.isRangeOneDay=t.toISOTime=t.toISODate=t.toHumanTime=t.formatDistanceStrict=t.formatDistanceToNow=t.format=t.toMsFromDays=t.toMsFromHours=t.toMs=t.MORNING=t.months=t.monthNames=t.shortMonths=t.days=void 0,i(241);var l=s(i(111)),c=s(i(252)),d=s(i(242)),u=s(i(235)),p=s(i(251)),m=s(i(243)),h=s(i(249)),f=s(i(57)),g=s(i(250)),b=s(i(10)),_=i(8),v=i(99),y=i(83);const S=/,\s*/gi,I=(0,_.lang)('bce5213c').split(S);t.days=I;const T=(0,_.lang)('386c0e4d').split(S),P=(0,_.lang)('928edc82').split(S);t.shortMonths=P;const E=(0,_.lang)('4f323975').split(S);t.monthNames=E;const C=(0,_.lang)('daf32e37').split(S);t.months=C;const A=" ";t.MORNING={hours:9,minutes:0,seconds:0,milliseconds:0};const k={ru:h.default,en:f.default,vi:g.default}[b.default.language]||h.default,O=e=>1e3*e;t.toMs=O;const L=e=>O(3600*e);t.toMsFromHours=L;const w=e=>L(24*e);t.toMsFromDays=w;const D=(e,t,i={})=>(0,u.default)(e,t,{...i,locale:k});t.format=D,t.formatDistanceToNow=((e,t={})=>(0,p.default)(e,{...t,locale:k})),t.formatDistanceStrict=((e,t)=>{const i=new Date;return(0,m.default)(e,i,{...t,locale:k})}),t.toHumanTime=(e=>D(new Date(e),"HH:mm")),t.toISODate=(e=>D(new Date(e),"yyyy-MM-dd")),t.toISOTime=(e=>new Date(e).toISOString().split(".")[0]);const R=(e,t)=>e>=t-w(1);t.isRangeOneDay=R,t.toDateRange=((e,t,i=!1)=>{const n=new Date(e);if(R(e,t)){let e=`${n.getDate()} ${P[n.getMonth()]} ${n.getFullYear()}`;return e+=i?`, ${T[n.getDay()]}`:` ${I[n.getDay()]}`}const a=new Date(t-w(1));let o=`— ${a.getDate()} ${P[a.getMonth()]} ${a.getFullYear()}`;return a.getFullYear()!==n.getFullYear()?o=`${P[n.getMonth()]} ${n.getFullYear()} ${o}`:a.getMonth()!==n.getMonth()&&(o=`${P[n.getMonth()]} ${o}`),`${n.getDate()} ${o}`}),t.toSpelledMonth=(e=>`${e.getDate()} ${P[e.getMonth()]}`),t.isDateTimeInRange=((e,t,i)=>{if(e&&t&&i){const n=new Date(e).getTime(),a=new Date(t).getTime(),o=new Date(i).getTime();return o<n?"earlier":o>a?"later":"inRange"}return"validationError"}),t.toFullSimpleDate=(e=>o(e,{isOptionalYear:!1})),t.toShortMonth=(e=>D(new Date(e),"LLL yyyy")),t.toISO8601Duration=(e=>{const t=Math.floor(e),i=Math.floor(t/3600),n=t-3600*i,a=Math.floor(n/60),o=n%60;return`T${i?`${i}H`:""}${a?`${a||0}M`:""}${o||!a&&!i?`${o||0}S`:""}`})},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PATHS=t.MARKET_SCRIPT_DEFAULT_URL=t.PLAYER_IFRAME_URL=t.CAMPAIGNS_BILLING_DOCUMENTS_LINK=t.LETTERS_HOST=void 0;var n=i(19);t.LETTERS_HOST="https://yastatic.net/zen-logos/files/domain-letters/",t.CAMPAIGNS_BILLING_DOCUMENTS_LINK="https://balance.yandex.ru/invoices.xml?ref_service_id=561",t.PLAYER_IFRAME_URL="https://yastatic.net/yandex-video-player-iframe-api/index.html",t.MARKET_SCRIPT_DEFAULT_URL="https://aflt.market.yandex.ru/widget/script/api";const a={ZEN:"/",SUBSCRIPTIONS:"/subscriptions",TOP:"/top",INDEX:`/${n.PREFIX_ROOT}`,LOGIN_PAGE:`/${n.PREFIX_ROOT}/zen/login`,CHECK_AD_CONTENT:`/${n.MEDIA_API}/check-ad-content`,PUBLISHER:{PUBLICATIONS:`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId`,PUBLICATIONS_ALIAS:`/${n.PREFIX_EDITOR_ROOT}/:publisherName`,STATS:`/${n.PREFIX_ROOT}/id/:publisherId/stats`,MONEY:{INDEX:`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money`,SELECT_TYPE:`/${n.EDITOR_API_V2}/id/:publisherId/money/select-type`,SIMPLE:`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple`,SIMPLE_SELF_EMPLOYED:`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple-self-employed`,SIMPLE_OFFER:`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple/offer`,CUSTOM:`/${n.EDITOR_API_V2}/id/:publisherId/money/custom`},SELF_EMPLOYED:{TRANSITIONAL_INFORMATION:`/${n.EDITOR_API_V2}/money/self-employed/transitional-information`,ACCEPT:`/${n.EDITOR_API_V2}/money/self-employed/accept`,CHECK_WALLET:`/${n.EDITOR_API_V2}/money/self-employed/check-wallet`,CHANGE_WALLET:`/${n.EDITOR_API_V2}/money/self-employed/change-wallet`,CHECK_PERMISSIONS:`/${n.EDITOR_API_V2}/money/self-employed/check-permissions`,SEND_PERMISSIONS:`/${n.EDITOR_API_V2}/money/self-employed/send-permissions`,APPLY_FOR_CANCEL_BILL:`/${n.EDITOR_API_V2}/money/self-employed/cancel-bill`,APPLY_FOR_RECOVER_BILL:`/${n.EDITOR_API_V2}/money/self-employed/recover-bill`},PUBLICATION:`/${n.PREFIX_ROOT}/id/:publisherId/:publicationId`,PUBLICATION_ALIAS:`/${n.PREFIX_ROOT}/:publisherName/:publicationId`,PUBLICATION_EDIT:`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/:publicationId/edit`},VALIDATION:{NICKNAME:`/${n.EDITOR_API_V2}/validate-publisher-nickname`,SOCIAL_LINK:`/${n.EDITOR_API_V2}/validate-social-link`},EXTERNAL_STAT:`/${n.PREFIX_ROOT}/publisher/stat`,NARRATIVES:"/narrative",LIST_NOTIFICATIONS:`/${n.EDITOR_API_V2}/list-notifications`,LIST_POPUP_NOTIFICATIONS:`/${n.EDITOR_API_V2}/list-pop-ups`,SET_POPUPS_STATE:`/${n.EDITOR_API_V2}/set-pop-ups-state`,NOTIFICATION_EVENT:`/${n.EDITOR_API_V2}/log-notification-events`,LOAD_KARMA:`/${n.EDITOR_API_V2}/get-user-karma`,GET_PUBLICATION:`/${n.EDITOR_API_V2}/get-publication`,GET_PUBLICATION_RENDER_DATA:`/${n.MEDIA_API}/publisher/:publisherId/publications/:publicationId/render-data`,GET_PUBLICATION_DATA:`/${n.EDITOR_API_V2}/get-publication-data`,GET_CSRF_TOKEN:`/${n.MEDIA_API}/csrf-token`,SUPPORT:{NARRATIVE:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/publishers/narrative-efficiency.html`,ARTICLE:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/publishers/authors.html`,KARMA:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/publishers/karma.html`,ADULT_CONTENT:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/requirements/adult-content.html`,MONEY:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/monetization/conditions.html`,TAGS:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/channel/tags.html`,SELF_EMPLOYED_RECEIPT:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/monetization/self-employed.html#receipt-operations`,CONTENT_RULES:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/requirements/rules.html`,ARTICLE_EDITOR:`${n.YANDEX_ZEN_SUPPORT_PREFIX}/channel/article.html#draft-creation`,TEST_PUBLICATONS_HELP:"https://yandex.ru/support/zen-commercial/advertising/testing.html",OFFICIAL_COMPLAIN_URL:"https://yandex.ru/support/abuse/troubleshooting/zen/list.html"},API_PREFIX:`/${n.MEDIA_API}`,NIRVANA_LANDING:"/media/#nirvana/",BAN_PUBLICATION:`/${n.MEDIA_API}/publications/ban/`,SET_PUBLICATION_FLAG:`/${n.MEDIA_API}/publications/set-flag/`,GET_USER:`/${n.EDITOR_API_V2}/user`,GET_PUBLISHER:`/${n.EDITOR_API_V2}/publisher/:publisherId`,NEW_PUBLISHER:`/${n.EDITOR_API_V2}/publisher/new`,GET_PUBLICATION_DRAFT:`/${n.EDITOR_API_V2}/publisher/:publisherId/publication/:publicationId`,GET_TAGS_PUBLICATION_SETTING:`/${n.EDITOR_API_V2}/tags/suggest/by-draft`,GET_CONFIG:`/${n.EDITOR_API_V2}/publisher/:publisherId/config`,GET_KARMA_URL:`/${n.EDITOR_API_V2}/publisher/:publisherId/karma`,GET_TAGS_AUTOCOMPLETE:`/${n.EDITOR_API_V2}/tags/suggest/autocompletion`,GET_MONEY_URL:`/${n.EDITOR_API_V2}/publisher/:publisherId/money`,ADD_POST_URL:"/profile/editor/id/:publisherId/add-post",RESET_MONETIZATION_MODEL_URL:`/${n.EDITOR_API_V2}/money/reset-type`,GET_PUBLICATIONS_COUNT_URL:`/${n.EDITOR_API_V2}/publisher/:publisherId/publications-count`,GET_PUBLICATIONS_URL:`/${n.EDITOR_API_V2}/publisher/:publisherId/publications`,DELETE_PUBLICATION_URL:`/${n.EDITOR_API_V2}/publisher/:publisherId/publications/:publicationId`,OPEN_PUBLICATION_URL:"/media/id/:publisherId/:publicationId",OPEN_PUBLICATION_BY_NICKNAME_URL:"/media/:publisherNickname/:publicationId",MOBILE:{ARTICLE_EDIT:`${n.ZENKIT_PROTOCOL}edit?type=article&publication_id=:publicationId`,POST_EDIT:`${n.ZENKIT_PROTOCOL}edit?type=post&editor_url=:editUrl`},USER_PROFILE:"/user",LOAD_PROFILE_SIDEBAR_URL:`/${n.EDITOR_API_V2}/publisher/:publisherId/side-block`,ALL_CHANNELS:`/${n.PREFIX_ROOT}/zen/channels`,SUGGESTED:{PUBLISHER_PUBLICATIONS:`${n.LAUNCHER_V3_API}/similar-publisher`,INTEREST_PUBLICATIONS:`${n.LAUNCHER_V3_API}/similar-by-interest`},STRIKES:{GET_STRIKES:`/${n.EDITOR_API_V2}/v2/get-strikes`,MARK_STRIKES_AS_VIEWED:`/${n.EDITOR_API_V2}/v2/mark-strike-as-viewed`,SEND_ADV_STRIKE_TO_CHECK:`/${n.EDITOR_API_V2}/send-adv-strike-to-check`},UPDATE_PUBLISHER:`/${n.EDITOR_API_V2}/update-publisher`,SHARE:{FB:"https://www.facebook.com/sharer/sharer.php",TW:"https://twitter.com/share",VK:"https://vk.com/share.php",OK:"https://connect.ok.ru/offer",WA:"https://api.whatsapp.com/send",TG:"https://telegram.me/share/url",VB:"viber://forward"},NALOG:{CABINET:"https://lknpd.nalog.ru/auth/login/",APP:"https://npd.nalog.ru/app/",FAQ:"https://npd.nalog.ru/faq/"},VIDEO:{UPLOAD_START:`/${n.MEDIA_API_VIDEO}/multipart-upload-start`,UPLOAD_CHUNK:`/${n.MEDIA_API_VIDEO}/multipart-upload-chunk`,UPLOAD_FINISH:`/${n.MEDIA_API_VIDEO}/multipart-upload-finish`},LOAD_SUBSCRIBE_STATUS_URL:`/${n.MEDIA_API}/check-subscription-status`,CAPTCHA_GENERATE:`/${n.EDITOR_API_V2}/captcha/generate`,EXTERNAL:{ROSPOTREBNADZOR:"https://www.rospotrebnadzor.ru/"},SOCIAL:{TOP_COMMENTS:`/${n.COMMENTS_API}/top-comments`,COMMENTS_WITH_SELECTED:`/${n.COMMENTS_API}/comments/:commentId`},VALIDATE_METRIKA_ID:`/${n.EDITOR_API_V2}/validate-publisher-metrika-id`,UPDATE_STAT_PIXELS:`/${n.EDITOR_API_V2}/update-publication-pixels`,CAMPAIGNS_STATS_REPORT:`/${n.EDITOR_API_V2}/flights/campaigns/statistics-xls`,ZENEXPERTS:"https://zen.yandex.ru/zenexperts",SUPPORT_NATIVE_ADS:"https://yandex.ru/support/zen/channel/native-ads.html",ADV_FROM_PUB_LABEL:"https://zen.yandex.ru/adv?utm_source=publabel"};t.PATHS=a},function(e,t,i){"use strict";function n(e,t=T){return t[e]}function a(e,t){const i=n(e.id,t);if(!i)return e.id,"transparent";const{meta:a}=i;return a?a.mainColor:(e.id,"transparent")}function o(e,t,i=v.default){return e.base64?`data:image/jpeg;base64,${e.base64}`:`https://${i.avatarsHost}/get-${e.namespace}/${e.groupId}/${e.imageName}/${t}`}function r(e,t="orig",i,a=v.default){const r=n(e.id,i);return r?o(r,t,a):(e.id,(0,I.getAvatarUrlByName)(void 0))}function s(e,t,i,n){return e?r(e,"min_xh",i,n?{avatarsHost:n}:void 0):(0,I.getAvatarUrlByName)(t)}function l(e,t=!1){return new Promise((i,n)=>{const a=new FileReader;a.onload=(()=>{const e=new Uint8Array(a.result),t=71===e[0]&&73===e[1]&&70===e[2]&&56===e[3];i({isGif:t,view:e})}),a.onerror=n,a.readAsArrayBuffer(t?e:e.slice(0,4))})}function c(e){return new Promise((t,i)=>{const n=new FileReader;n.onload=(()=>{if(!n.result)return;const e=n.result,i=new DataView(e);let a=0,o=1;if(e.byteLength<2||65496!==i.getUint16(a))return t(0);let r=i.byteLength;for(;a<r-2;){const e=i.getUint16(a);switch(a+=2,e){case 65505:r=i.getUint16(a)-a,a+=2;break;case 274:o=i.getUint16(a+6,!1),r=0}}t(C.get(o)||0)}),n.onerror=i,n.readAsArrayBuffer(e)})}function d({normal:e,retina:t}){return(!y.isSSR&&window.devicePixelRatio||2)>=2?t:e}async function u(e){const t=await p(e,URL.createObjectURL(e));return{URL:URL.createObjectURL(t),file:t}}function p(e,t){return"image/gif"===e.type?Promise.resolve(e):new Promise(i=>{const n=new Image;n.onload=(async()=>{const t=await c(e);let a;try{a=t>0?await m(n,-t,e.type,!0):await function(e,t,i=E){const n=document.createElement("canvas");return new Promise((a,o)=>{if(e.width<=i)return void o(k.small);const r=i,s=Math.floor(i/e.width*e.height);n.width=r,n.height=s;const l=n.getContext("2d");l?(l.imageSmoothingEnabled=!1,l.drawImage(e,0,0,r,s),n.toBlob(e=>{e?a(e):o(k.toBlob)},t)):o(k.context)})}(n,e.type)}catch(e){switch(e){case k.small:case k.toBlob:case k.context:}}i(a||e)}),n.onerror=(t=>(i(e),!0)),n.src=t})}function m(e,t,i,n=!1,a=E){const o=document.createElement("canvas"),r=t/90%2!=0;let s,l;const c=e.naturalHeight||e.height,d=e.naturalWidth||e.width;n?d<=a?(s=d,l=c):(s=a,l=Math.floor(a/d*c)):(s=d,l=c);const u=Math.max(s,l);o.width=u,o.height=u;const p=o.getContext("2d");if(!p)return Promise.reject(k.context);p.imageSmoothingEnabled=!1,p.translate(u/2,u/2),p.rotate(t*Math.PI/180);try{p.drawImage(e,-s/2,-l/2,s,l)}catch(e){return Promise.reject(e)}const m=document.createElement("canvas");m.width=r?l:s,m.height=r?s:l;const h=(u-m.width)/2,f=(u-m.height)/2,g=m.width,b=m.height,_=m.width,v=m.height,y=m.getContext("2d");return y?(y.imageSmoothingEnabled=!1,y.drawImage(o,h,f,g,b,0,0,_,v),new Promise((e,t)=>{try{m.toBlob(i=>{i?e(i):t(k.toBlob)},i)}catch(e){t(e)}})):Promise.reject(k.context)}function h(e,t="image/png"){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif"}[e.toLowerCase()]||t}function f(e,t,i=L){return{preview:r(e,i,t),blur:r(e,w,t),color:a(e,t)}}var g=i(3),b=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.addImageDataToDict=function(e){return T={...T,[e.id]:e},e},t.addImagesToDict=function(e){T={...T,...e}},t.getImageData=n,t.getAvatarsColor=a,t.formatAvatarsUrl=o,t.getAvatarsUrl=r,t.getImageMainColorByID=function(e){const t=n(e);return t&&t.meta&&t.meta.mainColor||""},t.getAvatarLogoUrl=s,t.getAvatarStyle=function(e,t,i,n){return{backgroundImage:`url('${s(e,t,i,n)}')`,backgroundColor:e?a(e,i):"#000"}},t.getFirstFrame=function(e){return Promise.race([new Promise(t=>{const i=document.createElement("canvas"),n=i.getContext("2d"),a=URL.createObjectURL(e),o=new Image;o.onload=(()=>{i.width=o.naturalWidth,i.height=o.naturalHeight,n.drawImage(o,0,0),i.toBlob(e=>{t(e),URL.revokeObjectURL(a)},"image/jpeg")}),o.src=a}),(0,S.rejectIn)(P,"Can't get first image frame")])},t.getImageMetaData=function(e){return Promise.race([new Promise(t=>{const i=URL.createObjectURL(e),n=new Image;n.onload=(()=>{t({width:n.naturalWidth,height:n.naturalHeight}),URL.revokeObjectURL(i)}),n.src=i}),(0,S.rejectIn)(P,"Can't get first image frame")])},t.checkGif=l,t.checkGifAnimated=function(e){return l(e,!0).then(({isGif:e,view:t})=>{if(!e)return{isGif:e,isAnimatedGif:!1};let i=0;for(let e=0,n=t.byteLength-9;e<n&&i<2;e++)0!==t[e]||33!==t[e+1]||249!==t[e+2]||4!==t[e+3]||0!==t[e+8]||44!==t[e+9]&&33!==t[e+9]||i++;return{isGif:e,isAnimatedGif:i>1}}).catch(()=>({isGif:!1,isAnimatedGif:!1}))},t.checkOrientation=c,t.getImageByPixelRatio=d,t.getS2SBackgroundImageByPixelRatio=function(e){return e?d({normal:e.srcX1,retina:e.srcX2}):""},t.getImageWithMaxWidth=function(e,t){const i=e.map(e=>n(e.id,t));return i.reduce((e,t)=>e.sizes.orig.width>t.sizes.orig.width?e:t,i[0])},t.getImageScaledWithMaxHeight=function(e,t=T){const i=e.map(e=>n(e.id,t));let a=0,o=i[0];return i.forEach(e=>{const{orig:t}=e.sizes,{width:i,height:n}=t;let r;r=i>n?i/Math.min(window.innerWidth,600):n/700;const s=n/Math.max(1,r);s>a&&(o=e,a=s)}),o},t.getUrlsFromImageFiles=function(e){return e.map(e=>e.URL)},t.getPreparedImages=async function(e){return await Promise.all(e.map(e=>u(e)))},t.getPreparedImage=u,t.prepareImageForUploading=p,t.rotateImage=m,t.getImageMimeType=function(e){const t=e.match(/.+\.(\w{3,4})$/);if(!t)return new Promise(t=>{const i=new XMLHttpRequest;i.open("HEAD",e),i.onreadystatechange=(()=>{const e=i.getResponseHeader("Content-Type");200===i.status&&e?t(e):t("image/png")}),i.onerror=(e=>{t("image/png")}),i.send()});{const e=h(t[1]);if(e)return Promise.resolve(e)}return Promise.resolve("image/png")},t.imageFormatToMimeType=h,t.isImageOK=function(e){return!!e.complete&&(void 0===e.naturalWidth||0!==e.naturalWidth)},t.isBlobURL=function(e){return/^blob:*/i.test(e)},t.getImageIdByUrl=function(e){const t=e.match(/\*?pub_\w*?_(\w*)\/*/);if(t&&t[1])return t[1]},t.toCardCoverPreview=f,t.imageDictToCoverPicker=function(e){return Object.keys(e).reduce((t,i)=>(t[i]={src:f(e[i],e).preview},t),{})},t.getFreezeURL=function(e){return new Promise(t=>{const i=new Image;i.onload=(()=>{const n=document.createElement("canvas");n.width=i.width,n.height=i.height;const a=n.getContext("2d");a?(a.drawImage(i,0,0,i.width,i.height),n.toBlob(e=>t(URL.createObjectURL(e)),"image/jpeg")):t(e)}),i.onerror=(()=>t(e)),i.crossOrigin="anonymous",i.src=e})},t.srcSetToSourcesList=t.getAllImageSources=t.canvasToImage=t.blobToUrl=t.findClosestBy=t.onImageReady=t.getLogoStyle=void 0;var _=b(i(0)),v=b(i(39)),y=g(i(10)),S=i(89),I=i(7);let T={};const P=2e3,E=2400;t.getLogoStyle=((e,t)=>{if(!e)return{};const i=t||e.logo,{name:n}=e;if(i){const i=t||(e.logo?r(e.logo,"min_xh"):(0,I.getAvatarUrlByName)(n));return i?{backgroundImage:`url('${i}')`,backgroundColor:"transparent"}:{}}return{backgroundImage:`url('${(0,I.getAvatarUrlByName)(n)}')`}});const C=new Map([[1,0],[3,180],[6,270],[8,90]]);t.onImageReady=(e=>new Promise((t,i)=>{const n=document.createElement("img"),a=()=>{t(),n.removeEventListener("load",a),n.removeEventListener("error",o)},o=()=>{i(),n.removeEventListener("load",a),n.removeEventListener("error",o)};n.addEventListener("load",a),n.addEventListener("error",o),n.src=e}));const A=["scale_360","scale_540","scale_600","scale_720","scale_1200","scale_2400"];t.findClosestBy=((e,t,i)=>{let n=0,a=null;for(;n<A.length&&a;){const o=i.sizes[A[n]];o&&o[e]>t&&(a=A[n]),n++}return a||"scale_2400"}),function(){const{images:e}=y.default.data||{};e&&(T={...T,...e}),T={...T}}();var k;!function(e){e.small="small",e.toBlob="toBlob",e.context="context"}(k||(k={})),t.blobToUrl=(e=>!y.isSSR&&window.URL.createObjectURL(e)||""),t.canvasToImage=((e,t={})=>_.default.createElement("img",{...t,src:e.toDataURL()})),t.getAllImageSources=(e=>{const{src:t="",srcset:i=""}=e,n=O(i);return[...new Set([...n,t])].filter(e=>Boolean(e))});const O=e=>e?e.split(",").map(e=>e.replace(/\dx/,"").trim()):[];t.srcSetToSourcesList=O;const L="smart_crop_516x290",w="smart_crop_32x18"},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DraftStatus=t.PublicationCallToActionType=t.CallToActionAppearanceMode=t.ShortArticleDefaultBottomBubbleComponent=t.CallToActionHideTrigger=t.PublicationModerationStatuses=t.PublicationStatus=t.PublicationContentType=void 0;let n;t.PublicationContentType=n,function(e){e.article="article",e.narrative="narrative",e.video="gif",e.post="post",e.gallery="gallery"}(n||(t.PublicationContentType=n={}));let a;t.PublicationStatus=a,function(e){e.draft="draft",e.processing="processing",e.banned="banned",e.published="published",e.readyForPublication="ready-for-publication",e.awaitingModeration="awaiting-moderation",e.rip="rip"}(a||(t.PublicationStatus=a={}));let o;t.PublicationModerationStatuses=o,function(e){e.ok="ok",e.blocked="blocked"}(o||(t.PublicationModerationStatuses=o={}));let r;t.CallToActionHideTrigger=r,function(e){e.ad="ad",e.comments="comments"}(r||(t.CallToActionHideTrigger=r={}));let s;t.ShortArticleDefaultBottomBubbleComponent=s,function(e){e.app="app",e.subscribe="subscribe"}(s||(t.ShortArticleDefaultBottomBubbleComponent=s={}));let l;t.CallToActionAppearanceMode=l,function(e){e.standard="standard",e.onceSticky="once-sticky"}(l||(t.CallToActionAppearanceMode=l={}));let c;t.PublicationCallToActionType=c,function(e){e.link="link",e.subscribe="subscribe"}(c||(t.PublicationCallToActionType=c={}));let d;t.DraftStatus=d,function(e){e.noChanges="no-changes",e.hasUnpublishedChanges="has-unpublished-changes"}(d||(t.DraftStatus=d={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProfilePublisherId=function(e){const{profile:{publisher:t}}=e;return t&&t.id},t.isOwner=void 0;const n=(0,i(167).createSelector)(({profile:e})=>e,({publisher:e,user:t})=>{const i=null===e||void 0===e?void 0:e.id,n=null===t||void 0===t?void 0:t.publisherId;return Boolean(i||n)&&i===n});t.isOwner=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceType=t.ArticleItemType=t.PageUnion=t.EditorStatus=t.ConnectionStatus=t.NetworkShareIntegration=t.ShareType=t.FlightStatus=t.FlightType=t.MobileNotificationMode=t.MobileNotificationType=t.SocialProvider=t.ErrorType=t.SubscribePlace=t.LikePlace=t.HelpPopupName=t.FlagState=t.EditorPage=void 0;let n;t.EditorPage=n,function(e){e.karma="karma",e.publicationsStat="publications-stat",e.money="money",e.campaigns="campaigns",e.widget="widget",e.edit="edit",e.publications="publications",e.clients="clients",e.c2a="c2a",e.partnerVideo="partner-video"}(n||(t.EditorPage=n={}));let a;t.FlagState=a,function(e){e.on="on",e.off="off",e.unavailable="unavailable"}(a||(t.FlagState=a={}));let o;t.HelpPopupName=o,function(e){e.article="article",e.narrative="narrative",e.statistic="statistic",e.bindingCampaign="bindingCampaign",e.welcomeCampaign="welcomeCampaign",e.c2aEnabled="c2aEnabled",e.c2aProductsEnabled="c2aProductsEnabled",e.productLinksInArticlesFirst="productLinksInArticlesFirst",e.productLinksInArticlesSecond="productLinksInArticlesSecond",e.duplicateButtonHelp="duplicateButtonHelp",e.collectionsBanner="collectionsBanner"}(o||(t.HelpPopupName=o={}));let r;t.LikePlace=r,function(e){e.leftBlock="left-block",e.rightBlock="right-block",e.mobileMenu="mobile-menu",e.bottomBlockMobile="bottom-block-mobile",e.bottomBlockDesktop="bottom-block-desktop",e.other="other"}(r||(t.LikePlace=r={}));let s;t.SubscribePlace=s,function(e){e.top="top",e.bottom="bottom",e.mobileMenu="mobile-menu"}(s||(t.SubscribePlace=s={}));let l;t.ErrorType=l,function(e){e.server="server",e.offline="offline",e.timeout="timeout",e.other="other"}(l||(t.ErrorType=l={}));let c;t.SocialProvider=c,function(e){e.vk="vk",e.fb="fb",e.gg="gg",e.tw="tw"}(c||(t.SocialProvider=c={}));let d;t.MobileNotificationType=d,function(e){e.process="process",e.fail="fail",e.success="success",e.message="message"}(d||(t.MobileNotificationType=d={}));let u;t.MobileNotificationMode=u,function(e){e.simple="simple",e.closable="closable",e.readable="reloadable"}(u||(t.MobileNotificationMode=u={}));let p;t.FlightType=p,function(e){e.oldShow="old-show",e.show="show",e.cpm="cpm",e.fullRead="full-read",e.freeFullRead="free-full-read",e.karma="karma",e.urlClick="url-click",e.videoS2S="video-s2s",e.videoFullView="video-full-view"}(p||(t.FlightType=p={}));let m;t.FlightStatus=m,function(e){e.draft="draft",e.declined="declined",e.running="running",e.ready="ready",e.stopped="stopped",e.timeLimitReached="time_limit_reached"}(m||(t.FlightStatus=m={}));let h;t.ShareType=h,function(e){e.fb="fb",e.vk="vk",e.ok="ok",e.tw="tw",e.tg="tg",e.whatsapp="whatsapp",e.link="link",e.vb="vb"}(h||(t.ShareType=h={}));let f;t.NetworkShareIntegration=f,function(e){e.viber="viber",e.viberIos="viberIos",e.common="common"}(f||(t.NetworkShareIntegration=f={}));let g;t.ConnectionStatus=g,function(e){e.online="online",e.offline="offline",e.connecting="connecting"}(g||(t.ConnectionStatus=g={}));let b;t.EditorStatus=b,function(e){e.saving="saving",e.justSaved="just_saved",e.fine="fine",e.uploadingImage="uploading_image",e.hasChanges="has_changes",e.offline="offline",e.notAllUploaded="not_all_uploaded"}(b||(t.EditorStatus=b={}));let _;t.PageUnion=_,function(e){e.editorAccessDenied="editor_access_denied",e.editorMobile="editor_mobile",e.profileMobile="profile_mobile",e.adminCommonPage="admin_common_page",e.article="article",e.articleContent="article_content",e.authorStudio="author_studio",e.channels="channels",e.article_draft="article_draft",e.embed="embed",e.advCampaign="calc_campaign",e.campaigns="campaigns",e.tolokaWidget="toloka_widget",e.tolokaWidgetVideo="toloka_widget_video",e.mobileClient="mobile_client"}(_||(t.PageUnion=_={}));let v;t.ArticleItemType=v,function(e){e.native="native",e.narrativeCard="narrative_card",e.gallery="gallery"}(v||(t.ArticleItemType=v={}));let y;t.DeviceType=y,function(e){e.iOS="ios",e.android="android",e.desktop="desktop"}(y||(t.DeviceType=y={}))},,function(e,t,i){"use strict";function n(e=0,t=5,i="."){const n=Math.floor(e);let a=n.toString();n>=Math.pow(10,t-1)&&(a=a.replace(/\B(?=(\d{3})+(?!\d))/g," "));const o=e.toString().split(/[,.]/)[1];return o&&(a+=`${i}${o}`),a}function a(e){return e>=p&&e<=m}function o(e){return e>=h&&e<=f}Object.defineProperty(t,"__esModule",{value:!0}),t.isFileExtensionMatchesAccept=function(e,t){const i=t.match(c);let n=e.split(".").pop();return!!n&&(n=n.replace(/\?(.*?)$/,"").toLowerCase(),Boolean(i&&n&&i.includes(n)))},t.numberWithSpaces=n,t.formatMoney=function(e=0,t){return`${n(Number(e.toFixed(2)),5,",")}${t?` ${t}`:""}`},t.getStatText=function(e,t="K",i="M",n=","){let a,o;return e>=1e8?(a=Math.floor(e/1e6),o=i):e>=1e7?(a=Math.floor(e/1e5)/10,o=i):e>=1e6||Math.floor(e/1e3)>=1e3?(a=Math.floor(e/1e4)/100,o=i):e>=1e5?(a=Math.floor(e/1e3),o=t):e>=1e4?(a=Math.floor(e/100)/10,o=t):e>=1e3?(a=Math.floor(e/10)/100,o=t):(a=e,o=""),String(a).replace(".",n)+o},t.getShortStatText=function(e,t="K",i="M",n=","){let a,o;if(e>=1e7)a=Math.floor(e/1e6),o=i;else if(e>=1e6||Math.floor(e/1e4)>=100)a=Math.floor(e/1e5)/10,o=i;else if(e>=1e4)a=Math.floor(e/1e3),o=t;else if(e>=1e3)a=Math.floor(e/100)/10,o=t;else{if(!(e>=100))return"< 100";a=e,o=""}return String(a).replace(".",n)+o},t.getNumeral=function(e,[t,i,n],a=!1){if(a&&e>=1e3)return n;const o=e%100;if(o>=5&&o<=20)return n;const r=e%10;return 1===r?t:r>=2&&r<=4?i:n},t.getDelayedPublicationDescriptionText=function({requestedPublishTimeIso:e,addTime:t,full:i,currentTimestamp:n}){if(!e)return!1;const a=(0,s.addNoBreakingSpaces)((0,r.toHumanDate)(e,n).toLowerCase()),o=(0,r.toHumanTime)(e);let c="";return c=t?i?(0,s.addNoBreakingSpaces)((0,l.lang)('e1c00ef7')):(0,l.lang)('19237a91'):i?(0,s.addNoBreakingSpaces)((0,l.lang)('2d6ceaba')):(0,l.lang)('39dc55b3'),d(c,{date:a,time:o})},t.getRandomString=function(){return Math.random().toString(u).substr(2,5)},t.parseRandomString=function(e){return parseInt(e,u)||0},t.getRandomNumberString=function(){return Math.random().toString(10).substr(2,12)},t.cropText=function(e,t,i="…"){if(e.length<=t)return e;let n=e.substr(0,t-i.length);const a=Math.max(n.lastIndexOf(" "),n.lastIndexOf(","),n.lastIndexOf("."),0);return(n=n.substr(0,Math.min(n.length,a)))+i},t.fixedCharAt=function(e,t){let i=t;const n=e.charCodeAt(i);if(a(n)&&++i<e.length){const t=e.charCodeAt(i);if(o(t))return String.fromCodePoint(n,t)}return e[t]},t.fixedGetLength=function(e){let t=0;const i=e.length;let n;for(n=0;n<i;n++)a(e.charCodeAt(n))&&n+1<i&&o(e.charCodeAt(n+1))||t++;return t},t.fixedSlice=function(e,t,i){let n="",r=0,s=0;for(;s<e.length&&r<i;){let l=e[s];const c=e.charCodeAt(s);if(a(c)&&s+1<e.length){const t=e.charCodeAt(s+1);o(t)&&(l=String.fromCodePoint(c,t),s++)}r>=t&&r<i&&(n+=l),s++,r++}return n},t.trimStringByWord=function(e,t){if(e.length<t)return e;const i=e.lastIndexOf(" ",t);return-1===i?e.substr(0,t):e.substr(0,i)},t.createTemplater=function(e){const t=e.reduce((e,t)=>(e.push([t,new RegExp(`({${t}})`,"g")]),e),[]);return function(e,i){return t.reduce((e,[t,n])=>e.replace(n,i[t]),e)}},t.replaceOtherSpacesToNormalSpace=t.toFloatString=t.capitalize=t.getIndexErasedSpace=t.toFixedNumber=t.sliceEditableContentText=t.phoneNormalize=t.templateReplacer=void 0;var r=i(20),s=i(83),l=i(8);const c=/\w+(?=,|$)/g,d=(e,t)=>e.replace(/{{(\w+)}}/gi,(e,i)=>t[i].toString());t.templateReplacer=d;const u=36;t.phoneNormalize=(e=>`+${e.replace(/[^\d+]/g,"").replace(/^8/,"+7")}`.replace(/\++/,"+")),t.sliceEditableContentText=((e,t)=>t&&e.length>t&&!e.includes("<")?e.slice(0,t).replace(/&(#?\d*|[a-z]*)$/i,""):e),t.toFixedNumber=((e,t)=>e.toFixed(t).replace(/\.0*$/,"")),t.getIndexErasedSpace=((e,t)=>{if(e.length-1!==t.length)return-1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return" "===e[i]?i:-1;return" "===t[t.length-1]?t.length-1:-1}),t.capitalize=(e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`);const p=55296,m=56319,h=56320,f=57343;t.toFloatString=(e=>e.toString().replace(".",",")),t.replaceOtherSpacesToNormalSpace=(e=>e.replace(/\s/g," "))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sizes=void 0;let n;t.Sizes=n,function(e){e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl"}(n||(t.Sizes=n={}))},,,function(e,t,i){"use strict";function n(e,t){const{ttl:i,params:n,link:a,eventMap:o}=t,r=e.filter(e=>!!o[e.event]||!1);return 0===r.length?null:{link:a,ttl:i,stats:r.map(e=>{const{event:t}=e,i=o[t],a={...S,...e,experiments_group:f.EXPERIMENT_GROUP,experiments_group_ids:f.EXPERIMENT_GROUP_IDS};return{data:_(n,a),event:_(i,a),ts:Date.now()}})}}function a({link:e,ttl:t,stats:i}){return(0,p.postData)(e,{bulk_ts:t,stats:i}).catch(console.error)}function o(e,t){if(!t)return Promise.reject("Bulk params is not loaded");const i=n(e,t);return i?a(i):Promise.resolve()}function r(e){return T?o(e,T):y.then(t=>o(e,t)).catch(e=>{throw e})}function s(){const e=(0,u.getLocalStorage)().get(E);return Array.isArray(e)?e:[]}function l(e,t){if(!t)return Promise.reject("Bulk params is not loaded");const i=s(),a=n(e,t);return a&&(0,u.getLocalStorage)().set(E,i.concat(a)),Promise.resolve()}function c(e){return T?l(e,T):y.then(t=>l(e,t)).catch(e=>{throw e})}var d=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.sendStatEvent=function(e){return r([e])},t.sendStatEvents=r,t.addBulkEvents=c,t.addBulkEvent=function(e){return c([e])},t.sendStoredBulkEvents=function(){[...s()].forEach(e=>{a(e).then(()=>{!function(e){const t=[...s()],i=t.findIndex(t=>t.ttl===e.ttl);-1!==i&&(t.splice(i,1),(0,u.getLocalStorage)().set(E,t))}(e)})})},t.InterfaceElementToBulkItemIdMap=t.loadBulkParams=t.getShareLink=t.getActiveBulkParams=t.commonBulkRequestParams=void 0;var u=i(50),p=i(13),m=i(7),h=d(i(154)),f=i(40);const g=(e,t,i=(e=>e))=>n=>i((0,h.default)(n,e,t)),b={__pos__:g("pos","0"),__reasons__:g("data",""),__item_type__:g("item_type",""),__item_id__:g("item_id",""),__source_id_param__:g("source_id",""),__source_type_param__:g("source_type",""),__link__:g("link","",encodeURIComponent),__parent_size__:g("parent_size",""),__page_type__:g("page_type",""),__parent_id__:g("parent_id",""),__parent_type__:g("parent_type",""),__flight_id__:g("flight_id",""),__origin_id__:g("origin_id",""),__origin_type__:g("origin_type",""),_video_pos_:g("video_pos",""),__place_param__:g("place",""),__experiments__:g("experiments_group",""),__experiments_ids__:g("experiments_group_ids",""),__rid__:g("rid",""),__publication_oid__:g("publication_oid",""),__answer_ids__:g("answer_ids",""),__service_action__:g("service_action",""),__els__:g("els","")},_=(e,t)=>Object.keys(b).reduce((e,i)=>e.replace(i,b[i](t)),e);let v=()=>{};const y=new Promise(e=>{v=e});let S,I=Promise.resolve(void 0),T=void 0;t.commonBulkRequestParams={item_type:"native",source_type:"publisher",page_type:"publishers_platform"},t.getActiveBulkParams=(()=>y),t.getShareLink=(()=>I),t.loadBulkParams=((e,t)=>{S={place:"layout",...t,rid:(0,f.getRid)()};const i=(0,p.loadData)((0,m.formatPath)("/api/v3/launcher/stats-info",{},{...e,place:"publishers_platform"}),{rid:(0,f.getRid)()});return I=i.then(e=>{if(e&&e.sharing&&e.sharing.link)return e.sharing.link}).catch(()=>void 0),i.then(e=>T=P(e)).catch(()=>void 0).then(e=>{v(e)}),{getStatCsrfToken:()=>i}});const P=e=>{if(e&&e.ttl&&e.bulk&&e.bulk.link&&e.bulk_params&&e.stat_events&&e.partner&&e.product&&e.integration)return{ttl:e.ttl,params:e.bulk_params,link:e.bulk.link,eventMap:e.stat_events,partner:e.partner,product:e.product,integration:e.integration,place:e.place,uatraits:e.uatraits}},E="bulk-events";let C;t.InterfaceElementToBulkItemIdMap=C,function(e){e.subscribePublicationHeader="3001",e.signInHeader="3002",e.signUpHeader="3003",e.smallLoginPopupSidebar="3004",e.smallLoginPopupBottom="3005",e.likeMitten="3006",e.subscribeMobileMenu="3007",e.profileMessengerBannerClose="10001",e.profileMessengerBannerClick="10002",e.profileMessengerBannerShow="10003",e.profileMessengerHeaderClick="10004"}(C||(t.InterfaceElementToBulkItemIdMap=C={}))},function(e,t,i){"use strict";function n(e){if(!e)return;const t=e.match(/(\d*)\.(\d*)\.(\d*)/);return t?{major:parseInt(t[1]),minor:parseInt(t[2]),patch:parseInt(t[3])}:void 0}function a(){return!Boolean(o()&&T()&&b&&b.major<=17&&b.minor<=9&&b.patch<=1)&&!Boolean("MobileSafari"===g.browserName&&b&&b.major<10)}function o(){return Boolean(g.osFamily&&"ios"===g.osFamily.toLowerCase())}function r(e){return/iPad|iPhone|iPod/.test(e||navigator.userAgent)}function s(){return Boolean(f.default.isZenKit)}function l(){return Boolean(f.default.isIZenKit)}function c(){return navigator.userAgent.includes("ZenKit/")}function d(){return l()}function u(){return s()||l()}function p(e,t){return e.major!==t.major?e.major-t.major:e.minor!==t.minor?e.minor-t.minor:e.patch-t.patch}var m=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getSemVer=n,t.nativeHlsSupport=function(){const e=document.createElement("video");return e.canPlayType&&_.some(t=>e.canPlayType(t))},t.unmuteVideoNeedClick=function(){return a()},t.isInlineVideosSupported=a,t.hasYaBroContextPopup=function(){return T()&&"Windows"===g.osFamily},t.shouldURLbePrefixed=function(){return Boolean("AndroidBrowser"===g.browserName&&b&&b.major<=4)},t.isIOS=o,t.isIOSByNavigator=r,t.isIphoneXrIOS12=function(e){const t=(e||navigator.userAgent).match(/iPhone OS (\d+)/);return r(e)&&!!t&&12===parseInt(t[1])&&2===window.devicePixelRatio&&896===screen.height},t.isSafari=function(e=g){return Boolean(e.browserName&&e.browserName.toLowerCase().includes("safari"))},t.isIE11=function(e=g){return Boolean(e.browserName&&e.browserName.toLowerCase().includes("msie"))},t.isZenKit=s,t.isIZenKit=l,t.isAZenApp=c,t.isIZenApp=d,t.isZenApp=function(){return d()||c()},t.isOneOfZenKits=u,t.isOldIZenKit=function(){return l()&&!(f.default.zenKitVersion||{}).major},t.isZenAppWithMobileEditor=function(){if(!u())return!1;const e={...n("0.0.0"),...f.default.zenKitVersion};return l()?p(e,{major:2,minor:2,patch:0})>=0:p(e,{major:1,minor:39,patch:6})>=0},t.needBottomSpacing=function(){if(!u())return!1;const e={...n("0.0.0"),...f.default.zenKitVersion};return!l()&&p(e,{major:1,minor:39,patch:8})<0},t.getPlatformInfo=function(){let e;return s()&&(e="zenkit"),l()&&(e="izenkit"),e},t.isFacebookBuiltIn=function(){return/(FBAN|FBAV|FBIOS)/.test(navigator.userAgent)},t.compareSemVersions=p,t.capitalizeUatraits=function(e){const t=Object.keys(e).reduce((t,i)=>({...t,[y.some(e=>e===i)?i:I.some(e=>e===i)?`${i.slice(0,2).toUpperCase()}${i.slice(2)}`:(0,h.capitalize)(i)]:e[i]}),{});return S.some(e=>Boolean(t[e]))&&(t.isTouch=!0),t},t.isShadowWebView=function(){return void 0!==v&&"undefined"!=typeof document&&(T()||s())&&["iOS","Android"].includes(g.osFamily||"")&&"visible"!==document.visibilityState&&document.hidden},t.isYandexBrowser=void 0;var h=i(31),f=m(i(10));const g=f.default.uatraits||{},b=n(g.browserVersion),_=["application/x-mpegURL","vnd.apple.mpegURL"],v=(0,f.getLocalWindow)(),y=["isTablet","isMobile"],S=y,I=["osVersion","osFamily"],T=()=>"YandexBrowser"===g.browserName;t.isYandexBrowser=T},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.avatarsHost=t.yandexMarketWidgetUrl=t.marketWidgetEditStatus=t.yandexFormsEnabled=t.s3DocumentsEnabled=t.extendVideoHost=t.multiChunkUploaderErrorTryCount=t.multiChunkUploaderStreamsCount=t.multiChunkUploader=t.maxTagSuggestCount=t.maxTagLength=t.maxTagEditorCount=t.maxTagPublicationCount=t.allowedSymbols=t.campaignUtmEditorCallToActionText=t.campaignUtmEditorEnabled=t.newBalancePopupEnabled=t.adAgencyEnabled=t.maxGifSizeBytes=t.maxVideoSizeBytes=t.sideBlockEnabled=t.isStrikesInfoAvailable=t.vat=t.profileLinksEnabled=t.mobileEditorEnabled=t.showAdvancedStatisticNarrativeFromTs=t.showAdvancedStatisticFromTs=t.publishersDesktopDomain=t.publishersMobileDomain=t.allowZenappArticleFeed=t.initialCommentariesNumber=t.draftShareEnabled=t.zenlibMobileClid=t.zenlibThemeClid=t.zenlibClid=t.rezenModalLibClid=t.rezenModalLibStaticHostUrl=t.rezenModalLibHostUrl=t.zenlibHostUrl=t.zenlibloaderBundleUrl=t.yaBroDistributionStripeExp=t.yandexMarketDefaultThemeId=t.yandexMarketDefaultClid=t.showFlightMaxValidCoverage=t.showFlightMinValidCoverage=t.karmaFlightMaxValidCoverage=t.karmaFlightMinValidCoverage=t.articleBulkStatEnabled=t.yandexMarketWidgetEnabled=t.adVideoCampaignsEnabled=t.adNativeEnabled=t.externalLinksEnabled=t.minPixelCompleteSeconds=t.commentsEnabled=t.disableTagsWriting=t.disableNicknamesChanging=t.statPixelsEnabled=t.narrativesEnabled=t.default=void 0;var a=n(i(10)),o=i(75);const{config:r={}}=a.default,{disableNarrativeCreation:s,disableNicknamesAndDomainsChanging:l,disablePublicationPixels:c,yaBroStripeExp:d,publishersMobileDomain:u,publishersDesktopDomain:p,zenlibloaderBundleUrl:m,zenlibHostUrl:h,zenlibClid:f,zenlibMobileClid:g,zenlibThemeClid:b,rezenModalLibClid:_,rezenModalLibHostUrl:v,rezenModalLibStaticHostUrl:y,allowZenappArticleFeed:S}=r;var I=r;t.default=I;const T=!s;t.narrativesEnabled=T;const P=!c;t.statPixelsEnabled=P;const E=!!l;t.disableNicknamesChanging=E;const C=!!r.disableTagsWriting;t.disableTagsWriting=C;const A=!!r.commentsEnabled;t.commentsEnabled=A;const k=r.minPixelCompleteSeconds||0;t.minPixelCompleteSeconds=k;const O=!!r.externalLinksEnabled;t.externalLinksEnabled=O;const L=!!r.adNativeEnabled;t.adNativeEnabled=L;const w=Boolean(r.adVideoCampaignsEnabled);t.adVideoCampaignsEnabled=w;const D=!!r.yandexMarketWidgetEnabled;t.yandexMarketWidgetEnabled=D;const R=!!r.articleBulkStatEnabled;t.articleBulkStatEnabled=R;const M=r.karmaFlightMinValidCoverage||2e3;t.karmaFlightMinValidCoverage=M;const N=r.karmaFlightMaxValidCoverage||1e7;t.karmaFlightMaxValidCoverage=N;const U=r.showFlightMinValidCoverage||1e6;t.showFlightMinValidCoverage=U;const x=r.showFlightMaxValidCoverage||1e7;t.showFlightMaxValidCoverage=x;const B=r.yandexMarketDefaultClid||"2310490";t.yandexMarketDefaultClid=B;const F=r.yandexMarketDefaultThemeId||o.YandexMarketThemeId.OFFER_LIST_FULL;t.yandexMarketDefaultThemeId=F;const H=d;t.yaBroDistributionStripeExp=H;const V=m;t.zenlibloaderBundleUrl=V;const j=h;t.zenlibHostUrl=j;const z=v;t.rezenModalLibHostUrl=z;const G=y;t.rezenModalLibStaticHostUrl=G;const $=_||"429";t.rezenModalLibClid=$;const W=f||"560";t.zenlibClid=W;const Y=b||"561";t.zenlibThemeClid=Y;const K=g||"562";t.zenlibMobileClid=K;const X=Boolean(r.draftShareEnabled);t.draftShareEnabled=X;const Z=Number(r.initialCommentariesNumber||3);t.initialCommentariesNumber=Z;const q=Boolean(S);t.allowZenappArticleFeed=q;const Q=u;t.publishersMobileDomain=Q;const J=p;t.publishersDesktopDomain=J;const ee=r.showAdvancedStatisticFromTs;t.showAdvancedStatisticFromTs=ee;const te=r.showAdvancedStatisticNarrativeFromTs;t.showAdvancedStatisticNarrativeFromTs=te;const ie=r.mobileEditorEnabled;t.mobileEditorEnabled=ie;const ne=Boolean(r.profileLinksEnabled);t.profileLinksEnabled=ne,t.vat=.2;const ae=r.isStrikesInfoAvailable;t.isStrikesInfoAvailable=ae;const oe=r.sideBlockEnabled;t.sideBlockEnabled=oe;const re=r.maxVideoSizeBytes;t.maxVideoSizeBytes=re;const se=r.maxGifSizeBytes;t.maxGifSizeBytes=se;const le=r.adAgencyEnabled;t.adAgencyEnabled=le;const ce=r.newBalancePopupEnabled;t.newBalancePopupEnabled=ce;const de=r.campaignUtmEditorEnabled;t.campaignUtmEditorEnabled=de;const ue=r.campaignUtmEditorCallToActionText;t.campaignUtmEditorCallToActionText=ue;const pe=r.allowedSymbols;t.allowedSymbols=pe;const me=r.maxTagPublicationCount;t.maxTagPublicationCount=me;const he=r.maxTagEditorCount;t.maxTagEditorCount=he;const fe=r.maxTagLength;t.maxTagLength=fe;const ge=r.maxTagSuggestCount;t.maxTagSuggestCount=ge;const be=r.multiChunkUploader;t.multiChunkUploader=be;const _e=r.multiChunkUploaderStreamsCount;t.multiChunkUploaderStreamsCount=_e;const ve=r.multiChunkUploaderErrorTryCount;t.multiChunkUploaderErrorTryCount=ve;const ye=r.extendVideoHost;t.extendVideoHost=ye;const Se=r.s3DocumentsEnabled;t.s3DocumentsEnabled=Se;const Ie=r.yandexFormsEnabled;t.yandexFormsEnabled=Ie;const Te=r.marketWidgetEditStatus;t.marketWidgetEditStatus=Te;const Pe=r.yandexMarketWidgetUrl;t.yandexMarketWidgetUrl=Pe;const Ee=r.avatarsHost||"avatars.mdst.yandex.net";t.avatarsHost=Ee},function(e,t,i){"use strict";function n(){return x}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getRid=n,t.ERROR_MARKET_WIDGET_SCRIPT_BLOCKED=t.ERROR_MARKET_WIDGET_NOT_ALLOWED=t.ERROR_MARKET_USE_CONSTRUCTOR=t.ERROR_MARKET_RECOMMENDER_NOT_ALLOWED=t.ERROR_UPLOAD_TOO_SMALL_IMAGE=t.getSocialsAppPlace=t.NO_PUBLISHER_ERROR=t.DEFAULT_EVENT_STAT_PARAMS=t.EXPERIMENT_GROUP_IDS=t.EXPERIMENT_GROUP=t.CAPTCHA_ERRORS=t.ERROR_CAPTCHA_INVALID=t.ERROR_CAPTCHA_REQUIRED=t.ERROR_UPLOAD_VIDEO_TEMPORARY_NOT_ALLOWED=t.getWidgetStatsTotal=t.getWidgetClids=t.getWidgetStats=t.STAT_URL=t.LOG_EDITOR=t.VERIFY_PHONE=t.SEND_PHONE_TO_VERIFY=t.GET_VIDEO_DATA=t.UPLOAD_PUBLICATION_VIDEO=t.SEND_MONEY_WITHDRAW=t.SEND_CUSTOM_MONEY_PARAMS=t.ALERT_TYPES=t.COUNT_GROUPED_PUBLICATIONS_URL=t.COUNT_PUBLICATIONS_BY_STATE_URL=t.GET_PUBLICATIONS_BY_STATE_URL=t.LOAD_PUBLICATION_VIEW_STATISTIC_URL=t.VERIFY_PERSONAL_DATA=t.ACCEPT_MONEY_OFFER_URL=t.SELECT_MONEY_TYPE_URL=t.RESET_MONEY_TYPE_URL=t.UPDATE_VIDEO_PREVIEW_AND_PUBLISH_URL=t.UPDATE_VIDEO_PREVIEW_URL=t.LIST_PUBLICATIONS_URL=t.COPY_NARRATIVE_URL=t.ADD_PUBLISHER_URL=t.ADD_PUBLICATION_URL=t.COPY_PUBLICATION_DRAFT=t.SET_PUBLICATION_DRAFT_ACCESS=t.GET_PUBLICATION_DRAFT_ACCESS=t.DELETE_UNPUBLISHED_CHANGES_URL=t.DELETE_PUBLICATION_URL=t.UPDATE_PUBLICATION_AND_PUBLISH_URL=t.UPDATE_PUBLICATION_URL=void 0;var o=i(100),r=i(77),s=a(i(10)),l=i(19);const c=`/${l.EDITOR_API_V2}/update-publication-content`;t.UPDATE_PUBLICATION_URL=c;const d=`/${l.EDITOR_API_V2}/update-publication-content-and-publish`;t.UPDATE_PUBLICATION_AND_PUBLISH_URL=d;const u=`/${l.EDITOR_API_V2}/delete-publication`;t.DELETE_PUBLICATION_URL=u;const p=`/${l.EDITOR_API_V2}/remove-unpublished-changes`;t.DELETE_UNPUBLISHED_CHANGES_URL=p;const m=`/${l.EDITOR_API_V2}/get-publication-draft-access`;t.GET_PUBLICATION_DRAFT_ACCESS=m;const h=`/${l.EDITOR_API_V2}/set-publication-draft-access`;t.SET_PUBLICATION_DRAFT_ACCESS=h;const f=`/${l.EDITOR_API_V2}/copy-publication-draft`;t.COPY_PUBLICATION_DRAFT=f;const g=`/${l.EDITOR_API_V2}/add-publication`;t.ADD_PUBLICATION_URL=g,t.ADD_PUBLISHER_URL="/media-api/add-publisher";const b=`/${l.EDITOR_API_V2}/copy-narrative`;t.COPY_NARRATIVE_URL=b,t.LIST_PUBLICATIONS_URL="/media-api/list-publications";const _=`/${l.EDITOR_API_V2}/update-video-preview`;t.UPDATE_VIDEO_PREVIEW_URL=_;const v=`/${l.EDITOR_API_V2}/update-video-preview-and-publish`;t.UPDATE_VIDEO_PREVIEW_AND_PUBLISH_URL=v;const y=`/${l.EDITOR_API_V2}/money/reset-type`;t.RESET_MONEY_TYPE_URL=y;const S=`/${l.EDITOR_API_V2}/money/select-type`;t.SELECT_MONEY_TYPE_URL=S;const I=`/${l.EDITOR_API_V2}/money/accept-offer`;t.ACCEPT_MONEY_OFFER_URL=I;const T=`/${l.EDITOR_API_V2}/money/verify-personal-data`;t.VERIFY_PERSONAL_DATA=T,t.LOAD_PUBLICATION_VIEW_STATISTIC_URL="/media-api/publication-view-stat";const P=`/${l.EDITOR_API_V2}/get-publications-by-state`;t.GET_PUBLICATIONS_BY_STATE_URL=P;const E=`/${l.EDITOR_API_V2}/count-publications-by-state`;t.COUNT_PUBLICATIONS_BY_STATE_URL=E;const C=`/${l.EDITOR_API_V2}/count-grouped-publications-by-type`;t.COUNT_GROUPED_PUBLICATIONS_URL=C,t.ALERT_TYPES={OFFER_ACCEPTED:"offer-accepted"};const A=`/${l.EDITOR_API_V2}/money/custom`;t.SEND_CUSTOM_MONEY_PARAMS=A,t.SEND_MONEY_WITHDRAW="/media-api/money/simple/withdraw",t.UPLOAD_PUBLICATION_VIDEO="/media-api-video/upload-video";const k=`/${l.EDITOR_API_V2}/get-video-embed-data`;t.GET_VIDEO_DATA=k;const O=`/${l.EDITOR_API_V2}/add-phone`;t.SEND_PHONE_TO_VERIFY=O;const L=`/${l.EDITOR_API_V2}/verify-phone`;t.VERIFY_PHONE=L;const w=`/${l.EDITOR_API_V2}/log-editor-event`;t.LOG_EDITOR=w,t.STAT_URL="/api/v4/stats/common",t.getWidgetStats=(e=>`/${l.EDITOR_API_V2}/id/${e}/get-widget-stats`),t.getWidgetClids=(e=>`/${l.EDITOR_API_V2}/id/${e}/clids`),t.getWidgetStatsTotal=(e=>`/${l.EDITOR_API_V2}/id/${e}/get-widget-stats-total`),t.ERROR_UPLOAD_VIDEO_TEMPORARY_NOT_ALLOWED="ERROR_UPLOAD_VIDEO_TEMPORARY_NOT_ALLOWED";const D="captcha-required-error";t.ERROR_CAPTCHA_REQUIRED=D;const R="invalid-captcha-error";t.ERROR_CAPTCHA_INVALID=R;const M=[D,R];t.CAPTCHA_ERRORS=M;const N=function(){const{context:e}=(0,r.getExperiments)()||{};return e&&e.group||""}();t.EXPERIMENT_GROUP=N;const U=function(){var e,t,i;return(null===(e=(0,r.getExperiments)())||void 0===e?void 0:null===(t=e.context)||void 0===t?void 0:null===(i=t.group_ids)||void 0===i?void 0:i.join(","))||""}();t.EXPERIMENT_GROUP_IDS=U;const x=(s.default.omittedQueryParams||{}).rid||[32,32,52,32].map(e=>Math.floor(Math.random()*Math.pow(2,e))).join("."),B=Object.freeze({clid:228,item_type:"native",sf:"recc",dst:"web",pos:0,country_code:"ru",type:"feed",device_id:(0,o.getDeviceId)(),source_type:"publisher",rid:n()});t.DEFAULT_EVENT_STAT_PARAMS=B;const F=(s.default.prominentParams||{}).place||"publishers_platform";t.NO_PUBLISHER_ERROR="no publisher",t.getSocialsAppPlace=(()=>F),t.ERROR_UPLOAD_TOO_SMALL_IMAGE="avatars-upload-too-small-image",t.ERROR_MARKET_RECOMMENDER_NOT_ALLOWED="market-recommender-not-allowed",t.ERROR_MARKET_USE_CONSTRUCTOR="market-use-constructor",t.ERROR_MARKET_WIDGET_NOT_ALLOWED="market-widget-not-allowed",t.ERROR_MARKET_WIDGET_SCRIPT_BLOCKED="market-widget-script-blocked"},,function(e,t){e.exports=ReactDOM},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonWidthTypes=t.ButtonViewType=t.ButtonTags=void 0;let n;t.ButtonTags=n,function(e){e.a="a",e.button="button"}(n||(t.ButtonTags=n={}));let a;t.ButtonViewType=a,function(e){e.blue="blue",e.yellow="yellow",e.red="red",e.green="green",e.regular="regular",e.border="border",e.borderLight="border-light",e.white="white",e.transparent="transparent",e.placeholder="placeholder"}(a||(t.ButtonViewType=a={}));let o;t.ButtonWidthTypes=o,function(e){e.regular="regular",e.wide="wide"}(o||(t.ButtonWidthTypes=o={}))},function(e,t,i){"use strict";function n(e){const{privateData:t}=e;return!!t&&Boolean(t.moderationStatus)&&"ok"!==t.moderationStatus}function a(e,t){return!(!e||!e.content)&&e.content.type===t}function o(e){if(!e||!e.privateData)return!1;const{privateData:t}=e,{status:i,draftStatus:n}=t;return"draft"!==i&&"rip"!==i&&"has-unpublished-changes"===n}Object.defineProperty(t,"__esModule",{value:!0}),t.hasPublicationEmbedAtTheEnd=function(e){if(e.content.type===s.PublicationContentType.video)return!1;try{return!(!e.content.articleContent||!e.content.articleContent.contentState)&&"atomic:embed"===JSON.parse(e.content.articleContent.contentState).blocks.slice(-1)[0].type}catch(e){return!1}},t.isPublicationDraft=function(e){const{privateData:t}=e;return!!t&&"draft"===t.status},t.isPublicationBanned=n,t.isNarrative=function(e){return"narrative"===e.content.type},t.isPublicationProcessing=function(e){const{privateData:t}=e;return!!t&&"processing"===t.status},t.isPublicationStatusPublished=function(e){const{privateData:t}=e;return!!t&&"published"===t.status},t.hasPublicationPublished=function(e){const{privateData:t}=e;return!t||t.hasPublished},t.isPublicationDelayed=function(e){const{privateData:t}=e;return!!t&&"ready-for-publication"===t.status},t.isPublisherLiked=function(e,t){return t.subscribeStatus===l.SubscribeStatus.Subscribed},t.isPublisherBlocked=function(e,t){return t.subscribeStatus===l.SubscribeStatus.Blocked},t.publicationIsVideo=function(e){return a(e,"gif")},t.publicationIsArticle=function(e){return a(e,"article")},t.publicationIsNarrative=function(e){return a(e,"narrative")},t.publicationIsPost=function(e){return a(e,"post")},t.getEmptyDraftContent=function(){return{entityMap:{},blocks:[]}},t.hasUnpublishedChanges=o,t.getStatus=function(e){if(!e||!e.privateData)return;const{privateData:t}=e,{status:i}=t;return i},t.hasPublicationDelayedPublishTime=function(e){return!!e&&!!e.requestedPublishTimeIso},t.isPublisherBanned=function(e){const{privateData:t}=e;return!!t&&Boolean(t.editorAccessMode)&&"full"!==t.editorAccessMode},t.isPublisherBannedByReason=function(e){const{privateData:t}=e;return!!t&&Boolean(t.editorAccessMode)&&"partial"===t.editorAccessMode},t.getPublicationBadges=function(e,t){const i=[],{adNativeModerationStatus:a=null,status:r=null}=t.privateData||{};return o(t)&&i.push("changes"),"processing"===r&&i.push("processing"),"unknown"===a?i.push("promotion"):"rejected"===a&&i.push("promotionRejected"),(e||n(t))&&i.push("sanction"),i},t.isPublicationEmpty=function(e){if(!e)return!0;const{privateData:t,content:i}=e;if(i.type===s.PublicationContentType.video)return!1;if(i.type===s.PublicationContentType.gallery)return(0,r.isGalleryEmpty)(e);const{articleContent:{contentState:n}={contentState:void 0},preview:a}=i;if(!n)return void 0===a.title;const o=n?JSON.parse(n):{entityMap:{},blocks:[]};return!(t&&t.hasPublished)&&!a.title&&!i.preview.snippet&&(!o.blocks.length||o.blocks[0]&&"unstyled"===o.blocks[0].type&&!o.blocks[0].text)},t.isCampaignFlightType=function(e){return["show","cpm","full-read"].includes(e)},t.getStatContentType=function(e){switch(e){case"article":return"native";case"gif":return"gif";case"narrative":return"narrative_card";case"post":return"post";default:return"native"}},t.getPublicationItemType=t.getRawContent=t.PUBLICATION_TYPE=void 0;var r=i(72),s=i(27),l=i(51);t.PUBLICATION_TYPE={ALL:"all",ARTICLE:"article",NARRATIVE:"narrative",VIDEO:"gif",POST:"post",GALLERY:"gallery"},t.getRawContent=(e=>{const t=e?e.contentState:null;return t?JSON.parse(t):{entityMap:{},blocks:[]}}),t.getPublicationItemType=(e=>({[s.PublicationContentType.article]:25,[s.PublicationContentType.video]:34,[s.PublicationContentType.narrative]:32,[s.PublicationContentType.post]:39,[s.PublicationContentType.gallery]:47})[e])},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNotification=function(e,t){return i=>i({type:n.add,notificationType:e,message:t})},t.NotificationActionTypes=void 0;let n;t.NotificationActionTypes=n,(n||(t.NotificationActionTypes=n={})).add="NOTIFICATION.ADD"},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storageFactory=function(e){const t=t=>{try{e.removeItem(t)}catch(e){}};return{set:(i,n)=>{try{const a=JSON.stringify(n);a?e.setItem(i,a):t(i)}catch(e){}},get:t=>{try{const i=e.getItem(t);return i?JSON.parse(i):void 0}catch(e){}},remove:t,getAll:()=>{try{return{...e}}catch(e){return{}}}}},t.getLocalStorage=function(){if(!o)throw new Error("storage is absent");return o},t.getSessionStorage=function(){if(!r)throw new Error("storage is absent");return r},t.getWindowLocalStorageOrFail=function(){if(n.isSSR)throw new Error("storage is absent");return window.localStorage};var n=i(10);class a{constructor(e,t,i){this.getStorage=e,this.prefix=t,this.version=i}set(e,t,i){const n=this.pullData();n[e]=t,i&&function(e,t,i){t._expired||(t._expired={}),t._expired[e]=Date.now()+i}(e,n,i),this.pushData(n)}get(e){if(!function(e,t){if(!t._expired||!t._expired[e])return!1;const i=t._expired[e];return Date.now()-i>=0}(e,this.pullData()))return this.pullData()[e];this.delete(e)}delete(e){const t=this.pullData();t.hasOwnProperty(e)&&(delete t[e],function(e,t){t._expired&&delete t._expired[e]}(e,t),this.pushData(t))}clear(){const e={version:this.version};this.pushData(e)}pullData(){try{const e=String(this.getStorage().getItem(this.prefix)),t=JSON.parse(e)||{};return t.version=this.version,t}catch(e){return{version:this.version}}}pushData(e){try{const t=JSON.stringify(e);this.getStorage().setItem(this.prefix,t)}catch(e){}}}const o=!n.isSSR&&window.localStorage?new a(()=>window.localStorage,"zen","2"):void 0,r=!n.isSSR&&window.sessionStorage?new a(()=>window.sessionStorage,"zen","1"):void 0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeStatus=void 0;let n;t.SubscribeStatus=n,function(e){e[e.Subscribed=0]="Subscribed",e[e.None=1]="None",e[e.Blocked=2]="Blocked",e[e.Pending=3]="Pending"}(n||(t.SubscribeStatus=n={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildUrl=void 0;var n=i(7);t.buildUrl=((e,t)=>{let i=e;const a=e.includes("?")?"&":"?";return t&&(i+=a+(0,n.serializeURLParams)(t)),i})},,function(e,t,i){"use strict";function n(e,t,i){if(t&&document.querySelector(`#${t}`))return;const n=document.createElement("script");n.src=e,n.async=!0,t&&(n.id=t),(null===i||void 0===i?void 0:i.type)&&(n.type=i.type),(null===i||void 0===i?void 0:i.onload)&&(n.onload=i.onload),(null===i||void 0===i?void 0:i.onerror)&&(n.onerror=i.onerror),(null===i||void 0===i?void 0:i.crossOrigin)&&(n.crossOrigin=i.crossOrigin),document.head&&document.head.appendChild(n)}function a(){if("undefined"==typeof window)return 0;const e=document.createElement("div"),{body:t}=document;if(!t)return 0;Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),t.appendChild(e);const i=e.offsetWidth-e.clientWidth;return t.removeChild(e),i}var o=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.appendScript=n,t.getElemData=function(e,t){return e.dataset&&e.dataset[t]||e.getAttribute(`data-${t}`)},t.waitImageLoad=function(e,t){return new Promise((i,n)=>{const a=new Image;a.src=e,t&&(a.srcset=t),a.onload=i,a.onerror=n})},t.preventDefault=function(e){e.preventDefault()},t.stripTags=function(e){const t=document.createElement("div");return t.innerHTML=e.replace(/&nbsp;/g,"").replace(/(<br\s?\/?>|<div>)/g,"\n"),t.textContent||""},t.getTextLinesFromElement=function(e,t){const i=e&&e.parentElement;if(!e||!i)throw new Error("No dom element for getting text lines");let n,a=[];const o=[],r=e.cloneNode();i.appendChild(r),r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.width="100%",r.style.opacity="0",r.innerHTML=[...t].map(e=>`<span>${e}</span>`).join("");const s=r.children;return s&&s[0]&&(n=s[0].offsetTop),Array.from(s).forEach(e=>{const t=e.textContent||"",i=e.offsetTop;if(n!==i){const e=a.join("");o.push(e.endsWith(" ")?e.slice(0,e.length-1):e),a=[],n=i}a.push(t)}),a.every(e=>" "===e)||o.push(a.join("")),i.removeChild(r),o},t.selectElementContents=function(e){const t=document.createRange(),i=window.getSelection();i&&(t.selectNodeContents(e),i.removeAllRanges(),i.addRange(t))},t.fireOnDoubleClick=function(e){return()=>{2==++d?(d=0,e()):setTimeout(()=>{d=0},400)}},t.fireOnLoadInMobileOrNow=function(e){const t=()=>{document.hidden||(document.removeEventListener("visibilitychange",t),e())};(0,r.isShadowWebView)()?document.addEventListener("visibilitychange",t):e()},t.waitUntilPageVisible=function(){return new Promise((e,t)=>{"undefined"==typeof document&&t("No document defined!"),"visible"!==document.visibilityState&&document.visibilityState||e();const i=()=>{"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",i),e())};document.addEventListener("visibilitychange",i,!0)})},t.fixScrollBar=function(){const{body:e}=document;if(!e)return;const t=a();((0,r.isIE11)()||t&&t>0)&&(e.style.width="calc(100vw - 17px)")},t.getScrollWidth=a,t.setTransform=function(e,t){e.style.transform=t,e.style.setProperty("-webkit-transform",t)},t.getScreenHeight=function(){const{screen:e}=window;return s.default.uatraits.isMobile?e?Math.max(e.availHeight,e.availWidth):Math.max(window.innerHeight,window.innerWidth):e?e.availHeight:window.innerHeight},t.isElementHigher=function(e,t){return e.getBoundingClientRect().height>t},t.hasVerticalScroll=t.forEachParent=t.genRandom=t.scrollElement=t.isLineClampSupport=t.promisifiedAppend=void 0;var r=i(36),s=o(i(10));t.promisifiedAppend=((e,t)=>new Promise(i=>{n(e,t,{onload:i})}));const l=!s.isSSR&&"webkitLineClamp"in document.createElement("div").style;t.isLineClampSupport=l;const c=function(){if("undefined"==typeof window)return null;const e=window.document;return e.scrollingElement?e.scrollingElement:navigator.userAgent.toLowerCase().includes("webkit")?document.body:document.querySelector("html")}();t.scrollElement=c;let d=0;t.genRandom=(()=>Math.floor(1e6*Math.random()).toString().padStart(6,"0")),t.forEachParent=((e,t)=>{let i=e;for(;i;)t(i),i=i.parentElement}),t.hasVerticalScroll=(()=>{const{documentElement:e}=document;return e.scrollHeight>e.clientHeight})},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationErrorType=t.NotificationType=t.NotificationStyle=void 0;let n;t.NotificationStyle=n,function(e){e.default="default",e.danger="danger"}(n||(t.NotificationStyle=n={}));let a;t.NotificationType=a,function(e){e.karmaEnabled="karma_enabled",e.secondPublication="second_publication",e.reportAvailable="report_available",e.engineeringWorks="engineering_works",e.ongoingResettlement="ongoing_resettlement",e.readonlyResettlement="readonly_resettlement",e.challenge="challenge",e.tagsWriteAvailable="tags_write_available",e.friday0318="friday_03_18",e.narrativesAreOpen="narratives_are_open",e.introHelp="intro_help",e.monetizationAvailable="monetization_available",e.introWelcome="intro_welcome",e.firstPublications="first_publications",e.firstWeek="first_week",e.hotThemes2017="hot_themes_2017",e.info="info"}(a||(t.NotificationType=a={}));let o;t.NotificationErrorType=o,function(e){e.error="error",e.info="info"}(o||(t.NotificationErrorType=o={}))},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseArray=function(e){const t=[];for(let i=e.length-1;i>=0;i--)t.push(e[i]);return t},t.getNextArrayItem=function(e,t){const i=e.indexOf(t);return i===e.length-1?e[0]:e[i+1]},t.get=void 0,t.get=((e,t,i=null)=>{const n=String(t).split(".");let a=e;for(let e=0;e<n.length;e++){if(!a||"object"!=typeof a||!a.hasOwnProperty(n[e]))return i;a=a[n[e]]}return a})},function(e,t,i){"use strict";function n(e=!1){return(t,i)=>{const{profile:{user:n}}=i(),a=e||!(n&&n.publisherId);return t(U(I.PATHS.GET_USER,void 0,a))}}function a(e){const t=e(),{publisher:i}=t.profile;return Boolean(i&&(0,_.isPublisherBanned)(i))}Object.defineProperty(t,"__esModule",{value:!0}),t.loadPassportEmails=function(){return(e,t)=>(e({type:C.passportEmailsLoadingStarted}),(0,s.fetchEmails)({publisherId:(0,y.getProfilePublisherId)(t())}).then(t=>{e(N(t.emails))}).catch(t=>(e({type:C.passportEmailsLoadingFailed,payload:{error:t.toString()}}),Promise.reject(t))))},t.validateSocialLink=function(e,t){return(0,o.debounce)(i=>{(0,s.validateProfileSocialLink)({socialLink:e}).then(({iconUri:n})=>n&&i(D(t,e,!1,n))).catch(()=>i(D(t,e,!0)))},300,{leading:!1})},t.loadUser=n,t.submitPhoneForValidation=function(e,t,i=!1){return(n,a)=>{const o=(0,y.getProfilePublisherId)(a());if(!o)return Promise.reject(c.NO_PUBLISHER_ERROR);const r=(0,S.phoneNormalize)(e);return(0,s.addPhone)({phone:r,publisherId:o}).then(({trackId:e,alreadyAdded:a})=>n(a?L(r,t,i):H(r,e,t,i))).catch(e=>(n((0,T.errorNotification)(e)),Promise.reject(e)))}},t.deleteChat=t.sendSMSToVerifyPhone=t.cancelPhoneConfirmation=t.savePublisherEmail=t.setTemporaryPhone=t.saveEmailsSubscription=t.saveSocialsPublisherSettings=t.saveGeneralPublisherSettings=t.updateProfile=t.updatePartialProfileAndPrivacyRule=t.updatePartialProfile=t.loadProfileData=t.loadPublisherByPublisherId=t.createUserPublisher=t.passportEmailsReceived=t.metrikaVerificationReceived=t.nicknameVerificationReceived=t.socialLinkVerificationReceived=t.websitesLoaded=t.setProfilePhone=t.deleteBackground=t.uploadBackground=t.uploadLogo=t.validateNickname=t.hideProfileError=t.verifyPhone=t.raiseProfileError=t.deleteChannel=t.editMetrikaID=t.editNickname=t.hidePrepublishProfile=t.hideProfile=t.startModeration=t.showPrepublishProfile=t.showProfile=t.ProfileActionType=void 0;var o=i(87),r=i(184),s=i(256),l=i(255),c=i(40),d=i(110),u=i(78),p=i(152),m=i(223),h=i(8),f=i(13),g=i(23),b=i(7),_=i(47),v=i(60),y=i(28),S=i(31),I=i(22),T=i(71),P=i(296),E=i(297);let C;t.ProfileActionType=C,function(e){e.show="PROFILE_SHOW",e.hide="PROFILE_HIDE",e.updated="PROFILE_UPDATED",e.loaded="PROFILE_LOADED",e.hidePrePublish="PROFILE_HIDE_PREPUBLISH",e.showPrePublish="PROFILE_SHOW_PREPUBLISH",e.showError="PROFILE_SHOW_ERROR",e.hideError="PROFILE_HIDE_ERROR",e.setPhone="PROFILE_SET_PHONE",e.webSitesLoaded="PROFILE_WEBSITES_LOADED",e.nicknameVerified="PROFILE_NICKNAME_VERIFIED",e.metrikaVerified="PROFILE_METRIKA_VERIFIED",e.socialLinkVerified="PROFILE_SOCIAL_LINK_VERIFIED",e.nicknameEdited="PROFILE_NICKNAME_EDITED",e.metrikaEdited="PROFILE_METRIKA_EDITED",e.passportEmailsReceived="PROFILE_PASSPORT_EMAILS_RECEIVED",e.userLoaded="PROFILE_USER_LOADED",e.setTemporaryPhone="PROFILE_SET_TEMPORARY_PHONE",e.cancelPhoneConfirmation="PROFILE_CANCEL_PHONE_CONFIRMATION",e.userDataLoadingStarted="PROFILE_USER_DATA_LOADING_STARTED",e.userDataLoadingFailed="PROFILE_USER_DATA_LOADING_FAILED",e.publisherDataLoadingStarted="PROFILE_PUBLISHER_DATA_LOADING_STARTED",e.publisherDataLoadingFailed="PROFILE_PUBLISHER_DATA_LOADING_FAILED",e.passportEmailsLoadingStarted="PROFILE_PASSPORT_EMAILS_LOADING_STARTED",e.passportEmailsLoadingFailed="PROFILE_PASSPORT_EMAILS_LOADING_FAILED",e.createPublisher="PROFILE_CREATE_PUBLISHER",e.updatedMessengerPrivacy="PROFILE_UPDATED_MESSAGES_PRIVACY",e.deleteChat="PROFILE_DELETE_CHAT"}(C||(t.ProfileActionType=C={})),t.showProfile=(()=>(e,t)=>(e({type:C.show}),(0,s.fetchListUserDomains)({publisherId:(0,y.getProfilePublisherId)(t())}).then(({domains:t})=>{e(w(t))}).catch(console.error))),t.showPrepublishProfile=(e=>({type:C.showPrePublish,payload:{publisher:e}})),t.startModeration=(e=>(t,i)=>{const n=i(),{profile:{websites:a}}=n,o=a&&a[e],r=o&&o.domain;return(0,s.sendDomainToModeration)({publisherId:(0,y.getProfilePublisherId)(n),domain:r}).then(({domains:e})=>{t(w(e))}).catch(console.error)}),t.hideProfile=(()=>({type:C.hide})),t.hidePrepublishProfile=(()=>({type:C.hidePrePublish}));const A=(0,o.debounce)((e,t,i)=>(0,s.validatePublisherNickname)({publisherId:i,nickname:t}).then(()=>e(R(t,"",!0))).catch(i=>{const n="taken-nickname"===(0,v.get)(i,"type")?(0,h.lang)('6f02312c'):(0,h.lang)('1ddd174e');return e(R(t,n,!0))}),300,{leading:!1}),k=(0,o.debounce)((e,t,i)=>(0,P.validateMetrikaId)({publisherId:i,metrikaCounterId:t}).then(()=>e(M(t,"",!0))).catch(()=>{const i=(0,h.lang)('3b8a8b67');return e(M(t,i,!0))}),300,{leading:!1});t.editNickname=(e=>(t,i)=>{const n=e.toLowerCase().slice(0,49);return t({type:C.nicknameEdited,payload:{current:n}}),A(t,n,(0,y.getProfilePublisherId)(i()))}),t.editMetrikaID=(e=>(t,i)=>{if(t({type:C.metrikaEdited,payload:{current:e}}),e)return k(t,e,(0,y.getProfilePublisherId)(i()))}),t.deleteChannel=(e=>t=>(0,l.deletePublisher)({publisherId:e}).then(()=>{window.location.href="/"}).catch(e=>(t(O(e)),Promise.reject(e))));const O=e=>({type:C.showError,payload:{errorMessage:{type:e.errorType||"other",message:e.message||"Something went wrong"}}});t.raiseProfileError=O,t.verifyPhone=((e,t)=>(i,n)=>{const{publisher:a}=n().profile;return a?(0,f.postData)((0,b.formatPath)(c.VERIFY_PHONE,{},{publisherId:a.id}),{trackId:e,code:t}).then(e=>e,e=>(i((0,T.errorNotification)(e)),Promise.reject(e))):Promise.reject(c.NO_PUBLISHER_ERROR)}),t.hideProfileError=(()=>({type:C.hideError})),t.validateNickname=(e=>(t,i)=>{const n=(0,y.getProfilePublisherId)(i());if(!n)throw new Error("expected publisherId is defined");return(0,s.validatePublisherNickname)({publisherId:n,nickname:e}).then(()=>void 0).catch(e=>"taken-nickname"===(0,v.get)(e,"type")?(0,h.lang)('6f02312c'):(0,h.lang)('1ddd174e'))}),t.uploadLogo=(e=>(t,i)=>{const n=(0,y.getProfilePublisherId)(i());if(!n)throw new Error("expected publisherId is defined");return(0,l.uploadPublisherLogo)({publisherId:n,image:e}).then(e=>((0,g.addImageDataToDict)(e),t((0,d.addImage)(e)),t({type:C.updated,payload:{profile:{logo:e}}}),e))}),t.uploadBackground=(e=>(t,i)=>{const n=(0,y.getProfilePublisherId)(i());if(!n)throw new Error("expected publisherId is defined");return(0,l.uploadPublisherBackground)({publisherId:n,image:e}).then(e=>((0,g.addImageDataToDict)(e),t((0,d.addImage)(e)),t({type:C.updated,payload:{profile:{headerBackgroundImage:e}}}),e))}),t.deleteBackground=(()=>(e,t)=>{const i=(0,y.getProfilePublisherId)(t());if(!i)throw new Error("expected publisherId is defined");return(0,l.deletePublisherBackground)({publisherId:i}).then(()=>{e({type:C.updated,payload:{profile:{headerBackgroundImage:void 0}}})})});const L=(e,t,i=!1)=>n=>{n({type:C.setPhone,payload:{phone:e}}),t&&(i?n((0,p.publishPublication)()).then(()=>{t&&(t.goBack(),t.replace("/publications"))}):t.goBack())};t.setProfilePhone=L;const w=e=>({type:C.webSitesLoaded,payload:{domains:e}});t.websitesLoaded=w;const D=(e,t,i,n)=>({type:C.socialLinkVerified,payload:{index:e,link:t,error:i,socialNetwork:n}});t.socialLinkVerificationReceived=D;const R=(e,t,i)=>({type:C.nicknameVerified,payload:{current:e,error:t,confirmed:i}});t.nicknameVerificationReceived=R;const M=(e,t,i)=>({type:C.metrikaVerified,payload:{current:e,error:t,confirmed:i}});t.metrikaVerificationReceived=M;const N=e=>({type:C.passportEmailsReceived,payload:{emails:e}});t.passportEmailsReceived=N;const U=(0,u.createCachedDataLoadAction)({loadedActionCreator:({user:e})=>t=>t({type:C.userLoaded,payload:{user:e}}),loadingAction:e=>e({type:C.userDataLoadingStarted}),failedActionCreator:e=>t=>t({type:C.userDataLoadingFailed,payload:{error:e.toString()}})});t.createUserPublisher=(()=>e=>(0,l.createPublisher)().then(({publisher:t})=>e({type:C.createPublisher,payload:{publisher:t}})).then(()=>e(n())).then(()=>{e((0,m.loadConfig)())}));const x=(0,u.createCachedDataLoadAction)({loadedActionCreator:({publisher:e,images:t})=>i=>{i({type:C.loaded,payload:{publisher:e}}),i((0,d.addImagesFromMap)(t))},loadingAction:e=>e({type:C.publisherDataLoadingStarted}),failedActionCreator:e=>t=>t({type:C.publisherDataLoadingFailed,payload:{error:e.toString()}})}),B=e=>t=>t(x((0,b.formatPath)(I.PATHS.GET_PUBLISHER,{publisherId:e})));t.loadPublisherByPublisherId=B,t.loadProfileData=(()=>e=>e(n()).then(({user:{publisherId:t}})=>e(B(t||""))));const F=e=>(t,i)=>{const n=i(),a=(0,y.getProfilePublisherId)(n),{publisher:o}=n.profile,s={...o?{socialLinks:o.socialLinks||[],themes:o.themes||[]}:{},...e},l=(0,r.omit)(s,["allLogos","logo"]);return(0,f.postData)((0,b.formatPath)(I.PATHS.UPDATE_PUBLISHER,{},{publisherId:a}),l).then(()=>{t({type:C.updated,payload:{profile:s}})}).catch(e=>(t(O(e)),Promise.reject(e)))};t.updatePartialProfile=F,t.updatePartialProfileAndPrivacyRule=(e=>(t,i)=>{const n=i(),a=(0,y.getProfilePublisherId)(n),{publisher:o}=n.profile,s={...o?{socialLinks:o.socialLinks||[],themes:o.themes||[]}:{},...e},l=(0,r.omit)(s,["allLogos","logo"]);return(0,f.postData)((0,b.formatPath)(I.PATHS.UPDATE_PUBLISHER,{},{publisherId:a}),l).then(e=>{t({type:C.updatedMessengerPrivacy,payload:{profile:s,profileResponse:e}})}).catch(e=>(t(O(e)),Promise.reject(e)))}),t.updateProfile=((e,t=!1)=>(i,n)=>{const a=n(),o=(0,y.getProfilePublisherId)(a),{publisher:s}=a.profile,l={...s?{socialLinks:s.socialLinks||[],themes:s.themes||[]}:{},...e},c=(0,r.omit)(l,["allLogos","logo"]);return i({type:C.updated,payload:{profile:l}}),t?Promise.resolve():(0,f.postData)((0,b.formatPath)(I.PATHS.UPDATE_PUBLISHER,{},{publisherId:o}),c).catch(e=>(i(O(e)),Promise.reject(e)))}),t.saveGeneralPublisherSettings=(e=>(t,i)=>{const{publisher:n}=i().profile;if(a(i)||!n)return Promise.resolve();const{privateData:{canPublisherChangeNickname:o}}=n,{nickname:r,...s}=e,l={...s,nickname:o||r?{raw:r||""}:void 0};return t(F(l))}),t.saveSocialsPublisherSettings=((e,t)=>(i,n)=>a(n)?(t.goBack(),Promise.resolve()):i(F({socialLinks:e})).then(()=>{t.goBack()})),t.saveEmailsSubscription=(e=>(t,i)=>a(i)?Promise.resolve():t(F({isSubscribedToEmails:e})));const H=(e,t,i,n)=>a=>{a({type:C.setTemporaryPhone,payload:{phone:e,trackId:t}}),i.replace(n?"prepublish-phone-code":"phone-code")};t.setTemporaryPhone=H,t.savePublisherEmail=((e,t)=>i=>i(F({email:e})).then(()=>{t.goBack()})),t.cancelPhoneConfirmation=(e=>(e.goBack(),{type:C.cancelPhoneConfirmation})),t.sendSMSToVerifyPhone=(e=>(t,i)=>{const n=(0,y.getProfilePublisherId)(i());return n?(0,s.addPhone)({phone:e,publisherId:n}).catch(e=>(t((0,T.errorNotification)(e)),Promise.reject(e))):Promise.reject(c.NO_PUBLISHER_ERROR)}),t.deleteChat=(e=>(t,i)=>{const n=(0,y.getProfilePublisherId)(i());return n?(0,E.deleteChat)({chatId:e,publisherId:n}).then(({result:i})=>"OK"===i&&(t({type:C.deleteChat,payload:{chatId:e}}),!0)).catch(e=>!1):Promise.resolve(!1)})},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataUrlToBlob=function(e,t="image/png"){const i=atob(e.split(",")[1]),n=[];for(let e=0;e<i.length;e++)n.push(i.charCodeAt(e));return new Blob([new Uint8Array(n)],{type:t})},t.toVisibleTitle=function(e){return(e||"").trim()||""},t.getPublisherNickname=function(e){return(0,n.get)(e,"nickname.raw")},t.sanitizeUrl=function(e=""){const t=e.trim();if(!l(t)&&0!==t.indexOf("mailto:")&&0!==t.indexOf("tel:")){const e=t.startsWith("zen.yandex.")?"https":"http";return t.startsWith("//")?`${e}:${t}`:`${e}://${t}`}return t},t.getHumanCount=function(e,t=!1){const i=t?1e3:1024;let n=e;if(Math.abs(n)<i)return`${n}B`;const a=t?["K","M","G"]:["KB","MB","GB"];let o=-1;do{n/=i,++o}while(Math.abs(n)>=i&&o<a.length-1);return n.toFixed(2).replace(/(\.[^0]*)0+$/,"$1").replace(/\.$/,"")+a[o]},t.toHumanTime=function(e){const t=Math.floor(Number(e)/60),i=Math.round(Number(e)%60);return`${t<=9?`0${t}`:t}:${i<=9?`0${i}`:i}`},t.isMatchMimeType=function(e,t){const i=e.trim().toLowerCase(),n=t.trim().toLowerCase(),a=n.match(/^([^/]+)/),o=n.match(/\/([^/]+$)/),r=a?a[1].toString():"",s=o?o[1]:"";return i.split(/[\s,]+/g).some(e=>{if(e===n)return!0;const t=e.match(/^([^/]+)/),a=i.match(/\/([^/]+$)/),o=t?t[1]:"",l=a?a[1]:"";return!(r!==o&&"*"!==o||s!==l&&"*"!==l)})},t.parseTags=function(e){return e.toLowerCase().replace(/\s{2,}/,"").replace(/[^\wа-яё ,-]/g,"").slice(0,250).split(/\s*,\s*/).map(e=>e.slice(0,25))},t.makeTitleForAllChannelsPage=function(e){return e?"0-9"===e?(0,a.lang)('a7237aec'):`${(0,a.lang)('edac9e3f')} ${e.slice(0,1)}`:(0,a.lang)('10e004de')},t.firstFrameGif=t.hasUrlProtocol=t.isValidEmail=t.isIframe=t.isImageFormat=t.isUrl=t.REG_EXP_URLS_TEXT=t.isProfileFill=t.downloadBlob=void 0;var n=i(60),a=i(8);t.downloadBlob=((e,t,i)=>{const n=new Blob(e,{type:t});if(navigator.msSaveOrOpenBlob)return void navigator.msSaveOrOpenBlob(n,i);const a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=i,o.target="_blank",document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(a)}),t.isProfileFill=(e=>!!(e&&e.name&&e.agreement&&e.privateData.phone)),t.REG_EXP_URLS_TEXT=/(?:^|\s)(ftp|https?):\/\/(\w+:{0,1}\w*@)?(\S*?)(:[0-9]+)?[\wа-яё-]+\.[\wа-яё]+(\/|\/([\wа-яё#!:.?+=&%@!*~)(\-/]+))?(?:$|\s)/gi;const o=/^(ftp|https?):\/\/(\w+:{0,1}\w*@)?(\S*?)(:[0-9]+)?[\wа-яё-]+\.[\wа-яё]+(\/|((\/)|(\?))([\wа-яё#!:.,;?+=&%@!*~{}$)(\]\[\-\/]+))?$/i;t.isUrl=(e=>o.test(e));const r=/\.(jpe?g|png|gif)$/;t.isImageFormat=(e=>r.test(e));const s=/^\s*<iframe[^>]+?src[^>]+?>[\s\S]*?<\/iframe>\s*$/;t.isIframe=(e=>s.test(e)),t.isValidEmail=(e=>/^[^@\s]+@[^@\s]+$/.test(e));const l=e=>/^(ftp|https?):\/\//i.test(e);t.hasUrlProtocol=l,t.firstFrameGif=(e=>new Promise((t,i)=>{const n=document.createElement("img");n.addEventListener("load",()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const i=e.getContext("2d");i&&(i.drawImage(n,0,0),e.toBlob(t,"image/jpeg","0.8"))}),n.addEventListener("error",i),n.src=e}))},,function(e,t,i){"use strict";function n(){return d.mainYaCounter}function a(){return d.commonYaCounter}function o(e,t){try{t().reachGoal(e)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.reachGoal=function(e){o(e,n)},t.reachCommonGoal=function(e){o(e,a)},t.sendAuthorParams=function(e){let t;const i=()=>!!(t=d.customPublisherYaCounter)&&(t.params(e),!0);i()||(0,r.wait)(3e3).then(i)},t.sendMainParams=function(e){let t;const i=()=>!!(t=n())&&(t.params(e),!0);i()||(0,r.wait)(3e3).then(i)},t.getCampaignMetrikaCounter=t.getMobileEditorMetrikaCounter=void 0;var r=i(20),s=i(10),l=i(261),c=i(193);const d=(0,s.getLocalWindow)(),u=()=>d.Ya?Promise.resolve(d.Ya.Metrika2):(0,r.wait)(1e3).then(u);t.getMobileEditorMetrikaCounter=(()=>{const e=c.MetrikaCounterId.editor.toString();return Promise.resolve({hit:(t,i)=>(0,l.hit)(e,t,i),hitExt:l.hitExt,reachGoal:(t,i)=>(0,l.reachGoal)(e,t,i),extLink:(t,i)=>(0,l.extLink)(e,t,i),file:(t,i)=>(0,l.file)(e,t,i),userVars:t=>(0,l.userVars)(e,t),notBounce:()=>(0,l.notBounce)(e)})}),t.getCampaignMetrikaCounter=(()=>(e=>u().then(t=>new t(e)))({id:c.MetrikaCounterId.campaigns,clickmap:!1,trackLinks:!1,trackHash:!1,defer:!0,params:{}}))},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getZenKitApi=t.withZenKitApi=void 0;var a=n(i(11)),o=i(191),r=i(36),s=i(10);const l=(0,s.getLocalWindow)();t.withZenKitApi=(e=>{const t=c();return t&&e(t),{else:e=>{if(!t)return e()}}});const c=(()=>{let e;return()=>(0,r.isZenApp)()&&!s.isSSR?(e||(e=new class{createLaunchOptions(){return l&&l.ZENKIT_LAUNCH_OPTIONS?l.ZENKIT_LAUNCH_OPTIONS:new Promise(e=>l?l.ZENKIT_LAUNCH_OPTIONS={resolve:e}:void 0)}constructor(){(0,a.default)(this,"lastArticleState",{}),(0,a.default)(this,"eventFeedbackChange",new o.EventDispatcher),(0,a.default)(this,"eventSubscribeChange",new o.EventDispatcher),this.zenKit=l.ZENKIT,this.launchOptionsPromise=this.createLaunchOptions().then(e=>(l&&(this.zenKit=l.ZENKIT),this.handlers(),e))}supportsNewApi(){return Boolean(this.zenKit&&this.zenKit.on)}isZenkitAvailable(e){return Boolean(e.zenkitApiAvailable)}async handlers(){const e=await this.getLaunchOptions();this.zenKit&&this.zenKit.on&&this.isZenkitAvailable(e)&&this.zenKit.on("articleUpdate",e=>{e.feedback&&e.feedback!==this.lastArticleState.feedback&&this.eventFeedbackChange.emit({feedback:e.feedback}),e.channelSubscription&&e.channelSubscription!==this.lastArticleState.channelSubscription&&this.lastArticleState.publisherItemId&&this.eventSubscribeChange.emit({changedItemId:this.lastArticleState.publisherItemId,subscribeStatus:e.channelSubscription}),this.lastArticleState=Object.assign(this.lastArticleState,e)})}getLaunchOptions(){return this.launchOptionsPromise}browser(e,t,i=!1){return this.getLaunchOptions().then(n=>this.zenKit?this.zenKit.navigate("BROWSER",{url:i&&n.APIDomain?n.APIDomain+e:e,requireUserData:t}):Promise.resolve())}close(){return this.getLaunchOptions().then(()=>this.zenKit?this.zenKit.close():Promise.resolve())}isArticleStateComplete(){return void 0!==this.lastArticleState.channelSubscription&&void 0!==this.lastArticleState.feedback&&void 0!==this.lastArticleState.publisherItemId&&void 0!==this.lastArticleState.publicationItemId}safeUpdateZenKitArticleState(){return this.getLaunchOptions().then(e=>{this.zenKit&&this.zenKit.articleUpdate&&this.isZenkitAvailable(e)&&this.isArticleStateComplete()&&this.zenKit.articleUpdate(this.lastArticleState)})}articleUpdate(e,t,i){return this.lastArticleState={...this.lastArticleState,...i,publisherItemId:e,publicationItemId:t},this.safeUpdateZenKitArticleState()}channelSubscriptionChange(e,t){if(!this.lastArticleState.publisherItemId||e===this.lastArticleState.publisherItemId)return this.lastArticleState.channelSubscription=t,this.lastArticleState.publisherItemId=e,this.safeUpdateZenKitArticleState()}feedbackChange(e,t){if(!this.lastArticleState.publicationItemId||e===this.lastArticleState.publicationItemId)return this.lastArticleState.feedback=t,this.lastArticleState.publicationItemId=e,this.safeUpdateZenKitArticleState()}share(e,t,i){return this.getLaunchOptions().then(n=>{this.zenKit&&this.zenKit.share&&this.isZenkitAvailable(n)&&this.zenKit.share({title:e,description:i,url:t})})}onScrollToComments(e){return this.getLaunchOptions().then(t=>{this.zenKit&&this.zenKit.on&&this.isZenkitAvailable(t)&&this.zenKit.on("scrollToComments",e)})}onComplain(e){return this.getLaunchOptions().then(t=>{this.zenKit&&this.zenKit.on&&this.isZenkitAvailable(t)&&this.zenKit.on("complain",e)})}emitClickInWebView(){this.zenKit&&this.zenKit.emitClickInWebView&&this.zenKit.emitClickInWebView()}onPageStatusChanged(e){this.zenKit&&this.zenKit.onPageStatusChange&&this.zenKit.onPageStatusChange(e)}onPageComplete(){this.zenKit&&this.zenKit.onPageComplete&&this.zenKit.onPageComplete()}}),e):null})();t.getZenKitApi=c},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignFlightFormDataTab=t.CampaignFlightFields=void 0;let n;t.CampaignFlightFields=n,function(e){e.campaignId="campaignId",e.campaignName="campaignName",e.dateFullRead="dateFullRead",e.dateShow="dateShow",e.tab="tab",e.readingCost="readingCost",e.videoS2sCost="videoS2sCost",e.videoFullViewCost="videoFullViewCost",e.geoTargeting="geoTargeting",e.deviceTargeting="deviceTargeting",e.ios="ios",e.android="android",e.desktop="desktop",e.deviceTargetingIos="deviceTargeting.ios",e.deviceTargetingAndroid="deviceTargeting.android",e.deviceTargetingDesktop="deviceTargeting.desktop",e.sexTargeting="sexTargeting",e.male="male",e.female="female",e.sexTargetingMale="sexTargeting.male",e.sexTargetingFemale="sexTargeting.female",e.ageTargeting="ageTargeting",e.maxCoverage="maxCoverage",e.maxBudget="maxBudget",e.withLimitedMoney="withLimitedMoney",e.withLimitedDailyMoney="withLimitedDailyMoney",e.maxMoney="maxMoney",e.maxDailyMoney="maxDailyMoney",e.forecastDurationKey="forecastDurationKey"}(n||(t.CampaignFlightFields=n={}));let a;t.CampaignFlightFormDataTab=a,function(e){e.involvement="involvement",e.coverage="coverage",e.videoS2S="video-s2s",e.videoFullview="video-fullview"}(a||(t.CampaignFlightFormDataTab=a={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorNotification=void 0;var n=i(48),a=i(262),o=i(56);t.errorNotification=(e=>t=>{t((0,n.addNotification)(o.NotificationErrorType.error,(0,a.getErrorMessage)(null===e||void 0===e?void 0:e.type)))})},function(e,t,i){"use strict";function n(e,t){return{type:f.GalleryContentType.single,items:(null===t||void 0===t?void 0:t.map(e=>({localImageURL:e,status:f.GalleryImageStatus.process})))||[],baseAspectRatio:e}}function a({content:e}){if(!e)return!1;const{blocks:t}=e;return(0,m.isEditorWithText)(t)}function o(e,t=[]){return(Array.isArray(e)?e:r(e,!1)).filter((e,i)=>!t.includes(i)).some(e=>a(e))}function r(e,t,i){const{contentState:n}=e.content.articleContent;return n.items.map(({imageId:e,content:n,localImageURL:a,crop:o,status:r})=>({image:a||(e?(0,d.getAvatarsUrl)(e,"scale_1200",i):""),content:n,crop:o,status:r||f.GalleryImageStatus.success,preview:t&&e?(0,d.getAvatarsUrl)(e,"scale_360",i):void 0}))}function s(e,t){return t?Array.isArray(t)?[...e,...t.map(e=>({localImageURL:e,status:f.GalleryImageStatus.process}))]:(e.forEach(e=>{if(!e.localImageURL)return;const i=t[e.localImageURL];if(i)return e.imageId={id:i},void(e.status=f.GalleryImageStatus.success);null===i&&(e.status=f.GalleryImageStatus.error)}),e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.getGallery=function(e){const{contentState:t,galleryAspectRatio:i}=e.content.articleContent,a=t?JSON.parse(t,(e,t)=>"content"===e?JSON.parse(t):t):n("ratio-1x1");return{...e,content:{...e.content,articleContent:{contentState:{...a,baseAspectRatio:a.baseAspectRatio||"ratio-1x1"},galleryAspectRatio:i}}}},t.getGalleryDescriptionCount=function(e){return e.reduce((e,t)=>a(t)?e+1:e,0)},t.getInitialGalleryContentState=n,t.hasGalleryContentStateItemText=a,t.hasGalleryText=o,t.getGalleryItemsData=r,t.getGallerySettingsUrl=function(e){return`/gallery-editor/${e}/settings/`},t.getGalleryPlaceholder=function(e){const t=o(e);return(e.reduce((e,t)=>t.content?e+1:e,0)>1?f.GalleryContentType.multi:f.GalleryContentType.single)===f.GalleryContentType.single&&t?(0,u.lang)('d9e51af7'):(0,u.lang)('2c707234')},t.getGallerySubsetItemsData=function(e,t,i){const n={};return t.forEach(e=>{const t=(0,p.getImageIdByUrl)(e.image);t&&(n[t]=e.image)}),e.map(({imageId:e,content:t,localImageURL:a,crop:o,status:r})=>({image:a||(e?n[e.id]?n[e.id]:(0,d.getAvatarsUrl)(e,"scale_1200",i):""),content:t,crop:o,status:r||f.GalleryImageStatus.success}))},t.deleteUploadedImages=function(e,t){const i=[];return e.forEach(e=>{t.includes(e)||i.push(e)}),i},t.getGalleryContentStateItems=s,t.getUpdatedContentState=function(e,t){const i=e.content.articleContent.contentState;return{type:i.type||f.GalleryContentType.single,items:s(i.items,t),baseAspectRatio:i.baseAspectRatio}},t.preparedGalleryContentState=function(e){const t=[];return e.items.forEach(e=>{e.imageId&&t.push({imageId:e.imageId,crop:e.crop,content:a(e)?JSON.stringify(e.content):void 0})}),JSON.stringify({...e,items:t})},t.getGallerySize=function(e){return e.content.articleContent.contentState.items.filter(e=>Boolean(e.imageId)).length},t.galleryNotSavedImagesCount=function(e){return e.content.articleContent.contentState.items.reduce((e,{status:t})=>t!==f.GalleryImageStatus.success&&void 0!==t?e+1:e,0)},t.isGalleryEmpty=function(e){return!e.content.articleContent.contentState.items.some(e=>e.imageId)},t.getImageSuitable=async function(e){const t=await Promise.all(e.map(async e=>{try{const t=await new Promise((t,i)=>{const n=new Image;n.onload=(async()=>{t(n.width)}),n.src=e.URL,n.onerror=(()=>{i()})});return e.file.size<b&&t>=_&&v.includes(e.file.type)}catch(e){return!1}}));return e.filter((e,i)=>t[i])},t.getGalleryCroppedImagesMap=async function(e){return await e.reduce(async(e,t)=>{var i,n;const a=await e,{crop:o,imageId:r}=t;if(!o||!r)return a;const s=(0,d.getAvatarsUrl)(r,"scale_1200"),c=null===(i=(0,d.getImageData)(r.id))||void 0===i?void 0:null===(n=i.meta)||void 0===n?void 0:n.origFormat,u=c?(0,p.imageFormatToMimeType)(c,"image/jpeg"):"image/jpeg";return a.push({id:r.id,blob:await(0,l.applyCropToSrcImage)(s,o,{k:g,type:u})}),a},Promise.resolve([]))},t.getGalleryOpenCount=async function(){try{const e=String(await h.IDB.get(y)||0);return parseInt(e,10)}catch(e){return 1/0}},t.getGalleryPageContent=function(e){const{contentState:t}=e.content.articleContent,i=C(JSON.parse(t,(e,t)=>"content"===e?JSON.parse(t):t));return{...e,content:{...e.content,articleContent:{contentState:i}}}},t.parseGallery=t.parseRichText=t.getNextAspectRatio=t.getAspectRatioHeight=t.getTheBestContainer=t.getAspectRatioSize=t.getAspectTransitionType=t.aspectTransitions=t.getGalleryAspectRatio=t.GALLERY_EDITOR_TIPS_MAX_COUNT=t.GALLERY_EDITOR_OPEN_COUNT=t.GALLERY_SAVE_AFTER_CHANGE_ORDER_TIMEOUT=t.GALLERY_MAX_IMAGE_RESOLUTION=t.GALLERY_MAX_IMAGE_SIZE=t.GALLERY_PREVIEW_COUNT=t.GALLERY_QUALITY_FACTOR=t.GALLERY_SAVE_TIME=t.GALLERY_ALLOWED_MIME_TYPES=t.GALLERY_MAX_TAGS_COUNT=t.GALLERY_MAX_SPACE_COUNT=t.GALLERY_MAX_TEXT_WARNING_COUNT=void 0;var l=i(160),c=i(257),d=i(128),u=i(8),p=i(23),m=i(81),h=i(192),f=i(129);t.GALLERY_MAX_TEXT_WARNING_COUNT=4,t.GALLERY_MAX_SPACE_COUNT=3,t.GALLERY_MAX_TAGS_COUNT=5,t.GALLERY_ALLOWED_MIME_TYPES="image/png,image/jpeg,image/bmp,image/x-ms-bmp",t.GALLERY_SAVE_TIME=1e3;const g=5;t.GALLERY_QUALITY_FACTOR=g,t.GALLERY_PREVIEW_COUNT=4;const b=5242880;t.GALLERY_MAX_IMAGE_SIZE=b;const _=300;t.GALLERY_MAX_IMAGE_RESOLUTION=_;const v=["image/png","image/jpeg","image/bmp","image/x-ms-bmp"];t.GALLERY_SAVE_AFTER_CHANGE_ORDER_TIMEOUT=800;const y="gallery-open-count";t.GALLERY_EDITOR_OPEN_COUNT=y,t.GALLERY_EDITOR_TIPS_MAX_COUNT=2,t.getGalleryAspectRatio=(async e=>new Promise(t=>{const i=new Image;i.onload=(()=>{const e=P(i.width,i.height);t(e)}),i.src=e}));const S={"ratio-16x9":"ratio-1x1","ratio-4x3":"ratio-1x1","ratio-1x1":"ratio-4x5","ratio-4x5":"ratio-1x1"};t.aspectTransitions=S,t.getAspectTransitionType=((e,t)=>{const i=I(e),n=I(t);return i.height/i.width>n.height/n.width?"reduce":"increase"});const I=e=>{switch(e){case"ratio-1x1":return{width:1,height:1};case"ratio-4x3":return{width:4,height:3};case"ratio-4x5":return{width:4,height:5};case"ratio-16x9":return{width:16,height:9}}};t.getAspectRatioSize=I;const T=["ratio-1x1","ratio-4x3","ratio-4x5","ratio-16x9"],P=(e,t)=>T.reduce(({aspectRatio:i,minArea:n},a)=>{const o=((e,t)=>{const i=I(a),n=e.width/i.width,o=n*i.width*n*i.height,r=e.width*e.height-o;return e.width*e.height*Math.abs(1-r)})({width:e,height:t});return n>o?{aspectRatio:a,minArea:o}:{aspectRatio:i,minArea:n}},{aspectRatio:"ratio-1x1",minArea:1/0}).aspectRatio;t.getTheBestContainer=P,t.getAspectRatioHeight=(e=>{const t=I(e);return`${100*t.height/t.width}%`}),t.getNextAspectRatio=((e,t)=>e===t?S[t]:t);const E=({json:e,length:t})=>({json:e,length:t});t.parseRichText=E;const C=e=>({items:(e=>Array.isArray(e)?e.reduce((e,t)=>{const i=(e=>{switch(e.type){case"image":return(e=>({image:(e=>({width:e.width,height:e.height,link:e.link,preview:e.preview,blurredLink:e.blurred_link}))(e.image),galleryText:e.rich_text&&(0,c.convertHtmlJsonToGalleryJsonText)(E(e.rich_text).json),mainColor:e.main_color,hasBadImage:e.has_bad_image,hasBadText:e.has_bad_text,type:"image"}))(e);default:return null}})(t);return null!==i&&e.push(i),e},[]):[])(e.items),galleryText:e.rich_text&&(0,c.convertHtmlJsonToGalleryJsonText)(E(e.rich_text).json),pixels:e.pixels,hasBadText:e.has_bad_text,initialIndex:0});t.parseGallery=C},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignPublicationStatus=t.SwipeToSiteDesign=t.CampaignStatus=t.CampaignType=t.CampaignsIntervalFilterValue=t.SwipeToSiteOSTargeting=void 0;var n=i(29);let a;t.SwipeToSiteOSTargeting=a,function(e){e.mobileUnknown="mobile-unknown",e.ios="ios",e.android="android",e.desktop="desktop"}(a||(t.SwipeToSiteOSTargeting=a={}));let o;t.CampaignsIntervalFilterValue=o,function(e){e.total="total",e.fourWeeks="fourWeeks",e.week="week",e.yesterday="yesterday",e.today="today"}(o||(t.CampaignsIntervalFilterValue=o={}));let r;t.CampaignType=r,function(e){e[e.fullRead=n.FlightType.fullRead]="fullRead",e[e.cpm=n.FlightType.cpm]="cpm",e[e.videoFullView=n.FlightType.videoFullView]="videoFullView",e[e.videoS2S=n.FlightType.videoS2S]="videoS2S"}(r||(t.CampaignType=r={}));let s;t.CampaignStatus=s,function(e){e.scheduled="scheduled",e.active="active",e.stopped="stopped",e.finished="finished",e.limitsReached="limits_reached",e.declined="declined"}(s||(t.CampaignStatus=s={}));let l;t.SwipeToSiteDesign=l,function(e){e.design4="4",e.design9="9",e.design11="11"}(l||(t.SwipeToSiteDesign=l={}));let c;t.CampaignPublicationStatus=c,function(e){e.deleted="deleted",e.moderatinCancelled="moderation-declined",e.awaitingModeration="awaiting-moderation",e.draft="draft",e.noSwipeToSite="no-swipe-to-site",e.isExpired="is-expired"}(c||(t.CampaignPublicationStatus=c={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBy=t.BeruModelsVariants=t.BeruCardVariants=t.SelectionVariants=t.WhereToBuyVariants=t.ConstructorMode=t.YandexMarketWidgetGoal=t.YandexMarketWidgetType=t.YandexMarketThemeId=t.MarketWidgetEditStatus=t.ProductPlatform=void 0;let n;t.ProductPlatform=n,function(e){e.market="market",e.beru="beru",e.joom="joom"}(n||(t.ProductPlatform=n={}));let a;t.MarketWidgetEditStatus=a,function(e){e.CODE="code",e.CONSTRUCTOR="constructor",e.DISABLED="disabled"}(a||(t.MarketWidgetEditStatus=a={}));let o;t.YandexMarketThemeId=o,function(e){e[e.PRODUCT_AND_FEED=1]="PRODUCT_AND_FEED",e[e.OFFER_LIST_AND_PRODUCT=2]="OFFER_LIST_AND_PRODUCT",e[e.OFFER_FEED=3]="OFFER_FEED",e[e.OFFER_LIST_FULL=4]="OFFER_LIST_FULL",e[e.OFFER_LIST_BRIEF=9]="OFFER_LIST_BRIEF",e[e.OFFER_LIST_WITH_IMAGES=10]="OFFER_LIST_WITH_IMAGES"}(o||(t.YandexMarketThemeId=o={}));let r;t.YandexMarketWidgetType=r,function(e){e.CONSTRUCTOR="constructor",e.MODELS="models",e.OFFERS="offers",e.BERU_MODELS="beruModels",e.BERU_OFFERS="beruOffers"}(r||(t.YandexMarketWidgetType=r={}));let s;t.YandexMarketWidgetGoal=s,function(e){e.INIT="market_widget_init",e.LOAD="market_widget_load",e.SHOW="market_widget_show",e.CLICK="market_widget_click"}(s||(t.YandexMarketWidgetGoal=s={}));let l;t.ConstructorMode=l,function(e){e.SIMPLE="simple",e.ADVANCED="advanced"}(l||(t.ConstructorMode=l={}));let c;t.WhereToBuyVariants=c,function(e){e.OFFERS1="offers1",e.OFFERS2="offers2",e.OFFERS3="offers3",e.OFFERS4="offers4",e.OFFERS9="offers9",e.OFFERS10="offers10"}(c||(t.WhereToBuyVariants=c={}));let d;t.SelectionVariants=d,function(e){e.MODELS1="models1",e.MODELS2="models2",e.MODELS4="models4"}(d||(t.SelectionVariants=d={}));let u;t.BeruCardVariants=u,function(e){e.OFFERS1="beruOffers1",e.OFFERS2="beruOffers2"}(u||(t.BeruCardVariants=u={}));let p;t.BeruModelsVariants=p,function(e){e.MODELS1="beruModels1",e.MODELS2="beruModels2"}(p||(t.BeruModelsVariants=p={}));let m;t.SearchBy=m,function(e){e.TEXT="text",e.MODEL_IDS="modelIds",e.SKU_IDS="skuIds",e.IMAGE_URL="imageUrl",e.SELECTOR="selector"}(m||(t.SearchBy=m={}))},,function(e,t,i){"use strict";function n(){return u.default.data&&"experiments"in u.default.data?u.default.data.experiments:void 0}function a(e){return{shouldRender:"ordinary"===e,activeClid:c.zenlibClid}}function o(e,t,i){return(!t||i&&i)&&e}var r=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getExperiments=n,t.getExperimentsString=function(){const e=n();return e&&e.context?e.context.group:void 0},t.getFeedConfig=a,t.shouldRenderMobileFeed=o,t.narrativeAdScreenLimit=t.shouldRenderCommentsDisabledMessage=t.commentsDisabledMessageWithSmallMargins=t.referrerClidResetTimeoutControl=t.headerLogoHasNoLinks=t.socialsRightBlock=t.s2sDesign4TopThreshold=t.useNewViewInSocials=t.adfoxFullscreenTargetName=t.adfoxSmartTargetName=t.adfoxStartWithFullscreen=t.adfoxSmartEnabled=t.adfoxSmartCloseExpire=t.adfoxFullscreenAfterFullReadByUtmSource=t.adfoxFullscreenDelayEnabled=t.adfoxFullscreenDelayToFirstShow=t.adfoxFullscreenCloseExpire=t.useImageSlides=t.recalculateExperimentsValues=t.feedExpStatus=t.getRawContent=void 0;var s=i(36),l=i(60),c=i(39),d=i(135),u=r(i(10)),p=i(47),m=i(27);const h=Math.random()<.5;t.getRawContent=(e=>{const t=(0,p.getRawContent)(e);return h?(t.blocks.forEach(e=>{const t=(0,l.get)(e,"data.embedData");if(t&&"yandex-direct"===t.type&&"R-I-216651-8"===t.blockId){t.blockId="R-I-216651-9";const e=document.getElementById("yandex_rtb_R-I-216651-8");e&&(e.id="yandex_rtb_R-I-216651-9")}}),t):t});const f=u.default.data||{},{feedExpStatus:g}=f,b=(e="",t)=>t&&(0,d.getExperimentValue)(e,t),_=g;t.feedExpStatus=_;let v={};const y=(e=n())=>{var t,i;const r=Number(b("referrer_clid_reset_timeout_value",e)),l=t=>b(t,e),u=(t,i)=>((t="",i,n)=>{const a=b(t,e);if(void 0===a)return i;const o=Number.parseInt(a,10);return Number.isNaN(o)?i:o})(t,i),p=t=>((e="",t)=>{const i=t&&(0,d.getExperimentValue)(e,t);return i?Number(i):void 0})(t,e),h=t=>{const i=b(t,e);return i?i.split(/\s*,\s*/):[]};return v={isMobileFeedEnabled:o((0,d.isTrue)(l("mobile_article_feed_enabled")),"undefined"!=typeof window&&(0,s.isZenApp)(),c.allowZenappArticleFeed),feedLoadingTriggerTopOffset:l("feed_loading_trigger_top_offset"),useImageSlides:(0,d.isTrue)(l("narrative_slide_images_enabled")),showBackButton:(0,d.isTrue)(l("show_back_button")),adfoxFullscreenCloseExpire:u("adfox_fullscreen_close_expire",14),adfoxFullscreenDelayToFirstShow:u("adfox_fullscreen_delay_to_first_show",1),adfoxFullscreenDelayEnabled:(0,d.isTrue)(l("adfox_fullscreen_delay_enabled")),adfoxFullscreenAfterFullReadByUtmSource:l("adfox_fullscreen_after_full_read_by_utm_source"),adfoxSmartCloseExpire:u("adfox_smart_close_expire",7),adfoxDisabledCloseExpire:u("adfox_disabled_close_expire",1),adfoxSmartEnabled:(0,d.isTrue)(l("adfox_smart_enabled")),adfoxStartWithFullscreen:(0,d.isTrue)(l("adfox_start_with_fullscreen")),adfoxSmartTargetName:l("adfox_smart_target_name"),adfoxFullscreenTargetName:l("adfox_fullscreen_target_name"),turnOffComments:(0,d.isTrue)(l("turn_off_comments")),useNewViewInSocials:(0,d.isTrue)(l("new_article_share")||c.profileLinksEnabled),feedExpConfigByTags:a(_),scrollToAppExpireTime:Number(l("scroll_to_app_expire_time")),s2sDesign4TopThreshold:Number(l("s2s_design_4_top_threshold")),s2sTimer:p("s2s_timer")||0,adArticleS2STimer:p("ad_article_s2s_timer")||0,adArticleButtonsPreviewHeight:p("ad_article_buttons_preview_height")||.7,adArticleButtonsPreviewText:l("ad_article_buttons_preview_text"),adArticleHideFirstImage:(0,d.isTrue)(l("ad_article_hide_first_image")),hideSimilarPublications:(0,d.isFalse)(l("similar_publications_enabled")),socialsRightBlock:h("socials_right_block"),socialsBottomMobile:h("socials_article_bottom_mobile"),socialsBottomDesktop:h("socials_article_bottom_desktop"),socialsFooterMobile:h("socials_mobile_footer"),smsPopupEnabled:(0,d.isTrue)(l("sms_popup_enabled")),smsPopupIsForceShow:(0,d.isTrue)(l("sms_popup_is_force_show")),smsPopupForceShowExpire:u("sms_popup_force_show_expire",14),appButtonEnabled:(0,d.isTrue)(l("app_button_enabled")),appButtonCloseTimeout:u("app_button_close_timeout",0),appButtonYellow:(0,d.isTrue)(l("app_button_yellow")),appButtonUrl:l("app_button_url")||"https://redirect.appmetrica.yandex.com/serve/890788333528096282",headerLogoHasNoLinks:(0,d.isFalse)(l("logo_link_enabled")),referrerClidResetTimeoutValue:isNaN(r)?void 0:r,referrerClidResetTimeoutControl:(0,d.isTrue)(l("referrer_clid_reset_timeout_control")),clidResetTimeoutValue:r,socialsBottomMobileViber:h("socials_article_bottom_mobile_for_viber"),socialsFooterMobileViber:h("socials_mobile_footer_for_viber"),socialsFooterMobileViberIos:h("socials_mobile_footer_for_viber_ios"),socialsNewArticleSide:h("socials_article_redesign_side"),socialsNewArticleBottom:h("socials_article_redesign_bottom"),commentsDisabledMessageWithSmallMargins:(0,d.isTrue)(l("disabled_comments_message_min_margins")),shouldRenderCommentsDisabledMessage:(0,d.isTrue)(l("disabled_comments_message_enabled")),socialsBottomBlockHidden:(0,d.isTrue)(l("bottom_share_block_hidden")),subscribeLoginPopupMessage:l("subscribe_login_popup_message"),likeLoginPopupMessage:l("like_login_popup_message"),replaceMobileLikesWithAvatars:(0,d.isTrue)(l("mobile_article_replace_likes_with_avatars")),showInterestTags:(0,d.isTrue)(l("old_article_show_new_tags")),articleRedesignMovedSimilar:(0,d.isTrue)(l("article_redesign_moved_similar")),articleRedesignMovedBothSimilar:(0,d.isTrue)(l("article_redesign_moved_both_similar")),viewStatEndTriggerShift:p("view_stat_end_trigger_shift"),marginForLazyLoadSimilarArticles:p("margin_for_lazy_load_similar_articles"),fullReadDelay:u("full_read_delay",0),articleMittensAnimationTimeout:u("article_mittens_animation_minutes_timeout",2629743),articleMobileMittensAnimationTimeout:u("article_mobile_mittens_animation_minutes_timeout",2629743),blocksWithNonLazyGifsCount:u("article_blocks_with_non_lazy_gifs_count",Number.MAX_SAFE_INTEGER),isVideoSettingsEnabled:(0,d.isTrue)(l("is_video_settings_enabled")),narrativeAdScreenLimit:p("narrativeAdScreenLimit"),useLSForS2SEvents:(0,d.isTrue)(l("use_ls_for_s2s_events")),isArticleCallToActionEnabled:(0,d.isTrue)(l("is_article_call_to_action_enabled")),articleCallToActionShowTime:u("article_call_to_action_show_percent",30),articleCallToSubscribe:{isEnabled:(0,d.isTrue)(l("article_call_to_subscribe_enabled")),appearanceMode:null!==(t=l("article_call_to_subscribe_appearance_mode"))&&void 0!==t?t:m.CallToActionAppearanceMode.standard,articleCallToSubscribeShowTime:u("article_call_to_subscribe_show_percent",80),hideElement:l("article_call_to_subscribe_hide_element")},mobileArticleCallToSubscribe:{isEnabled:(0,d.isTrue)(l("mobile_article_call_to_subscribe_enabled")),appearanceMode:null!==(i=l("mobile_article_call_to_subscribe_appearance_mode"))&&void 0!==i?i:m.CallToActionAppearanceMode.standard,articleCallToSubscribeShowTime:u("mobile_article_call_to_subscribe_show_percent",80),hideElement:l("mobile_article_call_to_subscribe_hide_element"),shortArticleDefaultBottomBubbleComponent:l("mobile_article_call_to_subscribe_short_article_default")||m.ShortArticleDefaultBottomBubbleComponent.app},articleRightAdBlockId:l("article_right_ad_block.block_id"),similarPublisherLinksCount:p("article_right_ad_block.right_column_publsher_link_count"),interestSuggestedLinksCount:p("article_right_ad_block.right_column_similar_link_count"),articleCommentsAdBlockId:l("banner_at_comments.block_id"),shouldCollapseTags:(0,d.isTrue)(l("article_right_ad_block.collapse_tags")),mobileArticleBottomRedisign:(0,d.isTrue)(l("article_right_ad_block.new_design_mobile")),revealedTagsLazyCount:p("article_right_ad_block.tags_count"),mobileSubscrieSocialButton:(0,d.isTrue)(l("article_right_ad_block.mobile_subscribe_button")),removeMobileBottomBlockLikes:(0,d.isTrue)(l("article_right_ad_block.remove_likes_count_mobile")),isDesktopArticleTagsBlockHidden:(0,d.isTrue)(l("is_desktop_article_tags_block_hidden")),isMobileArticleTagsBlockHidden:(0,d.isTrue)(l("is_mobile_article_tags_block_hidden")),isDesktopArticleBottomSocialBlockHidden:(0,d.isTrue)(l("is_desktop_article_bottom_social_block_hidden")),isMobileArticleBottomSocialBlockHidden:(0,d.isTrue)(l("is_mobile_article_bottom_social_block_hidden")),adCustomGrabOn:(0,d.isTrue)(l("ad_custom_grab_on")),socialShareShortLink:(0,d.isTrue)(l("social_share_short_link")),adArticleLabel:{text:l("article_ad_label.text"),color:l("article_ad_label.color"),href:l("article_ad_label.href")},articleUnderArticleLabel:{text:l("article_under_article_label.text"),color:l("article_under_article_label.color"),href:l("article_under_article_label.href")},isHeaderAvatarUploadable:(0,d.isTrue)(l("pubs_header_upload_avatar")),socialsBottomDesktopWithSubscription:(0,d.isTrue)(l("article_right_ad_block.new_likes_design_desktop")),isDesktopArticleHeaderPlaceholderExp:(0,d.isTrue)(l("is_desktop_article_header_placeholder_exp")),isDesktopArticleHeaderPlaceholderV0Exp:(0,d.isTrue)(l("is_desktop_article_header_placeholder_v0_exp")),newLikesDesignDesktopSubscription:(0,d.isTrue)(l("article_right_ad_block.new_likes_design_desktop_subs")),newLikesDesignDesktopShare:h("article_right_ad_block.new_likes_design_desktop_share"),isHeaderMessengerEnabled:(0,d.isTrue)(l("header_messenger_enabled")),headerMessengerTimeout:u("header_messenger_timeout",3e4),isArticleEdaIntegration:(0,d.isTrue)(l("article_eda_integration")),messengerDevUrl:l("messenger_dev_url"),messengerSettingsLink:l("messenger_settings_link"),messengerUnreadUrl:l("messenger_unread_url"),fastCheckSubscriptionMaxWait:u("article_fast_check_subscription_max_wait",0),shouldUseGroupIdsInCommonStats:(0,d.isTrue)(l("use_group_ids_in_common_stats")),playerVersion:l("player_version"),onlySubscribersComment:(0,d.isTrue)(l("only_subscribers_comment")),isChatEnabled:(0,d.isTrue)(l("is_chat_enabled"))}};t.recalculateExperimentsValues=y,y();const{useImageSlides:S,adfoxFullscreenCloseExpire:I,adfoxFullscreenDelayToFirstShow:T,adfoxFullscreenDelayEnabled:P,adfoxFullscreenAfterFullReadByUtmSource:E,adfoxSmartCloseExpire:C,adfoxSmartEnabled:A,adfoxStartWithFullscreen:k,adfoxSmartTargetName:O,adfoxFullscreenTargetName:L,useNewViewInSocials:w,s2sDesign4TopThreshold:D,socialsRightBlock:R,headerLogoHasNoLinks:M,referrerClidResetTimeoutControl:N,commentsDisabledMessageWithSmallMargins:U,shouldRenderCommentsDisabledMessage:x,narrativeAdScreenLimit:B}=v;t.narrativeAdScreenLimit=B,t.shouldRenderCommentsDisabledMessage=x,t.commentsDisabledMessageWithSmallMargins=U,t.referrerClidResetTimeoutControl=N,t.headerLogoHasNoLinks=M,t.socialsRightBlock=R,t.s2sDesign4TopThreshold=D,t.useNewViewInSocials=w,t.adfoxFullscreenTargetName=L,t.adfoxSmartTargetName=O,t.adfoxStartWithFullscreen=k,t.adfoxSmartEnabled=A,t.adfoxSmartCloseExpire=C,t.adfoxFullscreenAfterFullReadByUtmSource=E,t.adfoxFullscreenDelayEnabled=P,t.adfoxFullscreenDelayToFirstShow=T,t.adfoxFullscreenCloseExpire=I,t.useImageSlides=S},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCachedDataLoadAction=function({loadedActionCreator:e,loadingAction:t,failedActionCreator:i}){const a=(0,n.createCachedDataLoader)();return(n,o,r)=>s=>(t&&s(t),a(n,o,r).then(({data:t})=>(s(e(t)),t)).catch(e=>(i&&s(i(e)),Promise.reject(e))))},t.checkUpdateResponse=function(e){const{errors:t}=e;if(t&&Array.isArray(t)&&t.length>0){const e=t.map(e=>e.message).join("; ");throw new Error(`An error has occurred while saving draft: ${e}`)}return e};var n=i(13)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMounted=void 0;var n=i(0);t.useMounted=(e=>{(0,n.useEffect)(e,[])})},,function(e,t,i){"use strict";function n(e,t){return e.slice(0,t)}function a(e,t,i,a){const{embeddedTags:o=[],tags:r=[],detectedTagsShown:s=!1}=t;if(a===h.PublicationContentType.gallery)return e.tagsInput={tags:r},e;const{maxTagEditorCount:l,maxTagPublicationCount:c}=i;return r.length>n(r,c).length?e:(e.tagsInput={tags:r,detectedTagsShown:s,embeddedTags:n(o,l)},e)}function o(e){return`/editor/${e}?back=true`}function r(e){return`/video-editor/${e}?back=true`}function s(e,t=!0){return`/gallery-editor/${e}${t?"?back=true":""}`}Object.defineProperty(t,"__esModule",{value:!0}),t.isPublishDisable=function(e,t,i){return!e||![m.EditorStatus.fine,m.EditorStatus.justSaved].includes(t)||(e.content.type===h.PublicationContentType.gallery?(0,u.isGalleryEmpty)(e)||(0,u.galleryNotSavedImagesCount)(e)>0:(0,l.getEmbeddedTags)(e).length>i)},t.getEditorStatusTitle=function(e,t=m.ConnectionStatus.online){const i={saving:(0,c.lang)('a6e04399'),uploading_image:(0,c.lang)('a6e04399'),just_saved:(0,c.lang)('3bf5a3cf'),fine:null,has_changes:(0,c.lang)('a6e04399'),offline:(0,c.lang)('4f75772f'),not_all_uploaded:(0,c.lang)('f8f6b718')};return t===m.ConnectionStatus.offline?(0,c.lang)('4f75772f'):i[e]},t.getPublicationIdFromUrl=function(e){return(e.split("/")[2]||"").split("?")[0]||void 0},t.getPublicationsUrl=function(e=m.FlagState.off){return`/publications/${"on"===e?p.PUBLICATIONS_GROUP_KEY.PROCESSING:p.PUBLICATIONS_GROUP_KEY.PUBLISHED}`},t.setTagsInput=a,t.getSaveDraftData=function(e,t){const{id:i,adsFlagState:n,commentsFlagState:o,alcoholTobaccoMentioned:r,delayedPublicationFlagState:s,requestedPublishTime:l,hasNativeAds:c,privateData:p,content:m,visibleComments:f}=e,{snippetFrozen:g=!1}=p||{},b={id:i,preview:e.content.type!==h.PublicationContentType.gallery?m.preview:void 0,snippetFrozen:g,adsFlagState:n,alcoholTobaccoMentioned:r,hasNativeAds:c,commentsFlagState:o,delayedPublicationFlagState:s,requestedPublishTime:l,visibleComments:f};switch(m.type){case h.PublicationContentType.video:b.gifContent=m.gifContent;break;case h.PublicationContentType.article:b.articleContent=m.articleContent;break;case h.PublicationContentType.gallery:b.articleContent={contentState:(0,u.preparedGalleryContentState)(m.articleContent.contentState),galleryAspectRatio:m.articleContent.galleryAspectRatio}}return!d.disableTagsWriting&&t&&p&&a(b,p,t,m.type),b},t.isEditionAllowed=function(e,t=!1){const{type:i}=e.content;return i===h.PublicationContentType.gallery||i===h.PublicationContentType.article||i===h.PublicationContentType.post||t&&i===h.PublicationContentType.video},t.getArticleUrl=o,t.getVideoUrl=r,t.getGalleryUrl=s,t.getMobileEditorPublicationUrl=function(e){const{type:t}=e.content;switch(t){case h.PublicationContentType.gallery:return s(e.id);case h.PublicationContentType.article:return o(e.id);case h.PublicationContentType.video:return r(e.id);default:return""}},t.isEditorWithText=function(e){return 0!==e.length&&e.some(e=>e.text)},t.onInternetOff=function(e){e.showNotification({message:(0,c.lang)('609fb693'),mode:m.MobileNotificationMode.closable,type:m.MobileNotificationType.fail,timeout:0,id:(0,c.lang)('609fb693')})},t.onInternetOn=function(e){e.hide((0,c.lang)('609fb693'))},t.NOTIFICATION_BOTTOM_OFFSET=void 0;var l=i(145),c=i(8),d=i(39),u=i(72),p=i(106),m=i(29),h=i(27);t.NOTIFICATION_BOTTOM_OFFSET=64},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNoBreakingSpaces=function(e){const t=String.fromCharCode(160);return e.replace(/&nbsp;/gi,t)}},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;const n={leading:!1,trailing:!0,maxWait:0};t.debounce=((e,t=0,i=n)=>{function a(...e){const i=Date.now(),n=b(i);if(c=e,d=this,m=i,n){if(void 0===p)return g(m);if(l)return p=setTimeout(_,t),f(m)}return void 0===p&&(p=setTimeout(_,t)),u}const{leading:o=n.leading,trailing:r=n.trailing}=i,s=Math.max(i.maxWait||n.maxWait,t),l=Boolean(i.maxWait);let c,d,u,p,m=0,h=0;const f=t=>{const i=c,n=d;return c=d=void 0,h=t,u=e.apply(n,i||[])},g=e=>(h=e,p=setTimeout(_,t),o?f(e):u),b=e=>{const i=e-m;return void 0===m||i>=t||i<0||l&&e-h>=s},_=()=>{const e=Date.now();if(b(e))return v(e);p=setTimeout(_,(n=>{const a=e-h,o=t-(e-m);return i.maxWait?Math.min(o,s-a):o})())},v=e=>(p=void 0,r&&c?f(e):(c=d=void 0,u));return a.cancel=(()=>{void 0!==p&&clearTimeout(p),h=0,m=0,c=void 0,d=void 0,p=void 0}),a.flush=(()=>void 0===p?u:v(Date.now())),a})},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.rejectIn=function(e,t){return new Promise((i,n)=>setTimeout(()=>n(t),e))},t.promiseTimeout=function(e,t,i="Timeout"){if(!t)return Promise.race(e);let n;const a=new Promise(()=>{n=setTimeout(()=>{throw new Error(i)},t)});return Promise.race([...e,a]).then(e=>(clearTimeout(n),e))},t.pollPromise=t.CancelablePromises=t.makeCancelablePromise=t.imageLoadQueue=void 0;var a=n(i(11)),o=i(20);const r=new class{constructor(e,t){(0,a.default)(this,"enqueue",(e,t)=>{this.queue.push(()=>{const i=new Promise((i,n)=>{e().then(t).then(i,n),setTimeout(n,this.timeout)}).then(()=>{this.running.delete(i),this.tryRunningFirst()},()=>{this.running.delete(i),this.tryRunningFirst()});return i}),this.tryRunningFirst()}),(0,a.default)(this,"tryRunningFirst",()=>{if(this.running.size<this.maxRunning&&this.queue.length){const e=this.queue.shift();e&&this.running.add(e())}}),this.running=new Set,this.queue=[],this.maxRunning=e,this.timeout=t||2e4}}(3);t.imageLoadQueue=r;const s=e=>{let t=!1;return{promise:new Promise((i,n)=>{e.then(e=>t?n({isPromiseCancelled:!0}):i(e),e=>n(t?{isPromiseCancelled:!0}:e))}),cancel(){t=!0}}};t.makeCancelablePromise=s,t.CancelablePromises=class{constructor(){(0,a.default)(this,"add",e=>{const t=s(e);return this.safePromises.push(t),t.promise}),(0,a.default)(this,"cancelAll",()=>{this.safePromises.forEach(e=>e.cancel()),this.safePromises=[]}),this.safePromises=[]}},t.pollPromise=(async({fn:e,url:t,validateFn:i,interval:n,maxAttempts:a})=>{let r=0,s=await e(t);for(;!i(s)&&r<a;)await(0,o.wait)(n),s=await e(t),r++;return s})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raiseEditorError=function(e){const t=e.errorType||"other";return{type:o,errorMessage:{type:t,message:e.message||"Something went wrong"}}},t.hideEditorError=function(){return{type:r}},t.updateContent=function(e){return{type:n,content:e}},t.updatePreview=function(e){return{type:a,preview:e}},t.updateConnectionStatus=t.updateEditorStatus=t.setHasChanges=t.UPDATE_CONNECTION_STATUS=t.CHANGE_PUBLICATION_TAGS=t.CHANGE_UPLOADING_IMAGES_COUNT=t.CLEAR_EDITOR=t.UPDATE_EDITOR_STATUS=t.CHANGE_PUBLISH_FORM_TAB=t.UPDATE_DELAYED_PUBLICATION_FLAG=t.SAVE_PUBLICATION_DRAFT=t.HIDE_SHARE_DRAFT=t.SHOW_SHARE_DRAFT=t.FREEZE_SNIPPET=t.SET_HAS_CHANGES=t.HIDE_EDITOR_ERROR=t.SHOW_EDITOR_ERROR=t.PREPARE_PUBLISH=t.UPDATE_STATE_BY_GALLERY_FORM=t.UPDATE_STATE_BY_FORM=t.SET_DETECTED_TAGS_SHOWN=t.SET_PREVIEW_IMAGES=t.UPDATE_VIDEO_PREVIEW=t.UPDATE_PREVIEW=t.UPDATE_CONTENT=t.UPDATE_POST_META_INFO=t.UPDATE_HAS_NATIVE_ADS=t.UPDATE_ALCOHOL_TOBACCO_FLAG=t.UPDATE_AD_FLAG=t.UPDATE_COMMENTS_FLAG=t.UPDATE_PRIVATE_DATA=t.UPDATE_TAGS=t.CLOSE_PUBLISH=t.TO_PREPUBLISH=t.PUBLISH=t.SAVE_DRAFT=void 0,t.SAVE_DRAFT="EDITOR_SAVE_DRAFT",t.PUBLISH="EDITOR_PUBLISH",t.TO_PREPUBLISH="EDITOR_TO_PREPUBLISH",t.CLOSE_PUBLISH="EDITOR_CLOSE_PUBLISH",t.UPDATE_TAGS="EDITOR_UPDATE_TAGS",t.UPDATE_PRIVATE_DATA="EDITOR_UPDATE_PRIVATE_DATA",t.UPDATE_COMMENTS_FLAG="EDITOR_UPDATE_COMMENTS_FLAG",t.UPDATE_AD_FLAG="EDITOR_UPDATE_AD_FLAG",t.UPDATE_ALCOHOL_TOBACCO_FLAG="EDITOR_UPDATE_ALCOHOL_TOBACCO_FLAG",t.UPDATE_HAS_NATIVE_ADS="EDITOR_UPDATE_HAS_NATIVE_ADS",t.UPDATE_POST_META_INFO="EDITOR_UPDATE_POST_META_INFO";const n="EDITOR_UPDATE_CONTENT";t.UPDATE_CONTENT=n;const a="EDITOR_UPDATE_PREVIEW";t.UPDATE_PREVIEW=a,t.UPDATE_VIDEO_PREVIEW="UPDATE_PREVIEW",t.SET_PREVIEW_IMAGES="EDITOR_SET_PREVIEW_IMAGES",t.SET_DETECTED_TAGS_SHOWN="SET_DETECTED_TAGS_SHOWN",t.UPDATE_STATE_BY_FORM="UPDATE_STATE_BY_FORM",t.UPDATE_STATE_BY_GALLERY_FORM="UPDATE_STATE_BY_GALLERY_FORM",t.PREPARE_PUBLISH="EDITOR_PREPARE_PUBLISH";const o="EDITOR_SHOW_EDITOR_ERROR";t.SHOW_EDITOR_ERROR=o;const r="EDITOR_HIDE_EDITOR_ERROR";t.HIDE_EDITOR_ERROR=r;const s="EDITOR_SET_HAS_CHANGES";t.SET_HAS_CHANGES=s,t.FREEZE_SNIPPET="EDITOR_FREEZE_SNIPPET",t.SHOW_SHARE_DRAFT="SHOW_SHARE_DRAFT",t.HIDE_SHARE_DRAFT="HIDE_SHARE_DRAFT",t.SAVE_PUBLICATION_DRAFT="SAVE_PUBLICATION_DRAFT",t.UPDATE_DELAYED_PUBLICATION_FLAG="UPDATE_DELAYED_PUBLICATION_FLAG",t.CHANGE_PUBLISH_FORM_TAB="CHANGE_PUBLISH_FORM_TAB";const l="UPDATE_EDITOR_STATUS";t.UPDATE_EDITOR_STATUS=l,t.CLEAR_EDITOR="CLEAR_EDITOR",t.CHANGE_UPLOADING_IMAGES_COUNT="CHANGE_UPLOADING_IMAGES_COUNT",t.CHANGE_PUBLICATION_TAGS="CHANGE_PUBLICATION_TAGS";const c="UPDATE_CONNECTION_STATUS";t.UPDATE_CONNECTION_STATUS=c,t.setHasChanges=((e=!0)=>({type:s,hasChanges:e})),t.updateEditorStatus=(e=>({type:l,status:e})),t.updateConnectionStatus=(e=>({type:c,status:e}))},function(e,t,i){"use strict";function n(e,t){e&&t(e)}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.rumManager=void 0;var o=a(i(11));const r=new class{constructor(){(0,o.default)(this,"firstLazyImageShowEventSent",!1),(0,o.default)(this,"commentsShowAt",void 0),(0,o.default)(this,"subscriptionStatusShowAt",void 0),(0,o.default)(this,"frameworkInitTimeMark",()=>{this.sendTimeMark("3036")}),(0,o.default)(this,"firstNonLazyImageLoaded",e=>{const t=this.getLoadedImageSrc(e);t&&this.sendResTiming("FirstImageLoad",t)}),(0,o.default)(this,"zenlibLoaded",()=>{this.sendTimeMark("ZenLibLoad")}),(0,o.default)(this,"yandexDirectShow",()=>{this.sendTimeMark("YandexDirectShow")}),(0,o.default)(this,"rtbFirstRendered",()=>{this.sendTimeMark("RTBFirstRendered")}),(0,o.default)(this,"directFirstRendered",()=>{this.sendTimeMark("DirectFirstRendered")}),(0,o.default)(this,"directRenderTime",e=>{this.sendDelta("DirectRenderTime",e)}),(0,o.default)(this,"rtbRenderTime",e=>{this.sendDelta("RTBRenderTime",e)}),(0,o.default)(this,"adfoxShow",()=>{this.sendTimeMark("AdfoxShow")}),(0,o.default)(this,"time",e=>{n(this.rum,t=>t.time(e))}),(0,o.default)(this,"timeEnd",e=>{n(this.rum,t=>t.timeEnd(e))}),(0,o.default)(this,"firstLazyImageLoad",e=>{const t=this.getLoadedImageSrc(e);t&&this.sendResTiming("FirstLazyImageLoad",t)}),(0,o.default)(this,"firstLazyImageShow",()=>{this.firstLazyImageShowEventSent||(this.firstLazyImageShowEventSent=!0,this.sendTimeMark("FirstLazyImageShow"))}),(0,o.default)(this,"zenCommentsShow",()=>{var e;this.commentsShowAt=null!==(e=this.getTime())&&void 0!==e?e:0,this.sendTimeMark("ZenCommentsShow")}),(0,o.default)(this,"zenCommentsLoad",()=>{var e;const t=this.commentsShowAt?(null!==(e=this.getTime())&&void 0!==e?e:0)-this.commentsShowAt:0;this.sendDelta("ZenCommentsShowLoadedDelta",t),this.sendTimeMark("ZenCommentsLoad")}),(0,o.default)(this,"subscriptionStatusButtonShow",()=>{var e;this.subscriptionStatusShowAt=null!==(e=this.getTime())&&void 0!==e?e:0}),(0,o.default)(this,"subscriptionStatusLoaded",()=>{var e;const t=this.subscriptionStatusShowAt?(null!==(e=this.getTime())&&void 0!==e?e:0)-this.subscriptionStatusShowAt:0;this.sendDelta("ZenSubscriptionStatusShowLoadedDelta",t),this.sendTimeMark("ZenSubscriptionStatusLoaded")}),this.rum="undefined"!=typeof window&&window.Ya&&window.Ya.Rum?window.Ya.Rum:null,null===this.rum&&"undefined"!=typeof window&&window.console.warn("RUM is not defined on window")}getImageResourceData(e){var t,i;if("undefined"!=typeof window&&window.performance)return null===(t=(i=window.performance).getEntriesByType)||void 0===t?void 0:t.call(i,"resource").find(t=>t.name===e)}getLoadedImageSrc(e){return e.map(e=>this.getImageResourceData(e)?e:void 0).find(e=>Boolean(e))}sendTimeMark(e){n(this.rum,t=>t.sendTimeMark(e))}sendResTiming(e,t){n(this.rum,i=>i.sendResTiming(e,t))}sendDelta(e,t){n(this.rum,i=>i.sendDelta(e,t))}getTime(){return this.rum&&this.rum.getTime()}};t.rumManager=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkMetaDataType=t.DraftStyle=t.DraftBlockType=t.PublicationsStoreGroupsKey=t.PublicationContentTypeGroups=t.PublicationsGroupsKey=t.EditorAccessModes=void 0;let n;t.EditorAccessModes=n,function(e){e.full="full",e.partial="partial",e.readOnly="read-only"}(n||(t.EditorAccessModes=n={}));let a;t.PublicationsGroupsKey=a,function(e){e.draft="draft",e.pending="pending",e.published="published"}(a||(t.PublicationsGroupsKey=a={}));let o;t.PublicationContentTypeGroups=o,function(e){e.all="all",e.article="article",e.narrative="narrative",e.video="gif",e.post="post",e.gallery="gallery"}(o||(t.PublicationContentTypeGroups=o={}));let r;t.PublicationsStoreGroupsKey=r,function(e){e.draftPublications="draftPublications",e.processingPublications="processingPublications",e.publishedPublications="publishedPublications"}(r||(t.PublicationsStoreGroupsKey=r={}));let s;t.DraftBlockType=s,function(e){e.unstyled="unstyled",e.atomicImage="atomic:image",e.atomicEmbed="atomic:embed",e.unorderedListItem="unordered-list-item",e.orderedListItem="ordered-list-item",e.headerOne="header-one",e.headerTwo="header-two",e.headerThree="header-three",e.blockquote="blockquote",e.atomicAd="atomic:ad",e.marker="marker"}(s||(t.DraftBlockType=s={}));let l;t.DraftStyle=l,function(e){e.bold="BOLD",e.italic="ITALIC",e.underline="UNDERLINE",e.strike="STRIKE"}(l||(t.DraftStyle=l={}));let c;t.LinkMetaDataType=c,(c||(t.LinkMetaDataType=c={})).productPreview="productPreview"},function(e,t,i){"use strict";function n(e,t){return(i,n)=>{const a=(0,w.getProfilePublisherId)(n());return t||i(ce()),(0,h.getPublicationRequest)(e,a||"").then(e=>{const{publications:t,images:n,pixels:a,narrativeSubstrateImageIds:o,flightInfo:r}=e,[s]=t;i((0,u.addImagesFromMap)(n)),s.call2ActionDto?i({type:k.CallToLinkActionTypes.loaded,callToActionData:s.call2ActionDto}):i({type:k.CallToLinkActionTypes.removed}),(0,f.addImagesToDict)(n),r&&i((0,I.saveTiedCampaign)(r)),a&&s.content&&i((0,A.initStatPixelsPopup)({pixels:a,publicationType:s.content.type})),e.flightInfo&&i((0,T.loadUtmCampaignData)(e.flightInfo.id)),i({type:F,publication:s,narrativeSubstrateImageIds:o})}).catch(e=>{t||i(ue(e.message))}).then(()=>{t||i(de())})}}function a(e,t=!1){return(i,n)=>{const{profile:a}=n();if(!a.publisher)throw new Error("Publisher is not loaded");const o={title:"",publisherId:a.publisher.id,publicationType:e};return t||i(ce()),b.postData((0,c.buildUrl)(P.ADD_PUBLICATION_URL,{publisherId:o.publisherId}),o).catch(e=>(t||i(ue(e.message)),Promise.reject(e))).then(e=>(t||i(de()),e),e=>(t||i(de()),Promise.reject(e)))}}function o(e){let t=R.ErrorType.other;return e.errorType&&(t=e.errorType),{type:X,errorMessage:{type:t,message:e.message||"Something went wrong"}}}function r(e=""){return t=>t(pe((0,_.formatPath)(D.PATHS.GET_PUBLICATIONS_COUNT_URL,{publisherId:e}),{},!0))}var s=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getPublication=n,t.dropPublication=function({id:e},t){return(i,n)=>{const a=(0,w.getProfilePublisherId)(n());return(0,h.dropPublicationRequest)(e,a).then(()=>{i({type:z,publicationId:e,groupKey:t})}).catch(e=>{i(o(e))})}},t.dropUnpublishedChanges=function(e){return(t,i)=>{const n=(0,w.getProfilePublisherId)(i());return(0,h.dropUnpublishedChangesRequest)(e.id,n).then(()=>window.location.reload()).catch(e=>{window.console.error(e.stack||e),t(o(e))})}},t.createPublication=function(e,t){return(i,n)=>{const{profile:a}=n(),r={title:"",publisherId:a&&a.publisher?a.publisher.id:"",publicationType:e,flightId:t},s=(0,d.getIsCampaignsPage)();return i({type:G}),b.postData((0,c.buildUrl)(P.ADD_PUBLICATION_URL,{publisherId:r.publisherId}),r).then(e=>s?(0,d.toEditor)(e,{open_tied_campaign_popup:"true"}):p.history.push((0,_.toEditUrl)({publication:e,query:{open_tied_campaign_popup:"true"}}))).catch(e=>{i(o(e)),i((0,S.errorNotification)(e))}).then(()=>{i({type:$})})}},t.createPublicationV2=a,t.refresh=function(e){return()=>{(0,d.toPublications)(e)}},t.hidePublicationsError=function(){return{type:Z}},t.loadPublicationsByGroup=function(e,t){return(i,n)=>{const a=n(),o=(0,w.getProfilePublisherId)(a);i({type:W,isLoading:!0,groupKey:e});const r=v.mapGroupKeyToStoreProp[e],s=a.publications[r].items,l=s&&s.length?s[s.length-1].id:void 0,d=(0,c.buildUrl)(P.GET_PUBLICATIONS_BY_STATE_URL,{state:e,publicationIdAfter:l,pageSize:se,type:t,publisherId:o});return b.loadData(d,{noCache:!0}).then(t=>{t.errors?i((0,m.addNotification)(M.NotificationErrorType.error,(0,g.lang)('7adaf6b8'))):(t.images&&(0,f.addImagesToDict)(t.images),i({type:Y,groupKey:e,publications:t.publications}))}).catch(()=>{i((0,m.addNotification)(M.NotificationErrorType.error,(0,g.lang)('7adaf6b8')))})}},t.setPublicationsByGroup=function(e,t){return(i,n)=>{i({type:W,isLoading:!0,groupKey:e});const a=(0,w.getProfilePublisherId)(n()),o=(0,c.buildUrl)(P.COUNT_PUBLICATIONS_BY_STATE_URL,{state:e,type:t,publisherId:a}),r=(0,c.buildUrl)(P.GET_PUBLICATIONS_BY_STATE_URL,{state:e,pageSize:se,type:t,publisherId:a});return Promise.all([b.loadData(o,{noCache:!0}),b.loadData(r,{noCache:!0})]).then(([t,n])=>{t.errors||n.errors?i((0,m.addNotification)(M.NotificationErrorType.error,(0,g.lang)('7adaf6b8'))):(n.images&&(0,f.addImagesToDict)(n.images),i({type:K,groupKey:e,publications:n.publications,totalPubs:t.count}))}).catch(()=>{i((0,m.addNotification)(M.NotificationErrorType.error,(0,g.lang)('7adaf6b8')))})}},t.countGroupedPublications=function(){return(e,t)=>b.loadData((0,c.buildUrl)(P.COUNT_GROUPED_PUBLICATIONS_URL,{publisherId:(0,w.getProfilePublisherId)(t())}),{noCache:!0}).then(({countedPublicationsByType:t})=>{e({type:q,counts:t})})},t.loadPublicationsCountByPublishedId=r,t.loadPublicationsCount=function(){return e=>e((0,E.loadUser)()).then(({user:{publisherId:t}})=>e(r(t)))},t.loadPublicationsV2=function(e){return async t=>{const{user:{publisherId:i}}=await t((0,E.loadUser)());return await Promise.all([t(r(i)),t(function(e,t){return i=>{const n=(0,c.buildUrl)((0,_.formatPath)(D.PATHS.GET_PUBLICATIONS_URL,{publisherId:e}),{state:t,pageSize:le});return i({type:te,groupKey:t}),b.loadData(n,{noCache:!0}).then(({publications:e,images:n})=>{(0,l.batch)(()=>{n&&i((0,u.addImagesFromMap)(n)),i({type:ie,groupKey:t,publications:e})})},()=>{i({type:ne,groupKey:t})})}}(i||"",e))])}},t.loadPublicationsNextPageV2=function(e){return t=>t((0,E.loadUser)()).then(({user:{publisherId:i}})=>t(function(e,t){return(i,n)=>{const a=v.mapGroupKeyToStoreProp[t],o=n().publications[a].items,r=o&&o.length?o[o.length-1].id:void 0,s=(0,c.buildUrl)((0,_.formatPath)(D.PATHS.GET_PUBLICATIONS_URL,{publisherId:e}),{state:t,pageSize:le,publicationIdAfter:r}),l=o.length/le+1;return i({type:ae,groupKey:t}),b.loadData(s,{noCache:!0}).then(({publications:e,images:n})=>{n&&i((0,u.addImagesFromMap)(n)),i({type:oe,groupKey:t,publications:e}),2===l?(0,L.getMobileEditorMetrikaCounter)().then(({reachGoal:e})=>e(U.MobileEditorMetrikaGoal.meSecondPublicationsBatchLoaded)):5===l&&(0,L.getMobileEditorMetrikaCounter)().then(({reachGoal:e})=>e(U.MobileEditorMetrikaGoal.meFifthPublicationsBatchLoaded))},()=>{i({type:re,groupKey:t})})}}(i||"",e)))},t.deletePublicationMobile=function(e,t){return(i,n)=>{const a=(0,w.getProfilePublisherId)(n())||"";return b.deleteData((0,_.formatPath)(D.PATHS.DELETE_PUBLICATION_URL,{publisherId:a,publicationId:e})).then(()=>i({type:z,publicationId:e,groupKey:t})).catch(e=>{i(o(e))})}},t.createTemporaryPublication=function(){return e=>{const t=`tmp-${Date.now().toString()}`,i={id:t,content:{articleContent:{contentState:""},type:N.PublicationContentType.article,preview:{title:"",snippet:""},modTime:0},privateData:void 0,publisherId:"",publisherItemId:"",itemId:"",tags:[],darkPost:!1,draftPreviewData:{},alcoholTobaccoMentioned:!1,hasNativeAds:!1,embeddedTags:[],activeOnAdFlight:!1,marketWidgetConstructorInfo:{widgetEditStatus:x.MarketWidgetEditStatus.DISABLED,linkToMarketEnabled:!1,marketC2aVideoEnabled:!1},visibleComments:B.VisibleCommentsState.VISIBLE};return e({type:F,publication:i,isOfflinePublication:!0}),e((0,y.updateConnectionStatus)(R.ConnectionStatus.offline)),Promise.resolve(t)}},t.createPublicationWithContent=function(){return async(e,t)=>{const{editor:{publication:i}}=t();if(!i||!i.content||i.content.type!==N.PublicationContentType.article)return null;const{content:{preview:o,articleContent:r}}=i;await e((0,C.initMobileEditor)());const{id:s}=await e(a("article",!0));return await e(n(s,!0)),r&&e((0,y.updateContent)(r)),e((0,y.updatePreview)(o)),e((0,C.mobileSaveDraft)()),s}},t.raisePublicationLoadingError=t.finishPublicationLoadingStatus=t.startPublicationLoadingStatus=t.LOAD_PUBLICATION_INTO_EDITOR=t.PUBLICATIONS_NEXT_PAGE_LOAD_FAILED=t.PUBLICATIONS_NEXT_PAGE_LOADED=t.PUBLICATIONS_NEXT_PAGE_LOADING=t.PUBLICATIONS_LOAD_FAILED=t.PUBLICATIONS_LOADED=t.PUBLICATIONS_LOADING=t.PUBLICATIONS_COUNT_LOAD_FAILED=t.PUBLICATIONS_COUNT_LOADED=t.PUBLICATIONS_COUNT_LOADING=t.SELECTED_GROUP_CHANGED=t.COUNT_GROUPED_PUBLICATIONS=t.HIDE_PUBLICATIONS_ERROR=t.SHOW_PUBLICATIONS_ERROR=t.SET_PUBLICATIONS_BY_STATUS=t.ADD_PUBLICATIONS_BY_STATUS=t.COPY_NARRATIVE=t.ADD_PUBLICATIONS=t.LAZY_LOAD_PUBLICATIONS=t.NEW_ARTICLE_CREATION_FINISHED=t.NEW_ARTICLE_CREATION=t.SET_PUBLICATIONS=t.DROP_PUBLICATION=t.PUBLICATION_LOAD_FAILED=t.GET_PUBLICATION_LOADED=t.GET_PUBLICATION_REQUEST=t.GET_PUBLICATION=void 0;var l=i(18),c=i(52),d=i(156),u=i(110),p=i(103),m=i(48),h=i(181),f=i(23),g=i(8),b=s(i(13)),_=i(7),v=i(360),y=i(90),S=i(71),I=i(314),T=i(334),P=i(40),E=i(61),C=i(152),A=i(185),k=i(221),O=i(78),L=i(66),w=i(28),D=i(22),R=i(29),M=i(56),N=i(27),U=i(291),x=i(75),B=i(146);const F="GET_PUBLICATION";t.GET_PUBLICATION=F;const H="GET_PUBLICATION_REQUEST";t.GET_PUBLICATION_REQUEST=H;const V="GET_PUBLICATION_LOADED";t.GET_PUBLICATION_LOADED=V;const j="PUBLICATION_LOAD_FAILED";t.PUBLICATION_LOAD_FAILED=j;const z="DROP_PUBLICATION";t.DROP_PUBLICATION=z,t.SET_PUBLICATIONS="SET_PUBLICATIONS";const G="NEW_ARTICLE_CREATION";t.NEW_ARTICLE_CREATION=G;const $="NEW_ARTICLE_CREATION_FINISHED";t.NEW_ARTICLE_CREATION_FINISHED=$;const W="PUBLICATIONS_LAZY_LOAD_PUBLICATIONS";t.LAZY_LOAD_PUBLICATIONS=W,t.ADD_PUBLICATIONS="PUBLICATIONS_ADD_PUBLICATIONS",t.COPY_NARRATIVE="PUBLICATIONS_COPY_NARRATIVE";const Y="PUBLICATIONS_ADD_PUBLICATIONS_BY_STATUS";t.ADD_PUBLICATIONS_BY_STATUS=Y;const K="PUBLICATIONS_SET_PUBLICATIONS_BY_STATUS";t.SET_PUBLICATIONS_BY_STATUS=K;const X="SHOW_PUBLICATIONS_ERROR";t.SHOW_PUBLICATIONS_ERROR=X;const Z="HIDE_PUBLICATIONS_ERROR";t.HIDE_PUBLICATIONS_ERROR=Z;const q="COUNT_GROUPED_PUBLICATIONS";t.COUNT_GROUPED_PUBLICATIONS=q,t.SELECTED_GROUP_CHANGED="SELECTED_GROUP_CHANGED";const Q="PUBLICATIONS_COUNT_LOADING";t.PUBLICATIONS_COUNT_LOADING=Q;const J="PUBLICATIONS_COUNT_LOADED";t.PUBLICATIONS_COUNT_LOADED=J;const ee="PUBLICATIONS_COUNT_LOAD_FAILED";t.PUBLICATIONS_COUNT_LOAD_FAILED=ee;const te="PUBLICATIONS_LOADING";t.PUBLICATIONS_LOADING=te;const ie="PUBLICATIONS_LOADED";t.PUBLICATIONS_LOADED=ie;const ne="PUBLICATIONS_LOAD_FAILED";t.PUBLICATIONS_LOAD_FAILED=ne;const ae="PUBLICATIONS_NEXT_PAGE_LOADING";t.PUBLICATIONS_NEXT_PAGE_LOADING=ae;const oe="PUBLICATIONS_NEXT_PAGE_LOADED";t.PUBLICATIONS_NEXT_PAGE_LOADED=oe;const re="PUBLICATIONS_NEXT_PAGE_LOAD_FAILED";t.PUBLICATIONS_NEXT_PAGE_LOAD_FAILED=re,t.LOAD_PUBLICATION_INTO_EDITOR="LOAD_PUBLICATION_INTO_EDITOR";const se=12,le=18,ce=()=>({type:H});t.startPublicationLoadingStatus=ce;const de=()=>({type:V});t.finishPublicationLoadingStatus=de;const ue=e=>({type:j,message:e});t.raisePublicationLoadingError=ue;const pe=(0,O.createCachedDataLoadAction)({loadedActionCreator:e=>t=>{t({type:J,...e})},loadingAction:()=>e=>{e({type:Q})},failedActionCreator:()=>e=>{e({type:ee})}})},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteStorageFormValues=t.setStorageFormValues=t.getStorageFormValues=t.convertStateToFormValues=t.makeInitialCampaignFlightState=t.makeLimitsFromSettings=t.makeInitialFormValues=t.toMinDate=t.toMaxDate=t.calcMaxCoverage=t.calcMaxBudget=t.normalizeDateRange=t.DATE_INTERVAL=t.AGE_VALUES=void 0;var a=n(i(86)),o=n(i(155)),r=n(i(43)),s=n(i(232)),l=n(i(263)),c=i(20),d=i(50),u=i(70),p=i(125);const m=[p.Age.age0,p.Age.age18,p.Age.age25,p.Age.age35,p.Age.age45,p.Age.age55,p.Age.age99];t.AGE_VALUES=m,t.DATE_INTERVAL=30;const h="adv-campaign";t.normalizeDateRange=(({fromTs:e,toTs:t})=>({fromTs:(0,s.default)(e)?e:(0,l.default)(e,c.MORNING).getTime(),toTs:(0,a.default)(t).getTime()})),t.calcMaxBudget=((e,t)=>Math.ceil(e/1e3*t)),t.calcMaxCoverage=((e,t)=>Math.ceil(e/t*1e3));const f=(e,t)=>(0,a.default)((0,o.default)((0,r.default)(e),30*t)).getTime();t.toMaxDate=f,t.toMinDate=((e,t)=>(0,r.default)((0,o.default)((0,a.default)(e),30*t)).getTime());const g=()=>({[u.CampaignFlightFields.tab]:u.CampaignFlightFormDataTab.involvement,[u.CampaignFlightFields.campaignName]:"",[u.CampaignFlightFields.readingCost]:0,[u.CampaignFlightFields.videoFullViewCost]:0,[u.CampaignFlightFields.videoS2sCost]:0,[u.CampaignFlightFields.maxMoney]:0,[u.CampaignFlightFields.maxBudget]:0,[u.CampaignFlightFields.maxCoverage]:0,[u.CampaignFlightFields.dateFullRead]:{fromTs:Date.now(),toTs:Date.now()},[u.CampaignFlightFields.dateShow]:{fromTs:Date.now(),toTs:f(Date.now(),1)},[u.CampaignFlightFields.ageTargeting]:{min:m[0],max:m[m.length-1]},[u.CampaignFlightFields.geoTargeting]:[],[u.CampaignFlightFields.deviceTargeting]:{[u.CampaignFlightFields.ios]:!0,[u.CampaignFlightFields.android]:!0,[u.CampaignFlightFields.desktop]:!0},[u.CampaignFlightFields.sexTargeting]:{[u.CampaignFlightFields.male]:!0,[u.CampaignFlightFields.female]:!0},[u.CampaignFlightFields.withLimitedMoney]:!1,[u.CampaignFlightFields.withLimitedDailyMoney]:!0,[u.CampaignFlightFields.maxDailyMoney]:0,[u.CampaignFlightFields.forecastDurationKey]:"week"});t.makeInitialFormValues=g,t.makeLimitsFromSettings=(e=>({article:{[u.CampaignFlightFields.readingCost]:{min:e.limits.minFullReadCost,max:e.limits.maxFullReadCost},[u.CampaignFlightFields.maxDailyMoney]:{min:e.limits.minFullReadFlightMoneyDailyLimit,max:e.limits.maxFullReadFlightMoneyDailyLimit,forcedMin:e.limits.minFullReadFlightMoneyDailyLimitForced},[u.CampaignFlightFields.maxMoney]:{min:e.limits.minFullReadFlightMoneyLimit,max:e.limits.maxFullReadFlightMoneyLimit,forcedMin:e.limits.minFullReadFlightMoneyLimitForced},[u.CampaignFlightFields.maxBudget]:{min:e.limits.minMaxUsers*e.defaults.showCost,max:e.limits.maxMaxUsers*e.defaults.showCost}},videoS2S:{[u.CampaignFlightFields.videoS2sCost]:{min:e.limits.minVideoS2sCost,max:e.limits.maxVideoS2sCost},[u.CampaignFlightFields.videoFullViewCost]:{min:e.limits.minVideoFullViewCost,max:e.limits.maxVideoFullViewCost},[u.CampaignFlightFields.maxDailyMoney]:{min:e.limits.minVideoS2sFlightMoneyDailyLimit,max:e.limits.maxVideoS2sFlightMoneyDailyLimit,forcedMin:e.limits.minVideoS2sFlightMoneyDailyLimitForced},[u.CampaignFlightFields.maxMoney]:{min:e.limits.minVideoS2sFlightMoneyLimit,max:e.limits.maxVideoS2sFlightMoneyLimit,forcedMin:e.limits.minVideoS2sFlightMoneyDailyLimitForced}},videoFullView:{[u.CampaignFlightFields.videoFullViewCost]:{min:e.limits.minVideoFullViewCost,max:e.limits.maxVideoFullViewCost},[u.CampaignFlightFields.videoS2sCost]:{min:e.limits.minVideoS2sCost,max:e.limits.maxVideoS2sCost},[u.CampaignFlightFields.maxDailyMoney]:{min:e.limits.minVideoFullViewFlightMoneyDailyLimit,max:e.limits.maxVideoFullViewFlightMoneyDailyLimit,forcedMin:e.limits.minVideoFullViewFlightMoneyDailyLimitForced},[u.CampaignFlightFields.maxMoney]:{min:e.limits.minVideoFullViewFlightMoneyLimit,max:e.limits.maxVideoFullViewFlightMoneyLimit,forcedMin:e.limits.minVideoFullViewFlightMoneyDailyLimitForced}}})),t.makeInitialCampaignFlightState=((e={})=>({isPreparing:!0,isOpen:!1,values:g(),publisherId:"",settings:{defaults:{fullReadCost:0,maxUsers:0,showCost:0,showDuration:0,videoFullViewCost:0,videoS2sCost:0},limits:{defaultFullReadFlightMoneyLimit:0,defaultFullReadFlightMoneyDailyLimit:0,maxFullReadCost:0,maxMaxUsers:0,minFullReadCost:0,minMaxUsers:0,showFlightMinDurationDays:0,minFullReadFlightMoneyLimit:0,maxFullReadFlightMoneyLimit:0,maxFullReadFlightMoneyDailyLimit:0,minFullReadFlightMoneyDailyLimit:0,minFullReadFlightMoneyDailyLimitForced:0,minFullReadFlightMoneyLimitForced:0,defaultVideoFullViewFlightMoneyDailyLimit:0,maxVideoFullViewFlightMoneyDailyLimit:0,minVideoFullViewFlightMoneyDailyLimit:0,minVideoFullViewFlightMoneyDailyLimitForced:0,defaultVideoFullViewFlightMoneyLimit:0,maxVideoFullViewFlightMoneyLimit:0,minVideoFullViewFlightMoneyLimit:0,minVideoFullViewFlightMoneyLimitForced:0,maxVideoFullViewCost:0,minVideoFullViewCost:0,defaultVideoS2sFlightMoneyDailyLimit:0,minVideoS2sFlightMoneyDailyLimit:0,minVideoS2sFlightMoneyDailyLimitForced:0,defaultVideoS2sFlightMoneyLimit:0,minVideoS2sFlightMoneyLimit:0,minVideoS2sFlightMoneyLimitForced:0,maxVideoS2sFlightMoneyDailyLimit:0,maxVideoS2sFlightMoneyLimit:0,maxVideoS2sCost:0,minVideoS2sCost:0}},forecasts:{involvement:{graph:[],lowerForecast:{fullReads:0,reach:0,transitionPrice:0,transitionProbability:0,fullReadProbability:0,ctr:0,transitions:0,shows:0,budget:0,bid:0,clicks:0},upperForecast:{fullReads:0,reach:0,transitionPrice:0,transitionProbability:0,fullReadProbability:0,ctr:0,transitions:0,shows:0,budget:0,bid:0,clicks:0}},coverage:{graph:[],shows:0,minReads:0,maxReads:0},"video-s2s":{graph:[],lowerForecast:{bid:0,videoFullViews:0,videoTransitions:0,videoShows:0,videoViews:0,videoReach:0,videoViewProbability:0,videoFullViewProbability:0,videoTransitionProbability:0,videoTransitionPrice:0,budget:0},upperForecast:{bid:0,videoFullViews:0,videoTransitions:0,videoShows:0,videoViews:0,videoReach:0,videoViewProbability:0,videoFullViewProbability:0,videoTransitionProbability:0,videoTransitionPrice:0,budget:0}},"video-fullview":{graph:[],lowerForecast:{bid:0,videoFullViews:0,videoTransitions:0,videoShows:0,videoViews:0,videoReach:0,videoViewProbability:0,videoFullViewProbability:0,videoTransitionProbability:0,videoTransitionPrice:0,budget:0},upperForecast:{bid:0,videoFullViews:0,videoTransitions:0,videoShows:0,videoViews:0,videoReach:0,videoViewProbability:0,videoFullViewProbability:0,videoTransitionProbability:0,videoTransitionPrice:0,budget:0}}},...e})),t.convertStateToFormValues=(e=>({[u.CampaignFlightFields.campaignId]:e[u.CampaignFlightFields.campaignId],[u.CampaignFlightFields.campaignName]:e[u.CampaignFlightFields.campaignName],[u.CampaignFlightFields.ageTargeting]:e[u.CampaignFlightFields.ageTargeting],[u.CampaignFlightFields.geoTargeting]:e[u.CampaignFlightFields.geoTargeting],[u.CampaignFlightFields.deviceTargeting]:e[u.CampaignFlightFields.deviceTargeting],[u.CampaignFlightFields.sexTargeting]:e[u.CampaignFlightFields.sexTargeting],[u.CampaignFlightFields.maxMoney]:e[u.CampaignFlightFields.maxMoney],[u.CampaignFlightFields.withLimitedMoney]:e[u.CampaignFlightFields.withLimitedMoney],[u.CampaignFlightFields.dateFullRead]:e[u.CampaignFlightFields.dateFullRead],[u.CampaignFlightFields.withLimitedDailyMoney]:e[u.CampaignFlightFields.withLimitedDailyMoney],[u.CampaignFlightFields.maxDailyMoney]:e[u.CampaignFlightFields.maxDailyMoney],[u.CampaignFlightFields.forecastDurationKey]:e[u.CampaignFlightFields.forecastDurationKey],[u.CampaignFlightFields.tab]:u.CampaignFlightFormDataTab.coverage,[u.CampaignFlightFields.maxCoverage]:e[u.CampaignFlightFields.maxCoverage],[u.CampaignFlightFields.maxBudget]:e[u.CampaignFlightFields.maxBudget],[u.CampaignFlightFields.dateShow]:e[u.CampaignFlightFields.dateShow],[u.CampaignFlightFields.readingCost]:e[u.CampaignFlightFields.readingCost],[u.CampaignFlightFields.tab]:u.CampaignFlightFormDataTab.involvement,[u.CampaignFlightFields.videoFullViewCost]:e[u.CampaignFlightFields.videoFullViewCost],[u.CampaignFlightFields.videoS2sCost]:e[u.CampaignFlightFields.videoS2sCost],[u.CampaignFlightFields.tab]:e[u.CampaignFlightFields.tab]})),t.getStorageFormValues=(()=>(0,d.getLocalStorage)().get(h)),t.setStorageFormValues=(e=>(0,d.getLocalStorage)().set(h,e)),t.deleteStorageFormValues=(()=>(0,d.getLocalStorage)().delete(h))},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.formatMessage=function(e,t){return(0,a.default)(e,t)},t.formatMessageRich=function(e,t){return a.default.rich(e,t)};var a=n(i(229)),o=n(i(10));const r=o.default.language||"ru";a.default.setup({locale:r,translations:{[r]:o.default.translations}})},function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceId=function(){if(a.isSSR||!(0,o.getLocalStorage)())return;const e=a.default.zenUserData&&a.default.zenUserData.deviceId||a.default.omittedQueryParams&&a.default.omittedQueryParams.device_id;return e?((0,o.getLocalStorage)().set(r,e),e):(0,o.getLocalStorage)().get(r)};var a=n(i(10)),o=i(50);const r="deviceId"},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseEmbed=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=n(i(875)),l=i(31);class c extends r.default.Component{constructor(...e){super(...e),(0,o.default)(this,"keyInEditor",(0,l.getRandomString)()),(0,o.default)(this,"minHeight",200),(0,o.default)(this,"type","base"),(0,o.default)(this,"isFullHeight",!1),(0,o.default)(this,"allowFullScreen",!1),(0,o.default)(this,"publisherItemId",""),(0,o.default)(this,"publicationItemId",""),(0,o.default)(this,"publicationId","")}componentDidMount(){new s.default({virtualNode:this.props.virtualNode,iframeContainerId:this.getElementId(),iframeHtml:this.getHtml(),minHeight:this.minHeight,iframeHost:this.props.iframeHost,isFullHeight:this.isFullHeight,allowFullScreen:this.allowFullScreen,publisherItemId:this.publisherItemId,publicationItemId:this.publicationItemId,publicationId:this.publicationId})}shouldComponentUpdate(){return!1}getElementId(){return`iframe-${this.type}_${this.props.blockKey||this.keyInEditor}`}getHtml(){return""}render(){return(0,a.default)("div",{className:`${this.type}-embed adaptive-iframe__container ${this.props.isMobile?`${this.type}-embed_mobile`:""}`,id:this.getElementId()})}}t.BaseEmbed=c;var d=c;t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.history=void 0;var n=i(41);const a=(()=>{try{return(0,n.createBrowserHistory)()}catch(e){return{length:0,action:"PUSH",location:"",push(){},replace(){},go(){},goBack(){},goForward(){},block(){},listen(){},createHref(){}}}})();t.history=a},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUBLICATION_STATUS_ANY=t.PUBLICATIONS_GROUP_KEY=void 0;var n=i(92);const a={DRAFT:n.PublicationsGroupsKey.draft,PUBLISHED:n.PublicationsGroupsKey.published,PROCESSING:n.PublicationsGroupsKey.pending};t.PUBLICATIONS_GROUP_KEY=a,t.PUBLICATION_STATUS_ANY="any"},,,,function(e,t,i){"use strict";function n(e){return{type:a.addImages,images:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addImagesFromMap=n,t.addImage=function(e){return n({[e.id]:e})},t.ImagesActionTypes=void 0;let a;t.ImagesActionTypes=a,(a||(t.ImagesActionTypes=a={})).addImages="ADD_IMAGES"},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticsQueryKey=t.StatType=t.PublicationType=t.TimeIntervalType=void 0;let n;t.TimeIntervalType=n,function(e){e[e.week=7]="week",e[e.month=30]="month",e[e.quarter=90]="quarter",e.infinite="infinite",e.custom="custom"}(n||(t.TimeIntervalType=n={}));let a;t.PublicationType=a,function(e){e.article="article",e.narrative="narrative",e.gif="gif",e.gallery="gallery"}(a||(t.PublicationType=a={}));let o;t.StatType=o,function(e){e.publications="publications",e.products="products",e.audience="audience",e.campaigns="campaigns"}(o||(t.StatType=o={}));let r;t.StatisticsQueryKey=r,function(e){e.statType="statType",e.intervalStart="intervalStart",e.intervalEnd="intervalEnd",e.intervalType="intervalType",e.filterType="filterType",e.publicationsSortedByOrder="publicationsSortedByOrder",e.publicationsSortedByColumn="publicationsSortedByColumn",e.productsSortedByOrder="productsSortedByOrder",e.productsSortedByColumn="productsSortedByColumn",e.productsPlatform="productsPlatform",e.campaignsSortedByOrder="campaignsSortedByOrder",e.campaignsSortedByColumn="campaignsSortedByColumn",e.campaignsCalcByDate="campaignsCalcByDate",e.campaignsPublicationType="campaignsPublicationType",e.isCampaignBudgetVatChecked="isCampaignBudgetVatChecked",e.showCampaignPublications="showCampaignPublications",e.campaignsSelectedField="campaignsSelectedField",e.campaignsMergeInterval="campaignsMergeInterval",e.campaignsChartState="campaignsChartState",e.campaignsScrollableColumnIds="campaignsScrollableColumnIds"}(r||(t.StatisticsQueryKey=r={}))},,function(e,t,i){"use strict";function n(){let e=function(){if(r.isSSR||!r.default.data)return;const{user:e}=r.default.data||{};return e?e.oAuthToken:void 0}()||r.default.zenOAuthToken;e&&function(e){(0,o.getSessionStorage)().set(s,e)}(e=e.replace(/^(OAuth|Bearer)\s+/,""))}var a=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.init=n,t.getToken=function(){return n(),(0,o.getSessionStorage)().get(s)};var o=i(50),r=a(i(10));const s="oAuthToken"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDummyReducer=function(e){return t=>t||e}},,,,,function(e,t,i){"use strict";function n(e){return(0,s.appendQueryList)(e,[["noredir","true"]])}function a(e,t){return e===t}function o(e,t){return t?n((0,s.toChannelUrl)(e)):(0,s.toChannelUrl)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.appendNoRedirect=n,t.shouldProtectFromRedirects=a,t.getChannelUrl=o,t.getNarrativesURL=function(e,t){const i=(0,s.getUrlQuery)(e),a=["via"].reduce((e,t)=>i.hasOwnProperty(t)?{...e,[t]:i[t]}:e,{}),o=(0,r.buildUrl)(l.PATHS.NARRATIVES,a);return t?n(o):o},t.getProtectedLinks=function(e,t,i,n){const{host:r}=e,s=a(r,n);return{shouldProtectFromRedirects:s,shareUrl:function(e,t,i){const{host:n,pathName:a}=e;return i?`https://${t}${a}`:`https://${n}${a}`}(e,i,s),channelUrl:o(t,s)}};var r=i(52),s=i(7),l=i(22)},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallToLinkPublicationSuggestType=t.ExternalLinkGrepStatus=t.CallToLinkUrlType=void 0;let n;t.CallToLinkUrlType=n,function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(n||(t.CallToLinkUrlType=n={}));let a;t.ExternalLinkGrepStatus=a,function(e){e.success="success",e.processing="not-ready-yet",e.error="error"}(a||(t.ExternalLinkGrepStatus=a={}));let o;t.CallToLinkPublicationSuggestType=o,function(e){e.gif="gif",e.article="article"}(o||(t.CallToLinkPublicationSuggestType=o={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyGeoBase=t.AgeTargeting=t.AgeSegment=t.Age=t.GenderTargeting=t.DeviceTargeting=void 0;let n;t.DeviceTargeting=n,function(e){e.ios="ios",e.android="android",e.desktop="desktop",e.mobile="mobile"}(n||(t.DeviceTargeting=n={}));let a;t.GenderTargeting=a,function(e){e.male="male",e.female="female"}(a||(t.GenderTargeting=a={}));let o;t.Age=o,function(e){e.age0="0",e.age18="18",e.age25="25",e.age35="35",e.age45="45",e.age55="55",e.age99="55+"}(o||(t.Age=o={}));let r;t.AgeSegment=r,function(e){e.from0To17="age-0-17",e.from18To24="age-18-24",e.from25To34="age-25-34",e.from35To44="age-35-44",e.from45To54="age-45-54",e.from55To99="age-55-99"}(r||(t.AgeSegment=r={}));let s;t.AgeTargeting=s,function(e){e["0-17"]="age-0-17",e["18-24"]="age-18-24",e["25-34"]="age-25-34",e["35-44"]="age-35-44",e["45-54"]="age-45-54",e["55-99"]="age-55-99"}(s||(t.AgeTargeting=s={})),t.emptyGeoBase={id:-1,title:"",children:[]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCampaignRelevantPublications=function(e){return(0,a.loadData)((0,o.formatPath)(c,{},e))},t.addPublicationsToCampaign=function({publisherId:e,flightId:t,publications:i}){const n=(0,o.queryListToUrl)([["flightId",t],["publisherId",e||""],...i.map(e=>["publications",e])]);return(0,a.postData)(`${d}?${n}`)},t.removePublicationFromCampaign=function(e){return(0,a.postData)((0,o.formatPath)(u,{},e))},t.stopCampaign=function(e){return(0,a.postData)((0,o.formatPath)(p,{},e))},t.resumeCampaign=function(e){return(0,a.postData)((0,o.formatPath)(m,{},e))},t.fetchCampaigns=function(e){return(0,a.loadData)((0,o.formatPath)(h,{},e))},t.fetchHasCampaigns=function(e){return(0,a.loadData)((0,o.formatPath)(f,{},e))},t.fetchAvailableCampaigns=function(e){return(0,a.loadData)((0,o.formatPath)(g,{},e))},t.fetchCampaignStatistics=function(e){return(0,a.loadData)((0,o.formatPath)(b,{},{...e,publicationTypes:e.publicationTypes.join()}))},t.fetchCampaignCharts=function(e){return(0,a.loadData)((0,o.formatPath)(_,{},{...e,field:k[e.field],flightIds:e.flightIds.join(),publicationIds:e.publicationIds.join(),publicationTypes:e.publicationTypes.join()}))},t.fetchCampaignUsefulArticles=function(){return(0,a.loadData)(s)},t.fetchBalancePopupUsefulArticles=function(){return(0,a.loadData)(l)},t.setFullReadCost=function(e,t){return(0,a.postData)((0,o.formatPath)(P,{},{publisherId:t}),e)},t.fetchFullReadForecast=function(e,t){return(0,a.postData)((0,o.formatPath)(E,{},{publisherId:t}),e)},t.copyCampaignPublication=function(e){return(0,a.postData)((0,o.formatPath)(C,{},e))},t.postGeoTargeting=function(e,t){return(0,a.postData)((0,o.formatPath)(A,{},{publisherId:t}),e)},t.changeMaxLimit=t.changeDailyLimit=t.fetchArchivedCampaigns=t.unArchiveCampaign=t.archiveCampaign=void 0;var n=i(19),a=i(13),o=i(7),r=i(130);const s=`/${n.EDITOR_API_V2}/flights/campaigns/useful-articles`,l=`/${n.EDITOR_API_V2}/publisher/wallet/balance/useful-articles`,c=`/${n.EDITOR_API_V2}/flights/campaigns/publications/relevant`,d=`/${n.EDITOR_API_V2}/flights/campaigns/publication/add`,u=`/${n.EDITOR_API_V2}/flights/campaigns/publication/remove`,p=`/${n.EDITOR_API_V2}/flights/campaigns/stop`,m=`/${n.EDITOR_API_V2}/flights/campaigns/resume`,h=`/${n.EDITOR_API_V2}/flights/campaigns/list`,f=`/${n.EDITOR_API_V2}/flights/campaigns/status`,g=`/${n.EDITOR_API_V2}/flights/campaigns/list-for-publication`,b=`/${n.EDITOR_API_V2}/flights/campaigns/statistics`,_=`/${n.EDITOR_API_V2}/flights/campaigns/charts`,v=`/${n.EDITOR_API_V2}/flights/campaigns/archive`,y=`/${n.EDITOR_API_V2}/flights/campaigns/unarchive`,S=`/${n.EDITOR_API_V2}/flights/archived-campaigns/list`,I=`/${n.EDITOR_API_V2}/flights/campaigns/daily-limit`,T=`/${n.EDITOR_API_V2}/flights/campaigns/total-limit`,P=`/${n.EDITOR_API_V2}/flights/campaigns/full-read-cost`,E=`/${n.EDITOR_API_V2}/flights/campaigns/target-event-forecast`,C=`/${n.EDITOR_API_V2}/flights/campaigns/publication/copy`,A=`/${n.EDITOR_API_V2}/flights/campaigns/geo-targeting`,k={[r.StatisticsCampaignsChartField.viewsTillEnd]:"viewsTillEnd",[r.StatisticsCampaignsChartField.sumViewTimeSec]:"avgViewTimeTillEnd",[r.StatisticsCampaignsChartField.ctr]:"ctr",[r.StatisticsCampaignsChartField.nonUniqueFeedShows]:"nonUniqueShows",[r.StatisticsCampaignsChartField.budget]:"budget",[r.StatisticsCampaignsChartField.metricaVisits]:"metricaVisits",[r.StatisticsCampaignsChartField.metricaActiveVisits]:"metricaActiveVisits",[r.StatisticsCampaignsChartField.metricaVisitsAvgDurationSec]:"metricaVisitsAvgDurationSec",[r.StatisticsCampaignsChartField.metricaVisitsAvgHits]:"metricaVisitsAvgHits",[r.StatisticsCampaignsChartField.metricaVisitCost]:"metricaVisitCost",[r.StatisticsCampaignsChartField.metricaVisitsPercentage]:"metricaVisitsPercent",[r.StatisticsCampaignsChartField.videoFullViews]:"videoFullViews",[r.StatisticsCampaignsChartField.videoFullViewPercentage]:"videoFullViewPercentage",[r.StatisticsCampaignsChartField.clickouts]:"clickouts"};t.archiveCampaign=(e=>(0,a.postData)((0,o.formatPath)(v,{},{...e}))),t.unArchiveCampaign=(e=>(0,a.postData)((0,o.formatPath)(y,{},{...e}))),t.fetchArchivedCampaigns=(e=>(0,a.loadData)((0,o.formatPath)(S,{},e))),t.changeDailyLimit=((e,t)=>(0,a.postData)((0,o.formatPath)(I,{},{publisherId:t}),e)),t.changeMaxLimit=((e,t)=>(0,a.postData)((0,o.formatPath)(T,{},{publisherId:t}),e))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealComments=t.closeLoginPopup=t.openLoginPopup=t.SocialActionTypes=void 0;let n;t.SocialActionTypes=n,function(e){e.openLoginPopup="OPEN_LOGIN_POPUP",e.closeLoginPopup="CLOSE_LOGIN_POPUP",e.revealComments="REVEAL_COMMENTS"}(n||(t.SocialActionTypes=n={})),t.openLoginPopup=(e=>(t,i)=>{t({type:n.openLoginPopup,payload:e})}),t.closeLoginPopup=(()=>(e,t)=>{e({type:n.closeLoginPopup})}),t.revealComments=(()=>(e,t)=>{e({type:n.revealComments})})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAvatarsUrl=function(e,t="orig",i){return n.getAvatarsUrl(e,t,i)},t.formatAvatarsUrl=function(e,t="orig"){return n.formatAvatarsUrl(e,t)},t.getImageData=function(e){return n.getImageData(e)},t.imageStorage=void 0;const n=new class{constructor(){this.getImagesDict=(()=>({}))}setImageGetter(e){this.getImagesDict=e}setAvatarsHost(e){this.avatarsHost=e}get dict(){return this.getImagesDict()}getImageData(e,t){return t?t[e]:this.dict[e]}formatAvatarsUrl(e,t){return e.base64?`data:image/jpeg;base64,${e.base64}`:(this.avatarsHost,`https://${this.avatarsHost||"avatars.mdst.yandex.net"}/get-${e.namespace}/${e.groupId}/${e.imageName}/${t}`)}getAvatarsUrl(e,t="orig",i){const n=this.getImageData(e.id,i);return n?this.formatAvatarsUrl(n,t):(e.id,"https://avatars.mdst.yandex.net")}};t.imageStorage=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GalleryImageStatus=t.GalleryContentType=void 0;let n;t.GalleryContentType=n,function(e){e.single="single",e.multi="multi"}(n||(t.GalleryContentType=n={}));let a;t.GalleryImageStatus=a,function(e){e.process="process",e.error="error",e.success="success"}(a||(t.GalleryImageStatus=a={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticsCampaignsPublicationType=t.StatisticsCampaignsChartField=t.StatisticsCampaignsColumn=t.CalcByDate=void 0;let n;t.CalcByDate=n,function(e){e.publishDate="by-start-date",e.eventDate="by-event"}(n||(t.CalcByDate=n={}));let a;t.StatisticsCampaignsColumn=a,function(e){e.conversions="conversions",e.fullReadPrice="fullReadPrice",e.chartColor="chartColor",e.startTime="startTime",e.title="title",e.budget="budget",e.viewsTillEnd="viewsTillEnd",e.metricaVisits="metricaVisits",e.metricaActiveVisits="metricaActiveVisits",e.metricaVisitCost="metricaVisitCost",e.metricaVisitsPercentage="metricaVisitsPercentage",e.metricaVisitsAvgHits="metricaVisitsAvgHits",e.metricaVisitsAvgDurationSec="metricaVisitsAvgDurationSec",e.sumViewTimeSec="sumViewTimeSec",e.viewMap="viewMap",e.ctr="ctr",e.nonUniqueFeedShows="nonUniqueFeedShows",e.feedShows="feedShows",e.clickouts="clickouts",e.videoFullViews="videoFullViews",e.videoFullViewPercentage="videoFullViewPercentage"}(a||(t.StatisticsCampaignsColumn=a={}));let o;t.StatisticsCampaignsChartField=o,function(e){e.budget="budget",e.viewsTillEnd="viewsTillEnd",e.metricaVisits="metricaVisits",e.metricaActiveVisits="metricaActiveVisits",e.metricaVisitCost="metricaVisitCost",e.metricaVisitsPercentage="metricaVisitsPercentage",e.metricaVisitsAvgHits="metricaVisitsAvgHits",e.metricaVisitsAvgDurationSec="metricaVisitsAvgDurationSec",e.sumViewTimeSec="sumViewTimeSec",e.ctr="ctr",e.nonUniqueFeedShows="nonUniqueFeedShows",e.videoFullViews="videoFullViews",e.videoFullViewPercentage="videoFullViewPercentage",e.clickouts="clickouts"}(o||(t.StatisticsCampaignsChartField=o={}));let r;t.StatisticsCampaignsPublicationType=r,function(e){e.all="all",e.article="article",e.gif="gif"}(r||(t.StatisticsCampaignsPublicationType=r={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MONEY_PAGE_ENTREPRENEUR=t.MONEY_PAGE_CUSTOM=t.MONEY_PAGE_SIMPLE_SELF_EMPLOYED=t.MONEY_PAGE_SIMPLE_OFFER=t.MONEY_PAGE_SIMPLE=t.MONEY_PAGE_SELECT_TYPE=t.MONEY_PAGE_INDEX=t.WALLET_SUPPORT=t.PERSONAL_DATA_SUPPORT_FORM=void 0;var n=i(19);t.PERSONAL_DATA_SUPPORT_FORM="//forms.yandex.ru/surveys/9849/",t.WALLET_SUPPORT="https://yandex.ru/support/zen/advertising/commercial-coverage.html#payment";const a=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money`;t.MONEY_PAGE_INDEX=a;const o=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/select-type`;t.MONEY_PAGE_SELECT_TYPE=o;const r=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple`;t.MONEY_PAGE_SIMPLE=r;const s=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple/offer`;t.MONEY_PAGE_SIMPLE_OFFER=s;const l=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple-self-employed`;t.MONEY_PAGE_SIMPLE_SELF_EMPLOYED=l;const c=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/custom`;t.MONEY_PAGE_CUSTOM=c;const d=`/${n.PREFIX_EDITOR_ROOT}/id/:publisherId/money/simple-individual-entrepreneur`;t.MONEY_PAGE_ENTREPRENEUR=d},function(e,t,i){"use strict";function n({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:o,parentId:r,parentType:s,place:l}){a({publisherItemId:e,publicationId:t,publicationItemId:i,pageType:o,parentId:r,parentType:s,place:l}),n&&S(e,b.SubscribeStatus.subscribed)}function a({publisherItemId:e,publicationId:t,publicationItemId:i,pageType:n,parentId:a,parentType:o,place:r}){(0,d.sendStatEvent)(y({event:"feedback_favourite",itemId:i,sourceId:e,publication_oid:t,pageType:n,parentId:a,parentType:o,place:r}))}function o({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:a,parentId:o,parentType:s,place:l}){r({publisherItemId:e,publicationId:t,publicationItemId:i,pageType:a,parentId:o,parentType:s,place:l}),n&&S(e,b.SubscribeStatus.unsubscribe)}function r({publisherItemId:e,publicationId:t,publicationItemId:i,pageType:n,parentId:a,parentType:o,place:r}){(0,d.sendStatEvent)(y({event:"feedback_cancel_favourite",itemId:i,sourceId:e,publication_oid:t,pageType:n,parentId:a,parentType:o,place:r}))}function s({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:a,parentId:o,parentType:r}){(0,d.sendStatEvent)(y({event:"feedback_block",itemId:i,sourceId:e,publication_oid:t,pageType:a,parentId:o,parentType:r})),n&&S(e,b.SubscribeStatus.blocked)}function l({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:a,parentId:o,parentType:r}){(0,d.sendStatEvent)(y({event:"feedback_cancel_block",itemId:i,sourceId:e,publication_oid:t,pageType:a,parentId:o,parentType:r})),n&&S(e,b.SubscribeStatus.unsubscribe)}Object.defineProperty(t,"__esModule",{value:!0}),t.sendLikePublisher=n,t.likePublisher=function({publisherItemId:e,publicationItemId:t,publicationId:i,isSendZenKit:a=!1,pageType:o,place:r}){return n({publisherItemId:e,publicationId:i,publicationItemId:t,isSendZenKit:a,pageType:o,place:r}),{type:v.SUBSCRIBE}},t.postLikePublisher=a,t.sendUnlikePublisher=o,t.unlikePublisher=function({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:a,place:r}){return o({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n,pageType:a,place:r}),{type:v.UNSUBSCRIBE}},t.postUnlikePublisher=r,t.sendBlockPublisher=s,t.blockPublisher=function({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:a}){return s({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n,pageType:a}),{type:v.BLOCK}},t.sendUnblockPublisher=l,t.unblockPublisher=function({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n=!1,pageType:a}){return l({publisherItemId:e,publicationId:t,publicationItemId:i,isSendZenKit:n,pageType:a}),{type:v.UNBLOCK}},t.fetchPreferences=t.PreferencesActionTypes=void 0;var c=i(304),d=i(35),u=i(28),p=i(7),m=i(67),h=i(91),f=i(475),g=i(51),b=i(186),_=i(27);let v;t.PreferencesActionTypes=v,function(e){e.SUBSCRIBE="SUBSCRIBE",e.UNSUBSCRIBE="UNSUBSCRIBE",e.BLOCK="BLOCK",e.UNBLOCK="UNBLOCK",e.SET_SUBSCRIBE_STATUS="SET_SUBSCRIBE_STATUS",e.SET_SUBSCRIBE_STATUS_IF_UNKNOWN="SET_SUBSCRIBE_STATUS_IF_UNKNOWN"}(v||(t.PreferencesActionTypes=v={}));const y=({event:e,itemId:t,sourceId:i,publication_oid:n,pageType:a,parentId:o,parentType:r,place:s})=>({event:e,item_type:"native",item_id:t,source_id:i,source_type:"publisher",publication_oid:n,...a?{page_type:a}:{},...o?{parent_id:o}:{},...r?{parent_type:r}:{},...s?{place:s}:{}}),S=(e,t)=>{(0,m.withZenKitApi)(i=>{i.supportsNewApi()?i.channelSubscriptionChange(e,t):location.href=(0,p.formatPath)("zenkit://channel-status-changed",{},{type:"publisher",id:e,status:t===b.SubscribeStatus.unsubscribe?"not_subscribed":t})})};t.fetchPreferences=(()=>async(e,t)=>{const i=t(),n=(0,u.getProfilePublisherId)(i),{publisher:{publisher:{itemId:a}},experiments:{fastCheckSubscriptionMaxWait:o},publication:{content:{type:r}}}=i,s=r===_.PublicationContentType.article;let l;try{l=await(0,c.fetchSubscriptionData)(a,n,s?o:void 0)}catch(e){l=g.SubscribeStatus.None}(0,m.withZenKitApi)(e=>{const t=(0,f.subscribeStatusToZenKitSubscribeStatus)(l);t&&e.channelSubscriptionChange(a,t)}),h.rumManager.subscriptionStatusLoaded(),e({type:v.SET_SUBSCRIBE_STATUS_IF_UNKNOWN,payload:{status:l}})})},function(e,t,i){"use strict";function n(e,t,i=[]){const n=[c.default,...i];return(0,l.createStore)(e,t,(0,l.compose)((0,l.applyMiddleware)(...n),h.chromeReduxExtension))}function a(e){const t={isVisible:!1,isPrepublishVisible:!1,isSubscribedToEmails:!1,agreementHighlight:!1,passportEmails:[]};if(!e)return t;const{data:{user:i,publisher:n,canCreatePublisher:a}}=e;return{user:i,publisher:n,canCreatePublisher:a,...t}}function o(e,t){const{zenUserData:i,config:n,editorConfig:o,featureConfig:r,language:s,data:{accessData:l,user:c,images:h={}}}=e,_={...(0,g.recalculateExperimentsValues)(t),experimentsString:(0,g.getExperimentsString)()||""},S=a(e),I=(0,b.getProfilePublisherId)({profile:S}),T=(0,d.makeInitialCampaignFlightState)({publisherId:I||""});return{url:{baseUrl:"",omittedQueryParams:m.isSSR?{}:v._zenOmittedQueryParams||{}},accessData:l,config:n,featureConfig:r,editorConfig:o,user:c,language:s,experiments:_,zenUserData:i,campaignFlight:T,profile:S,images:h,statData:m.isSSR?{}:function(e){const t=(0,p.getDeviceId)(),i=(0,u.getRid)(),n=(0,f.getToken)(),{data:{clid:a}}=e,o={clid:a,requestId:i};return t&&(o.deviceId=t),n&&(o.oAuthToken=n),o}(e),statPixels:y(e)}}var r=i(3),s=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.createAppStore=function({reducer:e,data:t,additionalMiddlewares:i}){return n(e,t,[_.default,...i||[]])},t.createStore=function(e,t=[],i={}){return n(e,i,t)},t.createStoreWithData=n,t.getInitialProfileState=a,t.getCommonStoreData=o,t.getCommonStoreDataFromGlobals=function(){return o(m.default)},t.getArticleStoreDataFromGlobals=function(){return function(e,t){var i;const n=o(e,void 0),{interview:a}=e;return{...n,articleFeedback:{initialQuestion:null===a||void 0===a?void 0:a.initialScreenId,questionsMap:null!==(i=null===a||void 0===a?void 0:a.screens)&&void 0!==i?i:{}}}}(m.default)};var l=i(59),c=s(i(298)),d=i(96),u=i(40),p=i(100),m=r(i(10)),h=i(209),f=i(114),g=i(77),b=i(28),_=s(i(210));const v="undefined"==typeof window?void 0:window,y=({data:{isNarrative:e,publicationPixels:t}})=>t&&{isNarrative:e,isVisible:!1,statPixels:t}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTrue=function(e){return"true"===e||!0===e},t.isFalse=function(e){return"false"===e||!1===e},t.getExperimentValue=void 0,t.getExperimentValue=((e="",t)=>t&&t.publishers_config.properties[e])},,,,function(e,t,i){"use strict";function n({url:e,linkName:t,publicationUtmConfig:i,yzclid:n}){const a=e.startsWith("https://zen.yandex")||e.startsWith("http://zen.yandex")?l:{},{addParams:o,replaceParams:r}=(0,s.resolveUTMParams)({publicationUtmLabels:i.publicationUtmLabels,resolvedMacroses:{...i.resolvedMacroses,...t?{"{link_name}":t.slice(0,50)}:{}},yzclid:n});return{addParams:o,replaceParams:{...a,...r,yzclid:n}}}function a(e){return!e.startsWith("mailto:")&&!e.startsWith("tel:")}function o({selector:e,publicationUtmConfig:t,yzclid:i}){if("undefined"==typeof window)return;const o=document.querySelectorAll(e);o&&[...o].forEach(e=>{if(!a(e.href))return;const o=e.innerText||e.textContent||void 0,{addParams:s,replaceParams:l}=n({url:e.href,linkName:o,publicationUtmConfig:t,yzclid:i});e.setAttribute("href",(0,r.replaceURLQueryParams)(e.href,s,l))})}Object.defineProperty(t,"__esModule",{value:!0}),t.getExternalParams=n,t.initLinks=o,t.modifyHrefIntegration=function({url:e,linkName:t,publicationUtmConfig:i,yzclid:o}){if(!a(e))return e;const{addParams:s,replaceParams:l}=n({url:e,linkName:t,publicationUtmConfig:i,yzclid:o});return(0,r.replaceURLQueryParams)(e,s,l)},t.initArticleLinks=t.integration=void 0;var r=i(7),s=i(205);const l=function(){if("undefined"==typeof window)return{};const e=(0,r.getUrlQuery)(window._originalStartUrl);return{integration:e.integration,place:e.place}}();t.integration=l,t.initArticleLinks=(({publicationUtmConfig:e,yzclid:t})=>{o({selector:".article-link",publicationUtmConfig:e,yzclid:t})})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setSubmitPersonalDataErrorCause=t.showAlertOfferAccepted=t.toggleActiveCurrencyRuble=t.setCurrency=t.hideAddImageNarrative=t.showAddImageNarrative=t.hideAddVideoNarrative=t.showAddVideoNarrative=t.hidePreviewNarrative=t.showPreviewNarrative=t.hidePublishNarrative=t.showPublishNarrative=t.hideMoneyPersonalData=t.showMoneyPersonalData=t.hideNewUrlLoading=t.showNewUrlLoading=t.syncState=t.updateState=t.updateStateByURL=t.SET_PERSONAL_DATA_SUBMIT_ERROR=t.HIDE_ADD_IMAGE_NARRATIVE=t.SHOW_ADD_IMAGE_NARRATIVE=t.HIDE_ADD_VIDEO_NARRATIVE=t.SHOW_ADD_VIDEO_NARRATIVE=t.HIDE_PREVIEW_NARRATIVE=t.SHOW_PREVIEW_NARRATIVE=t.HIDE_PUBLISH_NARRATIVE=t.SHOW_PUBLISH_NARRATIVE=t.HIDE_MONEY_PERSONAL_DATA=t.SHOW_MONEY_PERSONAL_DATA=t.HIDE_NEW_URL_LOADING=t.SHOW_NEW_URL_LOADING=t.SYNC_STATE=t.UPDATE_STATE=t.UPDATE_STATE_BY_URL=void 0;var n=i(10);const a="UPDATE_STATE_BY_URL";t.UPDATE_STATE_BY_URL=a,t.UPDATE_STATE="UPDATE_STATE",t.SYNC_STATE="SYNC_STATE";const o="SHOW_NEW_URL_LOADING";t.SHOW_NEW_URL_LOADING=o;const r="HIDE_NEW_URL_LOADING";t.HIDE_NEW_URL_LOADING=r;const s="SHOW_MONEY_PERSONAL_DATA";t.SHOW_MONEY_PERSONAL_DATA=s;const l="HIDE_MONEY_PERSONAL_DATA";t.HIDE_MONEY_PERSONAL_DATA=l;const c="SHOW_PUBLISH_NARRATIVE";t.SHOW_PUBLISH_NARRATIVE=c;const d="HIDE_PUBLISH_NARRATIVE";t.HIDE_PUBLISH_NARRATIVE=d;const u="SHOW_PREVIEW_NARRATIVE";t.SHOW_PREVIEW_NARRATIVE=u;const p="HIDE_PREVIEW_NARRATIVE";t.HIDE_PREVIEW_NARRATIVE=p;const m="SHOW_ADD_VIDEO_NARRATIVE";t.SHOW_ADD_VIDEO_NARRATIVE=m;const h="HIDE_ADD_VIDEO_NARRATIVE";t.HIDE_ADD_VIDEO_NARRATIVE=h;const f="SHOW_ADD_IMAGE_NARRATIVE";t.SHOW_ADD_IMAGE_NARRATIVE=f;const g="HIDE_ADD_IMAGE_NARRATIVE";t.HIDE_ADD_IMAGE_NARRATIVE=g;const b="MONEY_UPDATE_CURRENCY",_="MONEY_TOGGLE_CURRENCY_RUBLE",v="SHOW_ALERT_OFFER_ACCEPTED",y="SET_PERSONAL_DATA_SUBMIT_ERROR";t.SET_PERSONAL_DATA_SUBMIT_ERROR=y,t.updateStateByURL=(e=>({type:a,url:e})),t.updateState=(e=>({type:"UPDATE_STATE",state:e})),t.syncState=(()=>({type:"SYNC_STATE"})),t.showNewUrlLoading=(()=>({type:o})),t.hideNewUrlLoading=(()=>({type:r})),t.showMoneyPersonalData=(()=>({type:s})),t.hideMoneyPersonalData=(()=>({type:l})),t.showPublishNarrative=(()=>({type:c})),t.hidePublishNarrative=(()=>({type:d})),t.showPreviewNarrative=(()=>({type:u})),t.hidePreviewNarrative=(()=>({type:p})),t.showAddVideoNarrative=(()=>({type:m})),t.hideAddVideoNarrative=(()=>({type:h})),t.showAddImageNarrative=(()=>({type:f})),t.hideAddImageNarrative=(()=>({type:g}));const S={newUrlLoading:!1,moneyPersonalDataVisible:!1,currencyRubleToUSD:0,isActiveCurrencyRuble:!0,showAlertOfferAccepted:!1,narrativePublishVisible:!1,narrativePreviewVisible:!1,narrativeAddVideoVisible:!1,narrativeAddImageVisible:!1,location:!n.isSSR&&document&&document.location.href||"",promoVisible:!1};t.setCurrency=(e=>({type:b,currencyRubleToUSD:e})),t.toggleActiveCurrencyRuble=(e=>({type:_,isActive:e})),t.showAlertOfferAccepted=(()=>({type:v})),t.setSubmitPersonalDataErrorCause=(e=>({type:y,cause:e})),t.default=((e=S,t)=>{switch(t.type){case o:return{...e,newUrlLoading:!0};case r:return{...e,newUrlLoading:!1};case s:return{...e,moneyPersonalDataVisible:!0};case l:return{...e,moneyPersonalDataVisible:!1};case c:return{...e,narrativePublishVisible:!0};case d:return{...e,narrativePublishVisible:!1};case u:return{...e,narrativePreviewVisible:!0};case p:return{...e,narrativePreviewVisible:!1};case m:return{...e,narrativeAddVideoVisible:!0};case h:return{...e,narrativeAddVideoVisible:!1};case f:return{...e,narrativeAddImageVisible:!0};case g:return{...e,narrativeAddImageVisible:!1};case b:return{...e,currencyRubleToUSD:t.currencyRubleToUSD};case _:return{...e,isActiveCurrencyRuble:t.isActive};case v:return{...e,showAlertOfferAccepted:!0};case y:return{...e,personalDataSubmitErrorCause:t.cause};default:return e}})},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BANNED_COMMANDS=t.KEY_COMMANDS=t.NOT_HANDLED=t.HANDLED=t.HYPERLINK=t.Entity=t.Inline=t.AtomicBlock=t.Block=void 0;const n=Object.freeze({UNSTYLED:"unstyled",PARAGRAPH:"unstyled",OL:"ordered-list-item",UL:"unordered-list-item",H1:"header-one",H2:"header-two",H3:"header-three",H4:"header-four",H5:"header-five",H6:"header-six",CODE:"code-block",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",ATOMIC:"atomic",BLOCKQUOTE_CAPTION:"block-quote-caption",CAPTION:"caption",BREAK:"atomic:break"});t.Block=n;const a=Object.freeze({EMBED:"atomic:embed",AD:"atomic:ad",IMAGE:"atomic:image"});t.AtomicBlock=a;const o=Object.freeze({BOLD:"BOLD",ITALIC:"ITALIC",STRIKE:"STRIKE",UNDERLINE:"UNDERLINE"});t.Inline=o,t.Entity={LINK:"LINK",HASHTAG_TEXT:"HASHTAG"},t.HYPERLINK="hyperlink",t.HANDLED="handled",t.NOT_HANDLED="not-handled";const r=Object.freeze({backspace:()=>"backspace",addNewBlock:()=>"add-new-block",changeType:(e="")=>`changetype:${e}`,showLinkInput:()=>"showlinkinput",unlink:()=>"unlink",toggleInline:(e="")=>`toggleinline:${e}`,deleteBlock:()=>"delete-block",usualHashtag:()=>"usual-hashtag"});t.KEY_COMMANDS=r;const s=Object.freeze(["code"]);t.BANNED_COMMANDS=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initIntersectionObserver=function(e,t){return(a?n||("IntersectionObserver"in a&&"IntersectionObserverEntry"in a&&"intersectionRatio"in a.IntersectionObserverEntry.prototype?("isIntersecting"in a.IntersectionObserverEntry.prototype||Object.defineProperty(a.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),n=Promise.resolve()):n=i.e(49).then(i.t.bind(null,881,7)),n):Promise.resolve()).then(()=>new IntersectionObserver(e,t))},t.makeHandleIntersection=function(e,t=[]){return async function(i,n){i.forEach(i=>{i.isIntersecting&&(e(i.target,...t),n.unobserve(i.target))})}};let n;const a="undefined"==typeof window?void 0:window},,function(e,t,i){"use strict";function n(e){const{preview:t}=e.content;return t.image}Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviewImage=n,t.getMobilePreviewImageUrl=function({images:e,config:t},i){const a=n(i);if(!a)return;const r=e[a.id];return r?(0,o.formatAvatarsUrl)(r,"smart_crop_low_blur_112x132",t):void 0},t.getPublicationType=function(e){return e.content.type},t.useFeedbackDataSelector=t.getFeedbackEventData=t.getDraftStatus=t.getVideoSource=t.getUploadDate=t.getDuration=t.getInteractionCount=t.getName=t.getEmbeddedTags=void 0;var a=i(18),o=i(23),r=i(20),s=i(120);t.getEmbeddedTags=(e=>e&&e.privateData&&e.privateData.embeddedTags||[]),t.getName=(({content:e})=>e.preview&&e.preview.title||""),t.getInteractionCount=(({privateData:e})=>e&&e.statistics&&!isNaN(e.statistics.views)&&Number(e.statistics.views)||0),t.getDuration=(({content:e})=>e.gifContent.duration&&!isNaN(e.gifContent.duration)&&(0,r.toISO8601Duration)(e.gifContent.duration)||void 0),t.getUploadDate=(({addTime:e})=>e&&(0,r.toISODate)(e)||""),t.getVideoSource=(({content:e})=>e&&e.gifContent.stream||""),t.getDraftStatus=(e=>e&&e.privateData&&e.privateData.draftStatus),t.getFeedbackEventData=((e,t="")=>{const{itemId:i,publisherItemId:n,content:a}=e;return{item_id:i,source_id:n,publisher_id:n,link:t,item_type:a.type,publication_oid:e.id}}),t.useFeedbackDataSelector=(()=>{const{preferences:e,feedback:t,publication:i,otherUsersAvatars:n,userAvatarUrl:o,isLikedByUser:r,hasOnlyUnauthorizedLikes:l,socialsDataLoaded:c,totalLikesCount:d,totalCommentsCount:u,otherTopLikers:p,currentUser:m,experiments:h,profile:f,shareUrl:g}=(0,a.useSelector)(e=>{const{preferences:t,feedback:i,publication:n,experiments:a,comments:o,profile:r,config:l,publisher:{publisher:c}}=e,{otherUsersAvatars:d,userAvatarUrl:u,isLikedByUser:p,hasOnlyUnauthorizedLikes:m,socialsDataLoaded:h,totalLikesCount:f,totalCommentsCount:g,otherTopLikers:b,currentUser:_}=o,{publishersMobileDomain:v,publishersDesktopDomain:y}=l,{shareUrl:S}=(0,s.getProtectedLinks)({host:location.host,pathName:location.pathname},c,y,v);return{preferences:t,feedback:i,publication:n,otherUsersAvatars:d,userAvatarUrl:u,isLikedByUser:p,hasOnlyUnauthorizedLikes:m,socialsDataLoaded:h,totalLikesCount:f,totalCommentsCount:g,otherTopLikers:b,currentUser:_,experiments:a,profile:r,shareUrl:S}},a.shallowEqual);return{preferences:e,feedback:t,publication:i,otherUsersAvatars:n,userAvatarUrl:o,isLikedByUser:r,hasOnlyUnauthorizedLikes:l,socialsDataLoaded:c,totalLikesCount:d,totalCommentsCount:u,otherTopLikers:p,currentUser:m,experiments:h,profile:f,shareUrl:g}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommmentsEvent=t.VisibleCommentsState=void 0;let n;t.VisibleCommentsState=n,function(e){e.VISIBLE="visible",e.SUBSCRIBE_VISIBLE="subscribe-visible",e.INVISIBLE="invisible"}(n||(t.VisibleCommentsState=n={}));let a;t.CommmentsEvent=a,(a||(t.CommmentsEvent=a={})).getMoreComments="GET_MORE_COMMENTS"},,,,,,function(e,t,i){"use strict";function n(e){return async(t,i)=>{const n=i(),o=(0,l.getProfilePublisherId)(n),{editor:r}=n,{publication:s,isOfflinePublication:u}=r;if(!u){if(!s)return void t((0,c.updateEditorStatus)(y.EditorStatus.fine));try{t((0,c.updateEditorStatus)(y.EditorStatus.saving));const i=await(0,g.postData)((0,f.formatPath)(d.UPDATE_PUBLICATION_URL,{},{publisherId:o}),e);if((0,T.checkUpdateResponse)(i),t((0,c.updateEditorStatus)(y.EditorStatus.justSaved)),s.content.type===S.PublicationContentType.gallery&&(0,I.galleryNotSavedImagesCount)(s)>0)return void t((0,c.updateEditorStatus)(y.EditorStatus.notAllUploaded));t((0,c.updateConnectionStatus)(y.ConnectionStatus.online)),t((0,c.updateEditorStatus)(y.EditorStatus.fine))}catch(e){throw t(a(e)),e}}}}function a(e){return(t,i)=>{const{editor:{publication:n}}=i();if(["offline","timeout"].includes(e.errorType))return t((0,c.updateConnectionStatus)(y.ConnectionStatus.offline)),void t((0,c.updateEditorStatus)(y.EditorStatus.offline));n&&(n.content.type===S.PublicationContentType.gallery&&(0,I.galleryNotSavedImagesCount)(n)>0?t((0,c.updateEditorStatus)(y.EditorStatus.notAllUploaded)):t((0,c.updateConnectionStatus)(y.ConnectionStatus.online)))}}Object.defineProperty(t,"__esModule",{value:!0}),t.publishPublication=function(e){return t=>t((0,o.publishV2)(e)).then(e=>{if(e)return Promise.reject(e)})},t.initMobileEditor=function(){return async e=>{const{user:t}=await e((0,r.loadUser)());return t.publisherId?(await e((0,r.loadPublisherByPublisherId)(t.publisherId)),e((0,u.loadConfig)())):e((0,r.createUserPublisher)())}},t.uploadImageMobileEditor=function(e){return async(t,i)=>{const{editor:{publication:n}}=i();if(!n)return;const{publisherId:a,id:o}=n,r=(0,f.formatPath)(`/${P.EDITOR_API_V2}/add-image`,{},{publicationId:o,publisherId:a}),s=await(0,g.postFormData)(r,{image:e}).then(({promise:e})=>e);return t((0,p.addImage)(s)),s}},t.onCloseEditor=function({location:e,history:t,match:i},n){return async(a,r)=>{try{const{editor:{publication:l,publicationLoadingError:c,connectionStatus:d}}=r(),u=!c&&(0,b.isPublicationEmpty)(l)&&d!==y.ConnectionStatus.offline,p=(0,v.getPublicationIdFromUrl)(i.url);u&&p&&await a((0,m.deletePublicationMobile)(p,s.PUBLICATIONS_GROUP_KEY.DRAFT)),l&&l.content.type===S.PublicationContentType.gallery&&a((0,h.removeLocalImagesFromGallery)(l)),a((0,o.clearEditor)()),n&&n.hide("hashtag");const g=(0,_.getZenKitApi)();if(g){const e=await g.getLaunchOptions();if(null===e||void 0===e?void 0:e.publicationId)return void t.replace(`/publications/${s.PUBLICATIONS_GROUP_KEY.PUBLISHED}`)}if(Boolean((0,f.getUrlQuery)(e.search).back))return void t.goBack();(0,_.withZenKitApi)(e=>e.close()).else(()=>void 0)}catch(e){t.goBack()}}},t.mobileUpdateAndSaveForm=function(e){return t=>{t((0,o.updateStateFromValues)(e)),t(E())}},t.changeEditorStatus=a,t.mobileSaveVideoDraft=t.mobileSaveDraft=void 0;var o=i(172),r=i(61),s=i(106),l=i(28),c=i(90),d=i(40),u=i(223),p=i(110),m=i(93),h=i(444),f=i(7),g=i(13),b=i(47),_=i(67),v=i(81),y=i(29),S=i(27),I=i(72),T=i(78),P=i(19);const E=()=>async(e,t)=>{const i=t(),{editor:a}=i,{config:o}=i.config,{publication:r}=a;if(!r)return void e((0,c.updateEditorStatus)(y.EditorStatus.fine));const s=(0,v.getSaveDraftData)(r,o);try{return await e(n(s))}catch(e){}};t.mobileSaveDraft=E,t.mobileSaveVideoDraft=(()=>async(e,t)=>{const i=t(),{editor:a}=i,{config:o}=i.config,{publication:r}=a;if(!r)return void e((0,c.updateEditorStatus)(y.EditorStatus.fine));const s=(0,v.getSaveDraftData)(r,o);try{await e(n(s))}catch(e){}})},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImage=function(e,t,i){const a=(0,r.formatPath)(`/${l.EDITOR_API_V2}/add-image`,{},{publicationId:e.id,publisherId:i});return(0,o.postFormData)(a,{image:t}).then(({promise:e})=>e).then(n.addImageDataToDict)},t.uploadPublicationImage=function(e,t){const i=`/${l.EDITOR_API_V2}/add-image?${(0,r.toUrlQueryString)(e)}`;return(0,o.postFormData)(i,{image:t}).then(({promise:e})=>e).then(n.addImageDataToDict)},t.removePublicationImage=function(e){const t=`/${l.EDITOR_API_V2}/delete-image?${(0,r.toUrlQueryString)(e)}`;return(0,o.postFormData)(t,{}).then(({promise:e})=>e).then(n.addImageDataToDict)},t.uploadByUrl=function(e,t,i){const a=(0,r.formatPath)(`/${l.EDITOR_API_V2}/add-image-from-url`,{},{publicationId:e,url:t,publisherId:i});return(0,o.postData)(a,{}).then(n.addImageDataToDict)},t.uploadFileByUrl=function(e,t,i){const n=(0,r.formatPath)(`/${l.EDITOR_API_V2}/add-image-from-url`,{},{publicationId:e,url:t,publisherId:i});return(0,o.postData)(n,{})},t.getIsCampaignsPage=function(){return window.location.href.includes("/campaigns")},t.toPublications=function(e){window.location.href=(0,r.toPublisherUrl)(e)},t.toCampaigns=function(e){window.location.href=(0,r.toCampaignsUrl)({id:e})},t.toEditor=function(e,t){window.location.href=(0,r.toEditUrl)({publication:e,query:t})},t.onPublisherSubscribe=function(){(0,a.reachGoal)("subscribe_article_plus_desktop_footer")},t.onPublisherUnSubscribe=function(){(0,a.reachGoal)("subscribe_article_minus_desktop_footer")},t.getRequestedPublishTime=function(e){const{delayedDate:t,delayedTime:i,delayedPublicationFlagState:n}=e;if(n===s.FlagState.on&&t){const[e=0,n=0]=i?i.split(":"):[],a=new Date(t).setHours(+e,+n);return new Date(a)}};var n=i(23),a=i(66),o=i(13),r=i(7),s=i(29),l=i(19)},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pixelsValuesToApiParams=function(e){return e.reduce((e,t)=>{const i=e[t.event]||[];return i.push(t.url),e[t.event]=i,e},{})},t.pixelsApiParamsToValues=function(e){return Object.keys(e).reduce((t,i)=>{var n;return null===(n=e[i])||void 0===n||n.forEach(e=>{e&&t.push({event:i,url:e})}),t},[])}},,,,,function(e,t,i){"use strict";function n(e={name:"",url:""}){return{imageIdX1:e.id,imageIdX2:e.id,name:e.name,srcX1:e.url,srcX2:e.url}}function a(e){return e?{id:e.imageIdX1,name:e.name,url:e.srcX1}:{id:"",name:"",url:""}}Object.defineProperty(t,"__esModule",{value:!0}),t.isBlackBack=function(e){return!e||!1!==e.blackBack},t.hasStopper=function(e){return!1!==e.hasStopper},t.getLinkToOpen=function({rid:e,flightId:t,swipeToSite:i,yzclid:n,publicationUtmConfig:a}){return i.redirectUrl?(0,r.formatPath)(i.redirectUrl,{},{rid:e,flightId:t,yzclid:n}):(0,o.modifyHrefIntegration)({url:(0,r.addProtocolToUrlIfAbsent)(i.linkToOpen),linkName:"scroll2Site",yzclid:n,publicationUtmConfig:a})},t.getArticleS2SDesign=function(e){if(e&&e.design===s.SwipeToSiteDesign.design9)return s.SwipeToSiteDesign.design9},t.getNarrativeS2SDesign=function(e){if(e&&e.design===s.SwipeToSiteDesign.design4)return s.SwipeToSiteDesign.design4},t.convertAtricleS2StoNarrative=function(e,t){const i=[s.SwipeToSiteOSTargeting.android,s.SwipeToSiteOSTargeting.desktop,s.SwipeToSiteOSTargeting.ios,s.SwipeToSiteOSTargeting.mobileUnknown];return{...e,design:s.SwipeToSiteDesign.design4,publicationTypeTargeting:[l.PublicationContentType.narrative],title:t||e.title,osTargeting:i}},t.getInitialValue=function(e){const t=e&&e[0],{blackBack:i,linkToOpen:n="",linkToShow:o="",title:r}=t||{};let l=void 0,c=void 0,d=void 0,u=void 0;return(e||[]).forEach(e=>{-1!==e.osTargeting.indexOf(s.SwipeToSiteOSTargeting.desktop)&&(l=l||a(e.background)),-1!==e.osTargeting.indexOf(s.SwipeToSiteOSTargeting.mobileUnknown)&&(c=c||a(e.background)),-1!==e.osTargeting.indexOf(s.SwipeToSiteOSTargeting.android)&&(d=d||a(e.background)),-1!==e.osTargeting.indexOf(s.SwipeToSiteOSTargeting.ios)&&(u=u||a(e.background))}),{blackBack:i,callToAction:r,linkToOpen:n,linkToShow:o,desktopImage:l,mobileImage:c,androidImage:d,iOSImage:u}},t.getInitialType=t.formatFormData=void 0;var o=i(139),r=i(7),s=i(74),l=i(27),c=i(203);t.formatFormData=((e,t,i)=>{const{blackBack:a,callToAction:o,linkToOpen:r,linkToShow:l,desktopImage:c,mobileImage:d,androidImage:u,iOSImage:p}=i,m={linkToOpen:r,linkToShow:l,title:o,subtitle:"",design:e?s.SwipeToSiteDesign.design4:s.SwipeToSiteDesign.design9,logo:{name:"",srcX1:"",srcX2:""},blackBack:a};if("redirect"===t){const t={...m,background:n(d),osTargeting:[s.SwipeToSiteOSTargeting.mobileUnknown,s.SwipeToSiteOSTargeting.ios,s.SwipeToSiteOSTargeting.android].concat(e?[s.SwipeToSiteOSTargeting.desktop]:[])};return e?[t]:[{...m,background:n(c),osTargeting:[s.SwipeToSiteOSTargeting.desktop],design:s.SwipeToSiteDesign.design9},t]}return[{...m,background:n(u),osTargeting:[s.SwipeToSiteOSTargeting.android,s.SwipeToSiteOSTargeting.desktop]},{...m,background:n(p),osTargeting:[s.SwipeToSiteOSTargeting.ios]}]}),t.getInitialType=(e=>e&&e.length?e.find(e=>1===e.osTargeting.length&&e.osTargeting[0]===s.SwipeToSiteOSTargeting.desktop)?c.S2SType.redirect:c.S2SType.install:c.S2SType.redirect)},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0;var n=i(8);let a;t.ErrorType=a,function(e){e.somethingWentWrong="something-went-wrong",e.flightFinished="flight-finished",e.invalidEmailError="invalid-email-error",e.phoneNumberInvalid="phone-number-invalid",e.phoneCodeInvalid="phone-code-invalid",e.phoneConfirmationsLimitExceeded="phone-confirmations-limit-exceeded",e.accessAlreadyExists="adding-access-to-owner-id",e.agencyEmailOrLoginIsNotMainOne="agency-email-or-login-is-not-main-one",e.failedToResolveClientPassport="failed-to-resolve-client-passport",e.flightPublicationLimitExceeded="publication-limit-exceeded-for-flight"}(a||(t.ErrorType=a={}));const o={[a.somethingWentWrong]:(0,n.lang)('c4ee7a73'),[a.flightFinished]:(0,n.lang)('5261d3a9'),[a.invalidEmailError]:(0,n.lang)('309c6f8f'),[a.phoneNumberInvalid]:(0,n.lang)('de39fc40'),[a.phoneCodeInvalid]:(0,n.lang)('5c12d005'),[a.phoneConfirmationsLimitExceeded]:(0,n.lang)('6feb99dc'),[a.accessAlreadyExists]:(0,n.lang)('2f22a41b'),[a.agencyEmailOrLoginIsNotMainOne]:(0,n.lang)('cc0a3fd5'),[a.failedToResolveClientPassport]:(0,n.lang)('cc0a3fd5'),[a.flightPublicationLimitExceeded]:(0,n.lang)('82c17b5e')};t.errorMessages=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HASHTAG=void 0;var n=i(176);const a={SPACE:String.fromCharCode(8200),COLOR:"#07f",SAVE_TIMEOUT:500,HASH_SYMBOL:"#",REGEXP:{HASHTAG:(0,n.memoize)((e,t=1)=>new RegExp(`#[${e.allowedSymbols}]{${t},${e.maxTagLength}}`,"ig")),FORBIDDEN_SYMBOLS:(0,n.memoize)(e=>new RegExp(`[^${e.allowedSymbols}]`,"gi")),TAG:(0,n.memoize)(e=>new RegExp(`^[${e.allowedSymbols}]+`,"i")),LONG_HASHTAG:(0,n.memoize)(e=>new RegExp(`#[${e.allowedSymbols}]{${e.maxTagLength+1},}`,"ig")),HASH:new RegExp("#","ig"),HASHTAG_COMMON:(0,n.memoize)((e,t=1)=>new RegExp(`#$|#[${e.allowedSymbols}]{${t},}`,"ig")),HASH_AND_LINK:new RegExp("https?\\S+|#","ig"),HASHTAG_COMMON_AND_LINK:(0,n.memoize)(e=>new RegExp(`(https?\\S+|#$|#[${e.allowedSymbols}]+)`,"ig")),HASHTAG_AND_LINKS:(0,n.memoize)((e,t=1)=>new RegExp(`https?\\S+|#[${e.allowedSymbols}]{${t},${e.maxTagLength}}`,"ig"))}};t.HASHTAG=a},,function(e,t,i){"use strict";function n(e){return(t,i)=>{const n=i(),{config:a}=n,o=(0,M.getProfilePublisherId)(n),{campaign:r}=n.tiedCampaign,s=(0,U.getSaveDraftData)(e,a);return r&&(0,k.isCampaignFlightType)(r.type)&&(s.darkPost=e.darkPost),B=B.then(()=>(0,_.postData)((0,R.formatPath)(L.UPDATE_PUBLICATION_URL,{},{publisherId:o}),s)).then(e=>{(0,x.checkUpdateResponse)(e),t({type:D.SAVE_DRAFT})}).catch(e=>(t((0,D.raiseEditorError)(e)),e))}}function a(e){return(t,i)=>{const n=i(),{config:a}=n,{publisher:o}=n.publisher,{campaign:r}=n.tiedCampaign,{lastValidCheck:s}=n.captcha,{darkPost:l}=e,c=(0,U.getSaveDraftData)(e,a);s&&(c.captcha=s);const d=(0,M.getProfilePublisherId)(n);return r&&(0,k.isCampaignFlightType)(r.type)&&(c.darkPost=l),B=B.then(()=>(0,_.postData)((0,R.formatPath)(L.UPDATE_PUBLICATION_AND_PUBLISH_URL,{},{publisherId:d}),c)).then(()=>{(0,C.reachGoal)("article_created"),t({type:D.PUBLISH}),r&&(0,k.isCampaignFlightType)(r.type)?(0,v.toCampaigns)(o.id):O.history.push((0,R.toPublisherUrl)(o)),t({type:D.CLOSE_PUBLISH})}).catch(e=>{if(e.type&&L.CAPTCHA_ERRORS.includes(e.type))return t((0,y.generateCaptcha)({isError:!!c.captcha}));t((0,D.raiseEditorError)(e))})}}function o(){return{type:D.SET_DETECTED_TAGS_SHOWN}}function r(e){return{type:D.SET_PREVIEW_IMAGES,images:e}}function s(e){return t=>{const i=(0,v.getRequestedPublishTime)(e),n={...e,requestedPublishTime:i&&i.toISOString()};t({type:D.UPDATE_STATE_BY_FORM,payload:n})}}function l(){return{type:D.TO_PREPUBLISH}}function c(){return{type:D.CLOSE_PUBLISH}}function d(){return{type:D.FREEZE_SNIPPET}}function u(e){return{type:D.UPDATE_TAGS,tags:e}}function p(e){return{type:D.UPDATE_PRIVATE_DATA,privateData:e}}function m(){return{type:D.PREPARE_PUBLISH}}function h(){return{type:D.SHOW_SHARE_DRAFT}}function f(){return{type:D.HIDE_SHARE_DRAFT}}function g(e){return{type:D.SAVE_PUBLICATION_DRAFT,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicationTags=function(e){return async t=>{var i,n;if(!e.content.articleContent)return;const a=await(0,N.postTagsPublicationRequest)(e.id,e.content.articleContent);null!==(i=e.privateData)&&void 0!==i&&i.detectedTagsShown?t({type:D.CHANGE_PUBLICATION_TAGS,data:a}):(((null===(n=e.privateData)||void 0===n?void 0:n.tags)||[]).length?t({type:D.CHANGE_PUBLICATION_TAGS,data:a}):t({type:D.CHANGE_PUBLICATION_TAGS,data:{...a,tags:a.detectedTags.map(e=>e.value)}}),t(o()))}},t.saveDraft=n,t.publish=a,t.publishV2=function(e){return(t,i)=>{const n=i(),{captcha:a,editor:o,config:r}=n,{lastValidCheck:s}=a;let l=e;if(!l){if(!o.publication)return B;l=o.publication}const c=(0,U.getSaveDraftData)(l,r),d=(0,M.getProfilePublisherId)(n);return s&&(c.captcha=s),B=B.then(()=>(0,_.postData)((0,R.formatPath)(L.UPDATE_PUBLICATION_AND_PUBLISH_URL,{},{publisherId:d}),c)).then(()=>{(0,C.reachGoal)("article_created"),t({type:D.PUBLISH})}).catch(e=>e.type&&L.CAPTCHA_ERRORS.includes(e.type)?t((0,y.generateCaptcha)({isError:!!c.captcha})):(t((0,D.raiseEditorError)(e)),Promise.resolve(e)))}},t.sendPrePublishStatistic=function(e,t){(0,_.postData)((0,b.buildUrl)(L.LOG_EDITOR,{publisherId:t}),{type:"pre_publish",publicationId:e})},t.setDetectedTagsShown=o,t.setPreviewImages=r,t.updateStateFromValues=s,t.updateAndSaveForm=function(e){return(t,i)=>{t(s(e));const{editor:{publication:a}}=i();a&&t(n(a))}},t.saveAndPublishForm=function(e){return(t,i)=>{t(s(e));const{editor:{publication:n},utmEditorState:{data:{pixels:o,overridePublicationPixels:r}}}=i();if(!n)return B;const l=o&&o.length>0&&r;return(T.statPixelsEnabled&&!l&&e.pixels?t((0,I.saveStatPixels)({publicationId:n.id,pixels:(0,A.pixelsValuesToApiParams)(e.pixels),active:!0})).catch(e=>((0,S.addNotification)(w.NotificationErrorType.error,(0,P.lang)('2df63b7e')),Promise.reject(e))):Promise.resolve()).then(()=>t(a(n)))}},t.toPrePublish=l,t.closePublish=c,t.freezeSnippet=d,t.updateTags=u,t.updatePrivateData=p,t.changePublishFormTab=function(e){return{type:D.CHANGE_PUBLISH_FORM_TAB,tab:e}},t.preparePublish=m,t.showShareDraft=h,t.hideShareDraft=f,t.saveShareDraftData=g,t.updateShareDraft=function(e){const t={"invalid-channel-error":(0,P.lang)('fa342c07'),"invalid-email-error":(0,P.lang)('800c4aa4')};return(i,n)=>{const a=(0,M.getProfilePublisherId)(n());return(0,_.postData)((0,R.formatPath)(L.SET_PUBLICATION_DRAFT_ACCESS,{},{publisherId:a}),e).then(t=>(i(g(e)),t)).catch(e=>{const n=(0,E.get)(t,String(e.type),(0,P.lang)('98e2a58e'));return window.console.error(e),i((0,S.addNotification)(w.NotificationErrorType.error,String(n))),Promise.reject(e)})}},t.fetchShareDraft=function(){return(e,t)=>{const{editor:{publication:i}}=t();if(!i)return;const{publisherId:n,id:a}=i;(0,_.loadData)((0,b.buildUrl)(L.GET_PUBLICATION_DRAFT_ACCESS,{publisherId:n,draftId:a})).then(t=>(e(g(t)),t))}},t.clearEditor=function(){return{type:D.CLEAR_EDITOR}},t.changeUploadingImagesCount=function(e){return(t,i)=>{const{editor:{uploadingImagesCount:n}}=i();t({type:D.CHANGE_UPLOADING_IMAGES_COUNT,payload:n+(e?1:-1)})}},Object.defineProperty(t,"updatePreview",{enumerable:!0,get:function(){return D.updatePreview}}),t.actions=t.updateHasNativeAds=t.updateAlcoholTobacco=t.updateAdsFlag=t.updateCommentsFlag=t.updateDelayedPublishFlag=void 0;var b=i(52),_=i(13),v=i(156),y=i(299),S=i(48),I=i(185),T=i(39),P=i(8),E=i(60),C=i(66),A=i(161),k=i(47),O=i(103),L=i(40),w=i(56),D=i(90),R=i(7),M=i(28),N=i(181),U=i(81),x=i(78);let B=Promise.resolve();t.updateDelayedPublishFlag=(e=>({type:D.UPDATE_DELAYED_PUBLICATION_FLAG,delayedPublicationFlagState:e}));const F=e=>({type:D.UPDATE_COMMENTS_FLAG,commentsFlagState:e});t.updateCommentsFlag=F;const H=e=>({type:D.UPDATE_AD_FLAG,adsFlagState:e});t.updateAdsFlag=H;const V=e=>({type:D.UPDATE_ALCOHOL_TOBACCO_FLAG,alcoholTobaccoMentioned:e});t.updateAlcoholTobacco=V;const j=e=>({type:D.UPDATE_HAS_NATIVE_ADS,hasNativeAds:e});t.updateHasNativeAds=j;const z={saveDraft:n,publish:a,setPreviewImages:r,toPrePublish:l,updateContent:D.updateContent,updateTags:u,updatePrivateData:p,closePublish:c,freezeSnippet:d,updatePreview:D.updatePreview,preparePublish:m,setHasChanges:D.setHasChanges,raiseEditorError:D.raiseEditorError,hideEditorError:D.hideEditorError,updateCommentsFlag:F,updateAdsFlag:H,updateAlcoholTobacco:V,updateHasNativeAds:j,showShareDraft:h,hideShareDraft:f};t.actions=z},,function(e,t,i){"use strict";i.p=window._staticBase?`${window._staticBase}auto/`:"//yastatic.net/s3/zen-lib/publishers/static/auto/"},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0;const n=e=>{function t(...i){const{cache:n}=t,a=()=>{const a=e.apply(this,i);return t.cache=n.set(e,[i,a]),a},o=n.get(e);if(o){const[e,t]=o,n=Math.max(o[0].length,i.length);for(let t=0;t<n;t+=1)if(e[t]!==i[t])return a();return t}return a()}return t.cache=new n.Cache,t};t.memoize=n,n.Cache=Map},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropPublicationRequest=function(e,t){const i=(0,a.formatPath)(o.DELETE_PUBLICATION_URL,{},{id:e,publisherId:t});return(0,n.postData)(i,{})},t.dropUnpublishedChangesRequest=function(e,t){const i=(0,a.formatPath)(o.DELETE_UNPUBLISHED_CHANGES_URL,{},{publicationId:e,publisherId:t});return(0,n.postData)(i,{})},t.getPublicationRequest=function(e,t){const i=(0,a.formatPath)(r.PATHS.GET_PUBLICATION_DRAFT,{publisherId:t,publicationId:e});return(0,n.loadData)(i,{noCache:!0})},t.postTagsPublicationRequest=function(e,t){return(0,n.postData)(r.PATHS.GET_TAGS_PUBLICATION_SETTING,{id:e,articleContent:t})};var n=i(13),a=i(7),o=i(40),r=i(22)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsToPublication=t.SocialLoginPopupValueType=t.socialLoginPopupStorageKey=void 0,t.socialLoginPopupStorageKey="SOCIAL_LOGIN_POPUP";let n;t.SocialLoginPopupValueType=n,function(e){e.mainpage="mainpage",e.saveSource="save_source",e.betterRecommendations="better_recommend",e.tuneFeed="tune_feed",e.saveInProfile="save_in_profile"}(n||(t.SocialLoginPopupValueType=n={}));let a;t.ActionsToPublication=a,function(e){e.subscribe="subscribe",e.like="like"}(a||(t.ActionsToPublication=a={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omit=void 0,t.omit=((e,t)=>{const i=Object.assign({},e);return t.forEach(e=>delete i[e]),i})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveStatPixels=function(e){return(t,i)=>{const{publicationId:l,active:c,pixels:d}=e,u=(0,o.getProfilePublisherId)(i());return t({type:s.saving}),(0,n.postData)((0,a.formatPath)(r.PATHS.UPDATE_STAT_PIXELS,{},{publisherId:u}),{publicationId:l,active:c,pixels:Object.keys(d).length?d:void 0}).then(()=>{t({type:s.saved,payload:e})})}},t.statPixelsClearData=t.showStatPixelsPopup=t.closeStatPixelsPopup=t.initStatPixelsPopup=t.StatPixelsType=void 0;var n=i(13),a=i(7),o=i(28),r=i(22);let s;t.StatPixelsType=s,function(e){e.init="STAT_PIXELS_INIT",e.showPopup="STAT_PIXELS_SHOW_POPUP",e.closePopup="STAT_PIXELS_SHOW_CLOSE",e.saved="STAT_PIXELS_SAVED",e.saving="STAT_PIXELS_SAVING",e.clearData="STAT_PIXELS_CLEAR_DATA"}(s||(t.StatPixelsType=s={})),t.initStatPixelsPopup=(({pixels:e,publicationType:t})=>({type:s.init,payload:{pixels:e,publicationType:t}})),t.closeStatPixelsPopup=(()=>({type:s.closePopup})),t.showStatPixelsPopup=(()=>({type:s.showPopup})),t.statPixelsClearData=(()=>({type:s.clearData}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ZenKitInterface",{enumerable:!0,get:function(){return n.ZenKitInterface}}),t.FeedbackStatus=t.SubscribeStatus=t.ChannelType=t.LaunchOptionsMode=void 0;var n=i(67);let a;t.LaunchOptionsMode=a,function(e){e.list="list",e.editor="editor",e.settings="settings",e.galleryEditor="gallery_editor",e.videoEditor="video_editor"}(a||(t.LaunchOptionsMode=a={}));let o;t.ChannelType=o,function(e){e.publisher="publisher",e.interest="interest",e.domain="domain"}(o||(t.ChannelType=o={}));let r;t.SubscribeStatus=r,function(e){e.subscribed="subscribed",e.blocked="blocked",e.unsubscribe="unsubscribed"}(r||(t.SubscribeStatus=r={}));let s;t.FeedbackStatus=s,function(e){e.liked="liked",e.disliked="disliked",e.none="none"}(s||(t.FeedbackStatus=s={}))},function(e,t,i){"use strict";i(188)},function(e,t,i){},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var a=n(i(11));t.EventDispatcher=class{constructor(){(0,a.default)(this,"handlersList",[])}on(e){this.handlersList.push(e)}off(e){this.handlersList=this.handlersList.filter(t=>t!==e)}emit(e){this.handlersList.forEach(t=>t(e))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDB=void 0;const n="zen-editor",a="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let o=null;const r=(e,t)=>(a?(o||(o=new Promise((e,t)=>{const i=a.open("zen-editor-db",1);i.onerror=(()=>{t(i.error)}),i.onupgradeneeded=(()=>{i.result.createObjectStore(n)}),i.onsuccess=(()=>{e(i.result),i.result.onclose=(()=>{o=null})})})),o):Promise.reject(new Error("indexedDB is not supported."))).then(i=>new Promise((a,o)=>{const r=i.transaction(n,e);r.oncomplete=(()=>{a()}),r.onerror=(()=>{o(r.error||new Error("IDB transaction error"))}),t(r.objectStore(n))})),s={get(e){let t;return r("readonly",i=>{t=i.get(e)}).then(()=>t.result)},set:(e,t)=>r("readwrite",i=>{i.put(t,e)}),delete:e=>r("readwrite",t=>{t.delete(e)}),clear:()=>r("readwrite",e=>{e.clear()}),keys(){const e=[];return r("readonly",t=>{const i=t.openKeyCursor?t.openKeyCursor():t.openCursor();i.onsuccess=(()=>{i.result&&(e.push(i.result.key),i.result.continue())})}).then(()=>e)}};t.IDB=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetrikaCounterId=void 0;let n;t.MetrikaCounterId=n,function(e){e[e.editor=45081660]="editor",e[e.campaigns=52453471]="campaigns"}(n||(t.MetrikaCounterId=n={}))},function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.loadStatistic=function(e){return(t,i)=>{const n=(0,l.getProfilePublisherId)(i());return a.loadData((0,s.formatPath)(r.LOAD_PUBLICATION_VIEW_STATISTIC_URL,{},{publicationId:e,publisherId:n}),{noCache:!0}).then(e=>e).catch(console.error)}},t.sendShareStat=function(e,t){(0,o.sendStatEvent)({event:"share",publisher_id:e.publisherItemId,item_id:e.itemId,item_type:"narrative"===e.content.type?"narrative_card":"native",...t?{page_type:t}:{},source_type:"publisher",publication_oid:e.id})},t.complaintPublication=function({types:e,action:t,publicationItemId:i,publisherItemId:n,pageType:a,parentItemId:r,parentType:s,publicationId:l}){const c={item_type:"url",source_type:"domain",item_id:i,source_id:n,data:"",event:"complain_click",...a?{page_type:a}:{},...r?{parent_id:r}:{},...s?{parent_type:s}:{},publication_oid:l};"click"===t&&e?c.data=e.join(","):"show"===t&&(c.event="complain_show"),c.event&&(0,o.sendStatEvent)(c)},t.takeDraft=function(){return(e,t)=>{var i;const{publication:n,profile:o}=t(),l=null===(i=o.user)||void 0===i?void 0:i.publisherId;return a.loadData((0,s.formatPath)(r.COPY_PUBLICATION_DRAFT,{},{publisherId:n.publisherId,draftId:n.id,targetPublisherId:l})).then(()=>{e({type:c.changeDraftCopyAccess,payload:!1}),o.publisher&&(window.location.href=(0,s.toChannelEditorUrl)({id:l}))})}},t.PublicationActionType=void 0;var a=n(i(13)),o=i(35),r=i(40),s=i(7),l=i(28);let c;t.PublicationActionType=c,function(e){e.loadPublicationViewStatistics="LOAD_PUBLICATION_VIEW_STATISTIC_URL",e.changePublicationTags="CHANGE_PUBLICATION_TAGS",e.changeDraftCopyAccess="CHANGE_DRAFT_COPY_ACCESS"}(c||(t.PublicationActionType=c={}))},,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtomicBlockEnum=t.AtomicBlock=void 0,t.AtomicBlock={EMBED:"atomic:embed",IMAGE:"atomic:image",HASHTAG:"atomic:hashtag",HASH_STAR:"atomic:hash",HASHTAG_TEXT:"hashtag_text"};let n;t.AtomicBlockEnum=n,function(e){e.EMBED="atomic:embed",e.IMAGE="atomic:image",e.HASHTAG="atomic:hashtag",e.HASH_STAR="atomic:hash",e.HASHTAG_TEXT="hashtag_text"}(n||(t.AtomicBlockEnum=n={}))},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S2SEditorFormFields=t.S2SType=void 0;let n;t.S2SType=n,function(e){e.install="install",e.redirect="redirect"}(n||(t.S2SType=n={}));let a;t.S2SEditorFormFields=a,function(e){e.linkToOpen="linkToOpen",e.linkToShow="linkToShow",e.callToAction="callToAction",e.desktopImage="desktopImage",e.mobileImage="mobileImage",e.androidImage="androidImage",e.iOSImage="iOSImage"}(a||(t.S2SEditorFormFields=a={}))},,function(e,t,i){"use strict";function n(e,t){return t&&Object.keys(e).reduce((t,i)=>{const n=e[i];return void 0!==n?t.replace(i,n):t},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUTMParams=function({publicationUtmLabels:e,resolvedMacroses:t,yzclid:i}){let o={utm_referrer:i&&function(e){return(0,a.formatPath)("https://zen.yandex.com",{},{yzclid:e})}(i)},r={};if(e){const i={utm_source:n(t,e.source),utm_medium:n(t,e.medium),utm_campaign:n(t,e.campaign),utm_content:n(t,e.content),utm_term:n(t,e.term)};e.overridePublicationUtm?o={...o,...i}:r={...i}}return{replaceParams:o,addParams:r}};var a=i(7)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genKey=void 0;const n=function(){const e=new Set,t=Math.pow(2,24);return function(){let i;for(;void 0===i||e.has(i)||!isNaN(+i);)i=Math.floor(Math.random()*t).toString(32);return e.add(i),i}}();t.genKey=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELETE_CHAT=void 0;const n=`/${i(19).EDITOR_API_V2}/delete-messenger-chat`;t.DELETE_CHAT=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chromeReduxExtension=void 0;const n="undefined"==typeof window?void 0:window,a="undefined"!=typeof window&&n.__REDUX_DEVTOOLS_EXTENSION__?n.__REDUX_DEVTOOLS_EXTENSION__():e=>e;t.chromeReduxExtension=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(41),a=i(140),o=i(13),r=i(48),s=i(103);t.default=(({dispatch:e,getState:t})=>i=>l=>{if(l.type===a.UPDATE_STATE_BY_URL||l.type===a.SYNC_STATE){const i=t();e((0,a.showNewUrlLoading)()),(0,o.loadData)(`/media-api/id/${i.profile.publisher.id}/money`).then(t=>{if(l.type===a.UPDATE_STATE_BY_URL){const e=(0,n.parsePath)(l.url);if(!function(e,t){return e.pathname===t.pathname&&e.search===t.search}(location,e)){const t=e.pathname+e.search;s.history.push(t)}}e((0,a.updateState)(t)),e((0,a.hideNewUrlLoading)())},t=>{e((0,r.addNotification)("error","Что-то пошло не так.")),e((0,a.hideNewUrlLoading)())})}return i(l),l})},,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedSpecialServices=t.EmbedType=void 0;let n;t.EmbedType=n,function(e){e.Vk="vk",e.VkVideo="vk-video",e.VkCommunity="vk-community",e.YandexMaps="yandex-maps",e.YandexMusic="yandex-music",e.YandexMusicPlaylist="yandex-music-playlist",e.YandexWalletButton="yandex-wallet-button",e.YandexWalletForm="yandex-wallet-form",e.YandexMarketProduct="yandex-market-product",e.YandexZenVideo="yandex-zen-video",e.YandexZenPublication="yandex-zen-publication",e.Fb="fb",e.Tw="tw",e.Instagram="instagram",e.Youtube="youtube",e.Direct="yandex-direct",e.Adfox="adfox",e.Github="github-gist",e.YandexMarketProductCode="yandex-market-product-code",e.Tinkoff="tinkoff",e.YandexEfir="yandex-efir",e.RuTube="rutube",e.Kinopoisk="kinopoisk",e.YandexForms="yandex-forms"}(n||(t.EmbedType=n={}));let a;t.EmbedSpecialServices=a,function(e){e.forms="forms",e.market="market",e.money="money"}(a||(t.EmbedSpecialServices=a={}))},function(e,t,i){"use strict";function n(e){const{title:t,buttonName:i,url:n,description:a,logoUrl:o,linkType:r,videoTimestamp:s}=e,l={title:t,buttonName:i,url:n,description:a,videoTimestamp:s,linkType:r,urlType:r};return o&&(l.logoUrl=o),l}function a(e,t,i){return async n=>{n({type:m.added}),n({type:m.loading});try{const a=await(0,l.callToLinkCreateApiRequest)(e,t),{logo:o,title:r,link:s,description:c,buttonName:d,linkType:u,videoTimestamp:p}=a,h={publicationId:e,logo:o,title:r,link:s,description:c,buttonName:d,linkType:u,videoTimestamp:p,meta:i};n({type:m.loaded,callToActionData:h})}catch(e){throw n({type:m.loadFailed}),new Error(e)}}}function o(e){const t=n(e),{publicationId:i,meta:o}=e;return a(i,t,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.callToLinkClearProductSuggestions=function(){return{type:m.clearSuggestions,suggestions:h.products}},t.createSimpleCallToLink=o,t.createProductCallToLink=function(e,t){var i;const{id:o,name:s,price:l,currencyId:c,imageLink:u,link:p,platform:m}=e,h=u,f=m,g={publicationId:t,title:s,buttonName:(0,r.lang)('ae4d805c'),logoUrl:h,url:p,linkType:f,marketModelId:o,videoTimestamp:d.CALL_TO_LINK_MIN_VIDEO_TIMESTAMP},b=n(g);return b.videoTimestamp=null!==(i=g.videoTimestamp)&&void 0!==i?i:d.CALL_TO_LINK_MIN_VIDEO_TIMESTAMP,b.marketModelId=g.marketModelId,a(t,b,{product:{price:l,currencyId:c}})},t.changeCallToActionVideoTimestamp=function(e,t){return async(i,n)=>{const{callToAction:{callToActionData:a}}=n();if(a){i({type:m.setVideoTimestamp,timestamp:t});const n=a.videoTimestamp;try{await(0,l.callToLinkSetVideoTimestamp)(e,t)}catch(e){throw n&&i({type:m.setVideoTimestamp,timestamp:n}),new Error(e)}}}},t.callToLinkDeleteRequest=function(e){return async t=>{try{await(0,l.callToLinkDeleteApiRequest)(e),t({type:m.removed})}catch(e){throw t((0,c.addNotification)(p.NotificationErrorType.error,"Не удалось удалить ссылку")),new Error(e)}}},t.removeCallToLinkFromState=function(){return{type:m.removed}},t.callToLinkGetPublicationSuggestions=function({publisherId:e,search:t,publicationTypes:i}){const n={search:t,publicationTypes:i};return async t=>{t({type:m.suggestionsLoading,suggestions:h.publications});try{const i=await(0,l.fetchCallToLinkSuggestedPublications)(e,n),{suggestions:a,error:o}=i;a.length||"incorrect-type"!==o?t({type:m.suggestionsLoaded,suggestions:{type:h.publications,items:a}}):t({type:m.suggestionsLoadError,suggestions:h.publications})}catch(e){throw t({type:m.suggestionsLoadError,suggestions:h.publications}),new Error(e)}}},t.callToLinkGetMarketProductsSuggestions=function(e,t,i){return async(n,a)=>{n({type:m.suggestionsLoading,suggestions:h.products});try{const o=await(0,l.fetchCallToLinkMarketItems)(e,{widgetType:t,text:i}),{items:r}=o,{callToAction:{products:s}}=a();s.fetching&&n({type:m.suggestionsLoaded,suggestions:{type:h.products,items:r}})}catch(e){throw n({type:m.suggestionsLoadError,suggestions:h.products}),new Error(e)}}},t.callToLinkLinkSubmit=function(e,t){return async(i,n)=>{const a=(0,s.getProfilePublisherId)(n());i({type:m.added}),i({type:m.loading}),i({type:m.linkInputSet,linkInputText:t});try{const n=await(0,l.fetchCallToLinkSubmitRequestId)(a,t),{result:s}=n;if(s){const t=await(0,l.callToLinkSubmitApiRequest)({publisherId:a,id:s}),{result:n,status:c}=t;c===u.ExternalLinkGrepStatus.success&&n?i(o({publicationId:e,buttonName:(0,r.lang)('3ec45ebe'),urlType:u.CallToLinkUrlType.external,linkType:u.CallToLinkUrlType.external,...n})):i({type:m.loadFailed})}else i({type:m.loadFailed})}catch(e){throw i({type:m.loadFailed}),new Error(e)}}},t.CallToLinkActionTypes=void 0;var r=i(8),s=i(28),l=i(290),c=i(48),d=i(244),u=i(124),p=i(56);let m;t.CallToLinkActionTypes=m,function(e){e.loaded="C2A_LOADED",e.loading="C2A_LOADING",e.loadFailed="C2A_LOAD_FAILED",e.added="C2A_ADDED",e.removed="C2A_REMOVED",e.suggestionsLoaded="C2A_SUGGEST_LOADED",e.suggestionsLoading="C2A_SUGGEST_LOADING",e.suggestionsLoadError="C2A_SUGGEST_LOAD_ERROR",e.clearSuggestions="C2A_CLEAR_SUGGESTIONS",e.linkInputSet="C2A_LINK_INPUT_SET",e.setVideoTimestamp="C2A_SET_VIDEO_TIMESTAMP"}(m||(t.CallToLinkActionTypes=m={}));var h;!function(e){e.publications="publications",e.products="products"}(h||(h={}))},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadConfig=function(){return(e,t)=>{const i=(0,r.getProfilePublisherId)(t())||"";return e(c((0,o.formatPath)(s.PATHS.GET_CONFIG,{publisherId:i}))).then(e=>{if(e)return a.imageStorage.setAvatarsHost(e.config.avatarsHost),e})}},t.ConfigActionTypes=void 0;var n=i(78),a=i(128),o=i(7),r=i(28),s=i(22);let l;t.ConfigActionTypes=l,function(e){e.configLoading="CONFIG_LOADING",e.configLoaded="CONFIG_LOADED",e.configLoadingFailed="CONFIG_LOADING_FAILED"}(l||(t.ConfigActionTypes=l={}));const c=(0,n.createCachedDataLoadAction)({loadedActionCreator:({config:e,featureConfig:t})=>i=>i({type:l.configLoaded,payload:{config:e,featureConfig:t}}),loadingAction:e=>e({type:l.configLoading}),failedActionCreator:e=>t=>t({type:l.configLoadingFailed,payload:{error:JSON.stringify(e)}})})},,,function(e,t,i){"use strict";function n(e,t,i=3){if(null===e||null===t||"object"!=typeof e||"object"!=typeof t)return e===t;const a=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);return a.length===o.length&&(0===a.length&&0===o.length||!a.some(a=>{const o=e[a],r=t[a];return"symbol"==typeof o?o!==r:"object"==typeof o?i>0&&!n(o,r,i-1):!("number"==typeof o&&"number"==typeof r&&isNaN(Number(o))&&isNaN(Number(r))||String(o)===String(r))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.immutableDeleteProperties=function(e,t){const i=Array.isArray(t)?t:[t];return Object.keys(e).reduce((t,n)=>(i.includes(n)||(t[n]=e[n]),t),{})},t.cloneObjectWithClass=function(e,t={}){const i=new e.constructor;return Object.assign(i,{...e},{...t})},t.pickBy=function(e,t){return Object.keys(e).filter(i=>t(e[i],i)).reduce((t,i)=>Object.assign(t,{[i]:e[i]}),{})},t.propsAreEqual=function(e){return(t,i)=>e.every(e=>t[e]===i[e])},t.isDeepEquals=n,t.getEnumKeys=t.getNullUndefinedElementsFromDictionary=void 0,t.getNullUndefinedElementsFromDictionary=(e=>Object.keys(e).filter(t=>{const i=e[t];return void 0===i||null===i})),t.getEnumKeys=(e=>{const t=[];let i;for(i in e)isNaN(Number(i))&&t.push(i);return t})},,,,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.logCommentsStartLoading=function(e){const{apiUrl:t,requestId:i,clientTs:n,documentId:r,publisherId:s,deviceId:l,flightId:c}=e;return a.default.data&&!a.default.data.commentsLogsEnabled?Promise.resolve():(0,o.postData)(`${t}/log-comment-stats?rid=${i}`,{clientTs:n,documentId:`native:${r}`,publisherId:s,deviceId:l,flightId:c,stats:[{event:"comments:start_loading"}]})},t.setTotalLikesCount=function(e){return t=>{t({type:p.setTotalLikesCount,payload:{totalLikesCount:e}})}},t.setTotalCommentsCount=function(e){return t=>{t({type:p.setTotalCommentsCount,payload:{totalCommentsCount:e}})}},t.setUsersAvatars=function(e){return t=>{t({type:p.setUsersAvatars,payload:{otherUsersAvatars:e}})}},t.updateLikesCount=function(e,t){return i=>{i({type:p.updateLikesCount,payload:{totalLikesCount:e,isLikedByUser:t}})}},t.loadPublicationSocials=t.initSocialsState=t.CommentsActionTypes=void 0;var a=n(i(10)),o=i(13),r=i(7),s=i(35),l=i(47),c=i(367),d=i(22),u=i(29);let p;t.CommentsActionTypes=p,function(e){e.setTotalLikesCount="set_total_likes_count",e.setTotalCommentsCount="set_total_comments_count",e.setUsersAvatars="set_users_avatars",e.initSocialsState="init_socials_state",e.updateLikesCount="update_likes_count",e.loadPublicationSocialsData="load_publication_socials_data",e.updateUserAvatar="PROFILE_USER_LOADED"}(p||(t.CommentsActionTypes=p={})),t.initSocialsState=(({topLikers:e,currentUser:t,likeCount:i,commentCount:n},a)=>{const o=e?e.filter(e=>!(t&&e.uid===t.uid)):[],r=o.map(e=>e.avatar.avatarUrl).reverse(),s=Boolean(t&&e.find(e=>e.uid===t.uid)),l=0===e.length&&0!==i&&!s,c=t?t.avatar.avatarUrl:"";return a({type:p.initSocialsState,payload:{otherUsersAvatars:r,userAvatarUrl:c,isLikedByUser:s,hasOnlyUnauthorizedLikes:l,socialsDataLoaded:!0,totalLikesCount:i,totalCommentsCount:n,otherTopLikers:o,currentUser:t}})}),t.loadPublicationSocials=(e=>(t,i)=>(0,s.getActiveBulkParams)().then(async n=>{var a;if(!n)return;const{isMobile:s,commentsToken:m,...h}=e,{commentId:f}=e,g=f?d.PATHS.SOCIAL.COMMENTS_WITH_SELECTED:d.PATHS.SOCIAL.TOP_COMMENTS,{profile:{user:b,publisher:_},experiments:{experimentsString:v,isMobileFeedEnabled:y,feedExpConfigByTags:S},statData:{clid:I,deviceId:T,flightId:P,oAuthToken:E,requestId:C},publication:{id:A,content:{type:k},commentsFlagState:O}}=i();if(!_)return;const L={product:n.product,partner:n.partner,integration:n.integration,clid:(null!==I&&void 0!==I?I:228).toString(),place:n.place,experiments:v,token:m,oAuthToken:E},w={...h,publisherId:_.id,watcherPublisherId:null!==(a=null===b||void 0===b?void 0:b.publisherId)&&void 0!==a?a:void 0,documentId:`${(0,l.getStatContentType)(k)}:${A}`,channelOwnerUid:_.ownerUid,enabledComments:O===u.FlagState.on?"ENABLE":"DISABLE",deviceId:T,flightId:P,rid:C},D=await(0,c.getInitialCommentariesNumber)(S,y,s);return D&&(w.commentCount=D),(0,o.loadData)((0,r.formatPath)(g,f?{commentId:f.toString()}:{},w),{csrf:!1,commentsRequestHeaders:L}).then(e=>{const{publicationLikeCount:i,meta:{commentsCount:n,answersCount:a},currentUser:{user:o},likersUids:r,users:s}=e,l=r.reduce((e,t)=>{if(o&&o.uid===t)return e;const i=s.find(e=>e.uid===t);return i&&e.unshift(i),e},[]);return t({type:p.loadPublicationSocialsData,payload:{totalLikesCount:i,totalCommentsCount:n+a,currentUser:o,isLikedByUser:Boolean(o&&r.includes(o.uid)),otherUsersAvatars:l.map(e=>e.avatar.avatarUrl),otherTopLikers:l.reverse()}}),e}).catch(e=>{})}))},,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_TO_LINK_MIN_VIDEO_TIMESTAMP=void 0,t.CALL_TO_LINK_MIN_VIDEO_TIMESTAMP=5},function(e){e.exports=JSON.parse('{"lib-prefix":"ui-lib","colors":{"black-70":"#4d4d4d","blue":"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e","yellow":"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9","red":"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111","green":"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1","border":"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)","disabled":"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1","placeholder":"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff","button-placeholder-color-from":"#f3f1ed","button-placeholder-color-to":"#eceae6","datepicker-calendar-week-day-color":"#757575","datepicker-calendar-day-hover":"#e4e7e7","datepicker-calendar-day-selected":"#ffeba0","datepicker-calendar-day-selected-hover":"#fff5d0","range-input-pointer-disabled":"#eee","range-input-track":"#d2ebff","range-input-track-active":"#07f","range-input-track-disabled":"#ebebeb","range-input-track-active-disabled":"#ccc"}}')},,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticsType=t.ClientsInterval=void 0;let n;t.ClientsInterval=n,function(e){e.month="month",e.week="week",e.day="day",e.all="all"}(n||(t.ClientsInterval=n={}));let a;t.StatisticsType=a,function(e){e.conversions="conversions",e.viewsTillEnd="viewsTillEnd",e.feedShows="feedShows",e.budget="budget"}(a||(t.StatisticsType=a={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useExperiments=void 0;var n=i(18);t.useExperiments=(()=>(0,n.useSelector)(e=>e.experiments))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePublisher=t.deletePublisher=t.deletePublisherBackground=t.uploadPublisherBackground=t.validatePublisherNickname=t.uploadPublisherLogo=t.createPublisher=void 0;var n=i(13),a=i(7),o=i(22),r=i(19);t.createPublisher=(()=>(0,n.postData)(o.PATHS.NEW_PUBLISHER)),t.uploadPublisherLogo=(({publisherId:e,image:t})=>(0,n.postFormData)((0,a.formatPath)(`/${r.EDITOR_API_V2}/add-image-publisher`,{},{publisherId:e}),{image:t}).then(({promise:e})=>e)),t.validatePublisherNickname=(({publisherId:e,nickname:t})=>(0,n.postData)((0,a.formatPath)(o.PATHS.VALIDATION.NICKNAME,{},{publisherId:e}),{raw:t})),t.uploadPublisherBackground=(({publisherId:e,image:t})=>(0,n.postFormData)((0,a.formatPath)(`/editor-api/v2/publisher/${encodeURIComponent(e)}/images/background`,{},{}),{image:t}).then(({promise:e})=>e)),t.deletePublisherBackground=(({publisherId:e})=>(0,n.deleteData)((0,a.formatPath)(`/editor-api/v2/publisher/${encodeURIComponent(e)}/images/background`,{},{}))),t.deletePublisher=(({publisherId:e})=>(0,n.postData)((0,a.formatPath)(`/${r.EDITOR_API_V2}/delete-publisher`,{},{publisherId:e}))),t.updatePublisher=(({publisherId:e,publisher:t})=>(0,n.postData)((0,a.formatPath)(o.PATHS.UPDATE_PUBLISHER,{},{publisherId:e}),t))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProfileSocialLink=t.validatePublisherNickname=t.fetchEmails=t.verifyPhone=t.addPhone=t.sendDomainToModeration=t.fetchListUserDomains=void 0;var n=i(7),a=i(13),o=i(19);t.fetchListUserDomains=(e=>(0,a.loadData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/list-user-domains`,{},e))),t.sendDomainToModeration=(({publisherId:e,domain:t})=>(0,a.postFormData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/send-domain-to-moderation`,{},{publisherId:e}),{domain:t}).then(({promise:e})=>e)),t.addPhone=(({publisherId:e,phone:t})=>(0,a.postData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/add-phone`,{},{publisherId:e}),{phone:t})),t.verifyPhone=(({publisherId:e,code:t,trackId:i})=>(0,a.postData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/verify-phone`,{},{publisherId:e}),{code:t,trackId:i})),t.fetchEmails=(({publisherId:e})=>(0,a.loadData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/get-emails`,{},{publisherId:e}))),t.validatePublisherNickname=(({nickname:e,publisherId:t})=>(0,a.postData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/validate-publisher-nickname`,{},{publisherId:t}),{raw:e})),t.validateProfileSocialLink=(({socialLink:e})=>(0,a.loadData)((0,n.formatPath)(`/${o.EDITOR_API_V2}/validate-social-link`,{},{socialLink:e})))},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTokenProviderGetter=function(e){d=e},t.sendStoredEvents=function(){if(c)return;let e=u();if(!d)throw new Error("Impossible to send events without token-provider.");d().then(({token:t})=>{e.forEach(i=>{if(l[i])return;l[i]=!0;const n=()=>(function(t){const i=(e=u()).indexOf(t);-1!==i&&(e.splice(i,1),e=e.slice()),(0,o.getLocalStorage)().set("events",e),delete l[t]})(i);let a=i;/[&?]_csrf=/.test(a)||(a=`${a}&_csrf=${t}`),(0,r.loadData)(a).then(n,n)})},()=>{})},t.sendStatEvent=function(e,t){if(!d)throw new Error("Impossible to send events without token-provider.");return d().then(({token:i})=>{if(c)return;let n=e;/[&?]_csrf=/.test(n)||(n=`${n}&_csrf=${i}`),(0,r.loadData)(n).then(t,t)},()=>{})},t.buildStatUrl=t.addEvent=void 0;var n=i(52),a=i(10),o=i(50),r=i(13),s=i(40);const l={},c=!a.isSSR&&location.search.includes("moderationMode");let d;const u=()=>{const e=(0,o.getLocalStorage)().get("events");return Array.isArray(e)?e:[]};t.addEvent=(e=>{if(c)return;const t=u();t.length&&t[t.length-1]===e||(0,o.getLocalStorage)().set("events",t.concat(e))}),t.buildStatUrl=((e,t)=>(0,n.buildUrl)(s.STAT_URL,{...s.DEFAULT_EVENT_STAT_PARAMS,...t?{group_ids:s.EXPERIMENT_GROUP_IDS}:{group:s.EXPERIMENT_GROUP},...e}))},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=void 0;var n=i(169);t.getErrorMessage=(e=>e&&n.errorMessages[e]||n.errorMessages[n.ErrorType.somethingWentWrong])},,,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SocialsAppHOC=function(e){return class extends s.Component{constructor(...e){super(...e),(0,r.default)(this,"state",{socialsApp:void 0,socialsOptions:void 0})}componentDidMount(){const{loadAppPromise:e}=this.props;e&&e.then(({socialsApp:e,socialsOptions:t})=>{this.setState({socialsApp:e,socialsOptions:t})})}render(){const{socialsApp:t,socialsOptions:i}=this.state;return s.default.createElement(e,(0,o.default)({socialsApp:t,socialsOptions:i},this.props))}}};var o=a(i(14)),r=a(i(11)),s=n(i(0))},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var n=i(87);const a={leading:!0,trailing:!0};t.throttle=((e,t=0,i=a)=>{const{leading:o=a.leading,trailing:r=a.trailing}=i;return(0,n.debounce)(e,t,{leading:o,trailing:r,maxWait:t})})},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colors=void 0;let n;t.Colors=n,function(e){e.white="white",e.black="black"}(n||(t.Colors=n={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUtmData=function(e,t){return(0,a.loadData)((0,o.formatPath)(s,{},{publisherId:e,flightId:t}))},t.postUtmData=function(e,t,i){return(0,a.postData)((0,o.formatPath)(s,{},{publisherId:e,flightId:t}),i)},t.uploadFlightImage=function(e,t,i){const n=(0,o.formatPath)(d,{},{flightId:t,publisherId:i});return(0,a.postFormData)(n,{image:e}).then(({promise:e})=>e).then(r.addImageDataToDict)},t.fetchUtmEditorSample=function({publisherId:e,flightId:t,data:i}){return(0,a.postData)((0,o.formatPath)(c,{},{publisherId:e,flightId:t}),i)},t.fetchEdiorLinkSample=function({publisherId:e,publicationId:t,url:i}){return(0,a.loadData)((0,o.formatPath)(l,{},{publisherId:e,draftId:t,url:i}))};var n=i(19),a=i(13),o=i(7),r=i(23);const s=`/${n.EDITOR_API_V2}/publisher/flight/common-publication-data`,l=`/${n.EDITOR_API_V2}/publisher/flight/common-publication-data/draft/sample`,c=`/${n.EDITOR_API_V2}/publisher/flight/common-publication-data/flight/sample`,d=`/${n.EDITOR_API_V2}/add-image-flight-common-data`},function(e,t,i){"use strict";function n(e,t,i){(0,o.sendStatEvent)({...e,event:"feedback_more",item_type:(0,r.getStatContentType)(e.item_type),source_type:"publisher",source_id:e.publisher_id,...i?{page_type:i}:{}}),t&&(0,o.sendStatEvent)({...e,event:"feedback_cancel_less",item_type:(0,r.getStatContentType)(e.item_type),source_type:"publisher",source_id:e.publisher_id,...i?{page_type:i}:{}})}function a(e,t){(0,o.sendStatEvent)({...e,event:"feedback_cancel_more",item_type:(0,r.getStatContentType)(e.item_type),source_type:"publisher",source_id:e.publisher_id,...t?{page_type:t}:{}})}Object.defineProperty(t,"__esModule",{value:!0}),t.likePublication=function(e,t,i){return a=>{a({type:s.likePublication,payload:{id:e.item_id}}),n(e,t,i)}},t.sendLike=n,t.dislikePublication=function(e,t,i){return n=>{(0,o.sendStatEvent)({...e,event:"feedback_less",item_type:(0,r.getStatContentType)(e.item_type),source_type:"publisher",source_id:e.publisher_id,...i?{page_type:i}:{}}),n({type:s.dislikePublication,payload:{id:e.item_id}}),t&&(0,o.sendStatEvent)({...e,event:"feedback_cancel_more",item_type:(0,r.getStatContentType)(e.item_type),source_type:"publisher",source_id:e.publisher_id,...i?{page_type:i}:{}})}},t.undoLikePublication=function(e,t){return i=>{i({type:s.undoLikePublication,payload:{id:e.item_id}}),a(e,t)}},t.sendUndoLike=a,t.undoDislikePublication=function(e,t){return i=>{(0,o.sendStatEvent)({...e,event:"feedback_cancel_less",item_type:(0,r.getStatContentType)(e.item_type),source_type:"publisher",source_id:e.publisher_id,...t?{page_type:t}:{}}),i({type:s.undoDislikePublication,payload:{id:e.item_id}})}},t.FeedbackActionType=t.UNDO_DISLIKE_PUBLICATION=t.UNDO_LIKE_PUBLICATION=t.DISLIKE_PUBLICATION=t.LIKE_PUBLICATION=void 0;var o=i(35),r=i(47);t.LIKE_PUBLICATION="like_publication",t.DISLIKE_PUBLICATION="dislike_publication",t.UNDO_LIKE_PUBLICATION="undo_like_publication",t.UNDO_DISLIKE_PUBLICATION="undo_dislike_publication";let s;t.FeedbackActionType=s,function(e){e.likePublication="like_publication",e.dislikePublication="dislike_publication",e.undoLikePublication="undo_like_publication",e.undoDislikePublication="undo_dislike_publication"}(s||(t.FeedbackActionType=s={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callToLinkCreateApiRequest=function(e,t){return(0,n.postData)((0,a.formatPath)(d,{publicationId:e}),t)},t.callToLinkDeleteApiRequest=function(e){return(0,n.deleteData)((0,a.formatPath)(d,{publicationId:e},{}))},t.callToLinkSetVideoTimestamp=function(e,t){return(0,n.postData)((0,a.formatPath)(h,{publicationId:e},{timestamp:t}))},t.fetchCallToLinkSuggestedPublications=function(e,t){return(0,n.loadData)((0,a.formatPath)(u,{publisherId:e},t))},t.fetchCallToLinkMarketItems=function(e,t){return(0,n.loadData)((0,a.formatPath)(p,{publisherId:e},t))},t.fetchCallToLinkSubmitRequestId=function(e,t){return(0,n.postData)((0,a.formatPath)(m,{publisherId:e},{url:t}))},t.callToLinkSubmitApiRequest=function({publisherId:e,id:t}){const i=(0,a.formatPath)(m,{publisherId:e},{id:t});return(0,o.pollPromise)({fn:f,url:i,validateFn:g,interval:c,maxAttempts:l})};var n=i(13),a=i(7),o=i(89),r=i(19),s=i(124);const l=5,c=600,d=`/${r.EDITOR_API_V2}/call-2-action/publication/:publicationId`,u=`/${r.EDITOR_API_V2}/publisher/:publisherId/call-2-action/suggestions`,p=`/${r.EDITOR_API_V2}/publisher/:publisherId/call-2-action/market`,m=`/${r.EDITOR_API_V2}/publisher/:publisherId/call-2-action/external`,h=`/${r.EDITOR_API_V2}/call-2-action/publication/:publicationId/videotimestamp`,f=e=>(0,n.loadData)(e),g=e=>e.status!==s.ExternalLinkGrepStatus.processing},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileEditorMetrikaGoal=void 0;let n;t.MobileEditorMetrikaGoal=n,function(e){e.meSecondPublicationsBatchLoaded="me_second_publications_batch_loaded",e.meFifthPublicationsBatchLoaded="me_fifth_publications_batch_loaded",e.meImageRotated="me_image_rotated",e.meSettingsSaved="me_settings_saved",e.meEnterArticleCreation="me_enter_article_creation",e.meArticlePublished="me_article_published",e.meImageUploaded="me_image_uploaded",e.meImageByUrlUploaded="me_image_by_url_uploaded",e.meNavigatePublicationSettings="me_navigate_publication_settings",e.mePublicationDeleted="me_publication_deleted",e.meVideoPublicationCreated="me_video_publication_created",e.meVideoPublish="me_video_publish"}(n||(t.MobileEditorMetrikaGoal=n={}))},function(e,t,i){},function(e,t,i){"use strict";function n(e){return Object.values(u).some(t=>t===e)}function a(e){return y.get(e)}function o(e){return S.get(e)}function r(e,t,i,n){return!!i.entityRanges.length&&i.entityRanges.some(i=>n[i.key]&&"LINK"===n[i.key].type&&i.offset<=e&&t<=i.offset+i.length)}function s(e){return{...e,ops:(0,h.default)(e.ops,e=>"string"!=typeof e.insert||e.attributes?e:(0,h.default)(e.insert.split("\n"),(e,t,i)=>t===i.length-1?""===e?[]:{insert:e}:""===e?{insert:"\n"}:[{insert:e},{insert:"\n"}]))}}function l(e){if(!e.attributes)return b.DraftBlockType.unstyled;const[t]=Object.keys(e.attributes),i=e.attributes[t];let n;switch(t){case"header":if(i&&"number"==typeof i){var a;n=null!==(a=I.get(i))&&void 0!==a?a:b.DraftBlockType.headerTwo}else n=b.DraftBlockType.headerTwo;break;case"list":n="ordered"===i?b.DraftBlockType.orderedListItem:b.DraftBlockType.unorderedListItem;break;case"blockquote":n=b.DraftBlockType.blockquote;break;default:n=b.DraftBlockType.unstyled}return n}function c(){return{data:{},depth:0,key:(0,_.genKey)(),type:b.DraftBlockType.unstyled,text:"",entityRanges:[],inlineStyleRanges:[]}}var d=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.cleanDeltaInput=s,t.deltaToDraft=function(e){const t={blocks:[],entityMap:{}},{ops:i}=s(e);let o=0;for(let e=0;e<i.length;e++){let s=i[e],{insert:m,attributes:h}=s,f=c(),_=!1;if("string"==typeof m){const c={};for(;"string"==typeof m&&"\n"!==m;){var r;if(e&&"object"==typeof i[e-1].insert&&(null===(r=i[e-1].insert)||void 0===r?void 0:r.hasOwnProperty(p.AtomicBlockEnum.HASHTAG))){const e=t.blocks.pop();e&&(f=e)}const d=(0,g.fixedGetLength)(f.text),u=(0,g.fixedGetLength)(m);f.text+=m;const b=i[e+1];let v=!1;if(b&&"object"==typeof b.insert&&(v=!0),b&&b.attributes&&("\n"!==b.insert&&"\n\n"!==b.insert||(f.type=l(b)),"\n\n"===b.insert&&(_=!0)),h){const e={inlineStyleRanges:[],entityRanges:[]};for(const[i,r]of Object.entries(h))if(n(i))if("link"===i){const i=r.toString(),n=o++;e.entityRanges.push({key:n,length:u,offset:d}),t.entityMap[n]={data:{url:i},type:"LINK",mutability:"MUTABLE"}}else{const e=a(i);if(e)if(c.hasOwnProperty(e)){const[t]=c[e].slice(-1);t&&t.offset+t.length===d?(c[e].pop(),c[e].push({length:t.length+u,offset:t.offset,style:e})):c[e].push({length:u,offset:d,style:e})}else c[e]=[{length:u,offset:d,style:e}]}f.entityRanges.push(...e.entityRanges)}if(v)break;if(e+=1,!(s=i[e])||_)break;m=s.insert,h=s.attributes}for(const e of Object.keys(c))f.inlineStyleRanges.push(...c[e])}else if("object"==typeof m)if(m[p.AtomicBlockEnum.EMBED])f.type=b.DraftBlockType.atomicEmbed,f.data={embedData:m[p.AtomicBlockEnum.EMBED]};else if(m[p.AtomicBlockEnum.IMAGE]){const e=m[p.AtomicBlockEnum.IMAGE];e&&(f.type=b.DraftBlockType.atomicImage,f.data={image:{id:e.id},images:e.images,contents:e.contents},f.text="string"==typeof e.caption?e.caption:"")}else if(m[p.AtomicBlockEnum.HASHTAG])if(t.blocks.length){var d;if("\n"!==i[e-1].insert){const e=t.blocks.pop();e&&(f=e)}f.text+=`#${null===(d=m[p.AtomicBlockEnum.HASHTAG])||void 0===d?void 0:d.value}`}else{var u;f.text+=`#${null===(u=m[p.AtomicBlockEnum.HASHTAG])||void 0===u?void 0:u.value}`}t.blocks.push(f),_&&t.blocks.push(Object.assign(c(),{type:f.type}))}return t},t.draftToDelta=function(e,t){const i=new f.default;for(let n=0;n<e.blocks.length;n++){const a=e.blocks[n];if(a.type===String(p.AtomicBlockEnum.IMAGE)){const e=a.data.images?{insert:{[p.AtomicBlockEnum.IMAGE]:{id:a.data.image.id,caption:a.text,src:"",images:a.data.images,contents:a.data.contents}}}:{insert:{[p.AtomicBlockEnum.IMAGE]:{id:a.data.image.id,caption:a.text,src:""}}};i.push(e)}else if(a.type===String(p.AtomicBlockEnum.EMBED)){const e={insert:{[p.AtomicBlockEnum.EMBED]:a.data.embedData}};i.push(e)}else if(a.type===String(p.AtomicBlockEnum.HASHTAG_TEXT)){const e={insert:a.text};i.push(e)}else{"unstyled"===a.type&&""===a.text&&i.push({insert:"\n"});const s=e.blocks[n-1];s&&"unstyled"===s.type&&""!==s.text&&"\n"!==s.text.slice(-1)&&i.push({insert:"\n"});const l=[];let c;const d=v.HASHTAG.REGEXP.HASHTAG_AND_LINKS(t);for(;null!==(c=d.exec(a.text));)"#"===c[0][0]&&(r(c.index,c.index+c[0].length,a,e.entityMap)||l.push({offset:c.index,length:(0,g.fixedGetLength)(c[0]),style:"unstyled",hashtag:!0}));let u={insert:"\n",attributes:{}};switch(a.type){case"header-one":u.attributes={header:1};break;case"header-two":u.attributes={header:2};break;case"header-three":u.attributes={header:3};break;case"unordered-list-item":u.attributes={list:"bullet"};break;case"ordered-list-item":u.attributes={list:"ordered"};break;case"blockquote":u.attributes={blockquote:!0};break;default:u=null}const h=a.inlineStyleRanges||[],f=a.entityRanges.map(t=>({...t,type:e.entityMap[t.key].type,style:"unstyled",url:e.entityMap[t.key].data.url})).concat(h).concat([{offset:0,length:(0,g.fixedGetLength)(a.text),style:"unstyled"}]).concat(l),b=f.reduce((e,t,i)=>(e.push({point:t.offset,ref:i,hashtag:"hashtag"in t&&t.hashtag,type:"type"in t?t.type:""},{point:t.offset+t.length,ref:i,type:"type"in t?t.type:""}),e),[]).sort((e,t)=>e.point-t.point),_={},y=[];for(let e=0;e<b.length;e++){const t=b[e],{point:i,ref:n,hashtag:r}=t,s=[n];let l=b[e+1];for(;l&&l.point===i&&!l.hashtag;)e+=1,s.push(l.ref),l=b[e+1];if(!l)break;if(r){if(!l||l.type===m.Entity.HASHTAG_TEXT){const e={insert:{[p.AtomicBlockEnum.HASHTAG_TEXT]:{value:(0,g.fixedSlice)(a.text,i,l.point)}}};y.push(e);continue}if(i+1!==l.point){const e={insert:{[p.AtomicBlockEnum.HASHTAG]:{value:(0,g.fixedSlice)(a.text,i+1,l.point)}}};y.push(e);continue}}const c=(0,g.fixedSlice)(a.text,i,l.point);for(const e of s)_[e]=(_[e]||0)+1;const d={};for(const[e,t]of Object.entries(_))if(Number(t)<2){const t=f[Number(e)];if("url"in t)d.link=t.url;else{const e=o(t.style);e&&(d[e]=!0)}}const u={insert:c};Object.keys(d).length>0&&(u.attributes=d),y.push(u)}u&&y.push(u),y.forEach(e=>i.push(e))}}return i};var u,p=i(200),m=i(142),h=d(i(294)),f=d(i(295)),g=i(31),b=i(92),_=i(207),v=i(170);!function(e){e.italic="italic",e.bold="bold",e.strike="strike",e.underline="underline",e.unstyled="unstyled",e.link="link"}(u||(u={}));const y=new Map([[u.bold,b.DraftStyle.bold],[u.italic,b.DraftStyle.italic],[u.strike,b.DraftStyle.strike],[u.underline,b.DraftStyle.underline],[u.unstyled,void 0],[u.link,void 0]]),S=new Map([[b.DraftStyle.bold,u.bold],[b.DraftStyle.italic,u.italic],[b.DraftStyle.strike,u.strike],[b.DraftStyle.underline,u.underline]]),I=new Map([[1,b.DraftBlockType.headerOne],[2,b.DraftBlockType.headerTwo],[3,b.DraftBlockType.headerThree]])},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMetrikaId=void 0;var n=i(13),a=i(7),o=i(22);t.validateMetrikaId=(({publisherId:e,metrikaCounterId:t})=>(0,n.postData)((0,a.formatPath)(o.PATHS.VALIDATE_METRIKA_ID,{},{publisherId:e}),{metrikaCounterId:t}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteChat=void 0;var n=i(13),a=i(7),o=i(208);t.deleteChat=(({chatId:e,publisherId:t})=>(0,n.deleteData)((0,a.formatPath)(o.DELETE_CHAT,{},{publisherId:t,chatId:e})))},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCaptcha=t.generateCaptcha=t.CaptchaActionTypes=void 0;var n=i(48),a=i(13),o=i(7),r=i(28),s=i(22),l=i(56);let c;t.CaptchaActionTypes=c,(c||(t.CaptchaActionTypes=c={})).captchaUpdate="CAPTCHA_UPDATE",t.generateCaptcha=((e={})=>(t,i)=>{var c;const u=i(),p=null===u||void 0===u?void 0:null===(c=u.captcha)||void 0===c?void 0:c.isActive,{isError:m}=e;return(0,a.loadData)((0,o.formatPath)(s.PATHS.CAPTCHA_GENERATE,{},{vtype:"ru",publisherId:(0,r.getProfilePublisherId)(u)})).then(e=>(t(d({key:e.key,status:p?"failed":"",isActive:!0,isInvalid:!!m,lastValidCheck:null})),e)).catch(e=>{throw function(e,i){t((0,n.addNotification)(l.NotificationErrorType.error,i))}(0,e.message||"Ошибка, не удалось получить каптчу"),Error()})});const d=e=>({type:c.captchaUpdate,payload:{captcha:e}});t.updateCaptcha=d},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPublication=function(e){return(0,n.loadData)((0,a.formatPath)(r.PATHS.GET_PUBLICATION,{},{publicationId:e})).then(({publications:e,images:t})=>({publication:e[0],images:t}))},t.fetchPublicationData=function({publisherId:e,publicationId:t,flightId:i,rid:o}){return(0,n.loadData)((0,a.formatPath)(r.PATHS.GET_PUBLICATION_RENDER_DATA,{publisherId:e,publicationId:t},{flightId:i,rid:o}))},t.getShortPublicationLink=t.fetchPublicationDraft=void 0;var n=i(13),a=i(7),o=i(35),r=i(22);t.fetchPublicationDraft=((e,t)=>(0,n.loadData)((0,a.formatPath)(r.PATHS.GET_PUBLICATION_DRAFT,{publicationId:e,publisherId:t})).then(({publications:e,images:t})=>({publication:e[0],images:t}))),t.getShortPublicationLink=(e=>(0,o.getShareLink)().then(t=>{if(!t)return{url:e};const i=t.replace("_url_",e).replace("_hash_","");return(0,n.loadData)(i,{csrf:!1})}).then(t=>({url:t.url?t.url:e})).catch(t=>({url:e})))},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSubscriptionData=async function(e,t,i=0){return Promise.race([(0,s.wait)(i),new Promise(e=>{d?d._subscriptionStatus?e(d._subscriptionStatus):d._subscriptionStatusCallback=(t=>{e(t)}):e(void 0)})]).then(async i=>{var n;if(i)return i;const s=(0,o.formatPath)(r.PATHS.LOAD_SUBSCRIBE_STATUS_URL,{},{...u,publisherItemId:e,publisherId:t}),l=await(0,a.loadData)(s,{noCache:!0});return null!==(n=l&&l.status)&&void 0!==n?n:void 0}).then(e=>e&&e in p?p[e]:c.SubscribeStatus.None)},t.subscriptionStatusNameToCodeMap=void 0;var n=i(100),a=i(13),o=i(7),r=i(22),s=i(20),l=i(10),c=i(51);const d=(0,l.getLocalWindow)(),u={countryCode:"ru",deviceId:(0,n.getDeviceId)()},p={subscribed:c.SubscribeStatus.Subscribed,unknown:c.SubscribeStatus.None,blocked:c.SubscribeStatus.Blocked};t.subscriptionStatusNameToCodeMap=p},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostColorScheme=t.PostTextColor=void 0;let n;t.PostTextColor=n,function(e){e.white="white",e.black="black"}(n||(t.PostTextColor=n={}));let a;t.PostColorScheme=a,function(e){e.lightWhite="light-white",e.lightBlue="light-blue",e.lightPurple="light-purple",e.darkOrange="dark-orange",e.darkBlack="dark-black"}(a||(t.PostColorScheme=a={}))},,function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAccess=void 0;var n=i(18),a=i(28),o=i(0);t.useAccess=(()=>{const e=(0,n.useStore)().getState();return(0,o.useMemo)(()=>({...e.accessData,isOwner:(0,a.isOwner)(e)}),[e])})},function(e,t,i){"use strict";function n(e){return{type:l.bind,payload:e}}function a(e){return{type:l.saveCampaigns,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.bindCampaignWithPublication=function(e){return(t,i)=>{const a=i(),{editor:{publication:l}}=a;if(!l)throw new Error("Publication is missing in editor");(0,o.addPublicationsToCampaign)({publisherId:(0,s.getProfilePublisherId)(a),publications:[l.id],flightId:e.id}).then(()=>{t(n(e))}).catch(e=>{(0,r.errorNotification)(e)})}},t.unbindCampaignFromPublication=function(e){return(t,i)=>{const n=i(),{editor:{publication:a}}=n;if(!a)throw new Error("Publication is missing in editor");const{privateData:c}=a;(0,o.removePublicationFromCampaign)({publisherId:(0,s.getProfilePublisherId)(n),publicationId:a.id,flightId:e.id,isDraft:!(c&&c.hasPublished)}).then(()=>{t({type:l.unbind})}).catch(e=>{(0,r.errorNotification)(e)})}},t.saveTiedCampaign=n,t.saveAvailableCampaigns=a,t.loadAvailableCampaigns=function(){return(e,t)=>{const i=t(),{editor:{publication:n}}=i;if(!n)throw new Error("Publication is missing in editor");const{privateData:l}=n;(0,o.fetchAvailableCampaigns)({publisherId:(0,s.getProfilePublisherId)(i),publicationId:n.id,isDraft:!(l&&l.hasPublished)}).then(({availableCampaigns:t})=>{e(a(t))}).catch(e=>{(0,r.errorNotification)(e)})}},t.stopBindingCampaign=function(){return(e,t)=>{const i=t(),{tiedCampaign:{campaign:n}}=i;if(!n)throw new Error("Flight not found, can't stop flight");return(0,o.stopCampaign)({flightId:n.id,publisherId:(0,s.getProfilePublisherId)(i)}).then(()=>{e({type:l.unbind})}).catch(e=>{(0,r.errorNotification)(e)})}},t.setAutoShowCampaigns=function(e){return{type:l.setAutoShow,payload:e}},t.CampaignBindingclearData=t.CampaignBindingActionTypes=void 0;var o=i(126),r=i(71),s=i(28);let l;t.CampaignBindingActionTypes=l,function(e){e.bind="CAMPAIGN_BINDING_BIND",e.unbind="CAMPAIGN_BINDING_UNBIND",e.saveCampaigns="CAMPAIGN_BINDING_SAVE_CAMPAIGNS",e.setAutoShow="CAMPAIGN_BINDING_SET_AUTO_SHOW",e.clearData="CAMPAIGN_BINDING_CLEAR_DATA"}(l||(t.CampaignBindingActionTypes=l={})),t.CampaignBindingclearData=(()=>({type:l.clearData}))},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forecastDurationMap=void 0;var n=i(20);const a={week:(0,n.toMsFromDays)(7),month:(0,n.toMsFromDays)(30)};t.forecastDurationMap=a},,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MittensSide=t.FromReferrer=t.SnackBarIconType=void 0;let n;t.SnackBarIconType=n,function(e){e.remove="remove",e.edit="edit",e.block="block",e.unblock="unblock",e.complain="complain",e.share="share",e.subscribe="subscribe",e.unsubscribe="unsubscribe"}(n||(t.SnackBarIconType=n={}));let a;t.FromReferrer=a,function(e){e.feed="feed",e.editor="editor",e.channel="channel"}(a||(t.FromReferrer=a={}));let o;t.MittensSide=o,function(e){e.left="left",e.right="right",e.bottom="bottom"}(o||(t.MittensSide=o={}))},,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.profile=function(e=s,t){switch(t.type){case o.ProfileActionType.show:return{...e,isVisible:!0};case o.ProfileActionType.showPrePublish:return{...e,isPrepublishVisible:!0};case o.ProfileActionType.updated:{const{payload:{profile:i}}=t;if(!e.publisher)return e;const n=i.email||e.publisher.privateData.email,a=i.deanonymizationMessengerProfileStatus||e.publisher.privateData.deanonymizationMessengerProfileStatus;return{...e,publisher:{...e.publisher,...i,privateData:{...e.publisher.privateData,...i.privateData,email:n,deanonymizationMessengerProfileStatus:a}}}}case o.ProfileActionType.updatedMessengerPrivacy:{const{payload:{profile:i,profileResponse:n}}=t;if(!e.publisher)return e;const{allowedPrivateMessages:a}=n,o=i.email||e.publisher.privateData.email,r=i.deanonymizationMessengerProfileStatus||e.publisher.privateData.deanonymizationMessengerProfileStatus;return{...e,publisher:{...e.publisher,...i,allowedPrivateMessages:Boolean(a),privateData:{...e.publisher.privateData,...i.privateData,email:o,deanonymizationMessengerProfileStatus:r}}}}case o.ProfileActionType.setPhone:return(0,a.default)(e,{publisher:{privateData:{phone:{$set:t.payload.phone}}},temporaryPhone:{$set:void 0},phoneCodeTrackId:{$set:void 0}});case o.ProfileActionType.hide:return{...e,isVisible:!1};case o.ProfileActionType.hidePrePublish:return{...e,isPrepublishVisible:!1};case o.ProfileActionType.showError:return{...e,profileError:t.payload.errorMessage};case o.ProfileActionType.hideError:return{...e,profileError:void 0};case o.ProfileActionType.webSitesLoaded:return{...e,websites:t.payload.domains,websitesLoaded:!0};case o.ProfileActionType.nicknameEdited:return{...e,editingNickname:{...e.editingNickname,current:t.payload.current,error:"",confirmed:!1}};case o.ProfileActionType.metrikaEdited:return{...e,editingMetrikaID:{...e.editingMetrikaID,current:t.payload.current,error:"",confirmed:!1}};case o.ProfileActionType.nicknameVerified:{const{current:i,error:n,confirmed:a}=t.payload;return e.editingNickname&&i!==e.editingNickname.current?e:{...e,editingNickname:{...e.editingNickname||{current:i},error:n,confirmed:a}}}case o.ProfileActionType.metrikaVerified:{const{current:i,error:n,confirmed:a}=t.payload;return e.editingMetrikaID&&i!==e.editingMetrikaID.current?e:{...e,editingMetrikaID:{...e.editingMetrikaID,error:n,confirmed:a}}}case o.ProfileActionType.socialLinkVerified:{const{index:i,link:n,socialNetwork:a,error:o}=t.payload;if(!e.publisher)return e;const r=[...e.publisher.socialLinks];return r[i].link!==n?e:(r[i]={link:n,socialNetwork:a,error:o},{...e,publisher:{...e.publisher,socialLinks:r}})}case o.ProfileActionType.passportEmailsLoadingStarted:return{...e,isPassportEmailsLoading:!0,passportEmailsLoadingError:void 0};case o.ProfileActionType.passportEmailsReceived:return{...e,isPassportEmailsLoading:!1,passportEmails:t.payload.emails};case o.ProfileActionType.passportEmailsLoadingFailed:return{...e,isPassportEmailsLoading:!1,passportEmailsLoadingError:t.payload.error};case o.ProfileActionType.userLoaded:{const{user:i}=t.payload;return{...e,isUserLoading:!1,user:i}}case o.ProfileActionType.loaded:{const{publisher:i}=t.payload;return{...e,isPublisherLoading:!1,publisher:i}}case o.ProfileActionType.setTemporaryPhone:{const{phone:i,trackId:n}=t.payload;return{...e,temporaryPhone:i,phoneCodeTrackId:n}}case o.ProfileActionType.cancelPhoneConfirmation:return{...e,temporaryPhone:void 0,phoneCodeTrackId:void 0};case o.ProfileActionType.userDataLoadingStarted:return{...e,isUserLoading:!0,userLoadingError:void 0};case o.ProfileActionType.userDataLoadingFailed:return{...e,isUserLoading:!1,userLoadingError:t.payload.error};case o.ProfileActionType.publisherDataLoadingStarted:return{...e,isPublisherLoading:!0,publisherLoadingError:void 0};case o.ProfileActionType.publisherDataLoadingFailed:return{...e,isPublisherLoading:!1,publisherLoadingError:t.payload.error};case o.ProfileActionType.deleteChat:{if(!e.publisher)return e;const{chatId:i}=t.payload,{chatReferences:n}=e.publisher;return{...e,publisher:{...e.publisher,chatReferences:n.filter(e=>e.chatId!==i)}}}default:return e}};var a=n(i(504)),o=i(61),r=n(i(10));const s=(0,i(133).getInitialProfileState)(r.default&&r.default.data?r.default:void 0)},,function(e,t,i){"use strict";function n(){return e=>{(0,l.batch)(()=>{e({type:g.close}),e(r())})}}function a(e){return{type:g.dataLoaded,payload:e}}function o(e){return{type:g.sampleDataLoaded,payload:e}}function r(){return{type:g.clear}}function s(e){return(t,i)=>{const n=(0,c.getProfilePublisherId)(i())||"";return(0,m.fetchUtmData)(n,e).then(i=>{const r={...i,pixels:i.pixels&&(0,d.pixelsApiParamsToValues)(i.pixels)};t(a(r)),(0,m.fetchUtmEditorSample)({publisherId:n,flightId:e,data:i}).then(e=>{t(o(e))})}).catch(e=>{(0,p.errorNotification)(e),t({type:g.dataLoading})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.closePopup=n,t.saveUtmEditorData=a,t.clearUtmEditorData=r,t.saveS2SData=function(e){return{type:g.saveS2SData,payload:{s2sData:e}}},t.openUtmCampaignEditorPopup=function(e,t,i,n){return a=>{a({type:g.dataLoadFailed}),a(s(t)),a({type:g.open,payload:{name:e,flightId:t,onOpenTabId:n,campaignType:i}})}},t.loadUtmCampaignData=s,t.loadLinkSampleData=function(e){return(t,i)=>{const n=i(),{editor:{publication:a}}=n,o=(0,c.getProfilePublisherId)(n)||"",r=null===a||void 0===a?void 0:a.id;return(0,m.fetchEdiorLinkSample)({publisherId:o,publicationId:r,url:e}).then(e=>{t(function(e){return{type:g.sampleLinkDataLoaded,payload:e}}(e))}).catch(e=>{(0,p.errorNotification)(e)})}},t.loadSampleData=function(e,t){const i=t.pixels&&(0,d.pixelsValuesToApiParams)(t.pixels);return(n,a)=>{const r=(0,c.getProfilePublisherId)(a())||"";return(0,m.fetchUtmEditorSample)({publisherId:r,flightId:e,data:{...t,pixels:i}}).then(e=>{n(o(e))}).catch(e=>{(0,p.errorNotification)(e)})}},t.saveChanges=function(e){return(t,i)=>{const a=(0,c.getProfilePublisherId)(i())||"",{flightId:o,data:{swipeToSiteEntry:r}}=i().utmEditorState,{campaignUtmEditorCallToActionText:s}=i().config;if(r){const e=r.data;if(!e.find(e=>{var t;return null===(t=e.publicationTypeTargeting)||void 0===t?void 0:t.includes(f.PublicationContentType.narrative)})){e.forEach(e=>e.publicationTypeTargeting=[f.PublicationContentType.article]);const t=e.find(e=>!e.osTargeting.includes(h.SwipeToSiteOSTargeting.desktop));t&&e.push((0,u.convertAtricleS2StoNarrative)(t,s)),r.data=e}}const l=e.pixels&&(0,d.pixelsValuesToApiParams)(e.pixels),g={...e,pixels:l,swipeToSiteEntry:r};return(0,m.postUtmData)(a,o,g).then(()=>{t(n())}).catch(e=>{(0,p.errorNotification)(e)})}},t.UtmEditorActionTypes=void 0;var l=i(18),c=i(28),d=i(161),u=i(166),p=i(71),m=i(288),h=i(74),f=i(27);let g;t.UtmEditorActionTypes=g,function(e){e.open="UTM_EDITOR_OPEN",e.close="UTM_EDITOR_CLOSE",e.clear="UTM_EDITOR_CLEAR",e.dataLoading="UTM_EDITOR_LOADING",e.dataLoaded="UTM_EDITOR_DATA_LOADED",e.dataLoadFailed="UTM_EDITOR_DATA_LOAD_FAILED",e.saveS2SData="UTM_EDITOR_SAVE_S2S_DATA",e.sampleDataLoaded="UTM_EDITOR_SAMPLE_DATA_LOADED",e.sampleLinkDataLoaded="UTM_EDITOR_SAMPLE_LINK_DATA_LOADED"}(g||(t.UtmEditorActionTypes=g={}))},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_REDIRECT_WAIT_TIME=t.adArticlePartnerLabel=void 0;var n=i(8),a=i(22),o=i(7);const r={text:(0,n.lang)('2eaf84bc'),href:(0,o.replaceUrlQuery)(a.PATHS.ADV_FROM_PUB_LABEL,{utm_source:"publabel_zen"}),color:"#07f"};t.adArticlePartnerLabel=r,t.MAX_REDIRECT_WAIT_TIME=3e3},,,,,,,,,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackHOC=function(e){return(0,l.connect)(({preferences:e,feedback:t,publication:i,experiments:n,comments:a,profile:o})=>{const{otherUsersAvatars:r,userAvatarUrl:s,isLikedByUser:l,hasOnlyUnauthorizedLikes:c,socialsDataLoaded:d,totalLikesCount:u,totalCommentsCount:p,otherTopLikers:m,currentUser:h}=a;return{preferences:e,feedback:t,publication:i,otherUsersAvatars:r,userAvatarUrl:s,isLikedByUser:l,hasOnlyUnauthorizedLikes:c,socialsDataLoaded:d,totalLikesCount:u,totalCommentsCount:p,otherTopLikers:m,currentUser:h,experiments:n,profile:o}},{sendLikePublisher:c.sendLikePublisher,likePublisher:c.likePublisher,postLikePublisher:c.postLikePublisher,sendUnlikePublisher:c.sendUnlikePublisher,unlikePublisher:c.unlikePublisher,postUnlikePublisher:c.postUnlikePublisher,sendBlockPublisher:c.sendBlockPublisher,blockPublisher:c.blockPublisher,sendUnblockPublisher:c.sendUnblockPublisher,unblockPublisher:c.unblockPublisher,fetchPreferences:c.fetchPreferences,likePublication:u.likePublication,sendLike:u.sendLike,dislikePublication:u.dislikePublication,undoLikePublication:u.undoLikePublication,sendUndoLike:u.sendUndoLike,undoDislikePublication:u.undoDislikePublication,updateLikesCount:p.updateLikesCount,openLoginPopup:d.openLoginPopup},f.defaultMergeProps)(function(e){return class extends s.Component{constructor(...e){super(...e),(0,r.default)(this,"clickShareSocial",()=>{const{publication:e,pageType:t}=this.props;(0,m.sendShareStat)(e,t)}),(0,r.default)(this,"handleSocialSubscription",()=>{const{socialsApp:e}=this.props;(null===e||void 0===e?void 0:e.setIsSubscribedToChannel)&&e.setIsSubscribedToChannel(this.isSubscribed)}),(0,r.default)(this,"toggleLike",(e=b.LikePlace.other)=>{const{likePublication:t,undoLikePublication:i,openLoginPopup:n,pageType:a,experiments:o,profile:r,publication:s}=this.props,{likeLoginPopupMessage:l}=o,{user:c}=r,d=Boolean(l&&!c),u=this.getFeedbackEventData();return this.isLiked()?(i(u,a),this.triggerSocialsDislike(),!1):d?(n({action:_.ActionsToPublication.like,objectRecommenderId:s.itemId,objectId:s.id,pageTypeForLike:a,itemId:v.InterfaceElementToBulkItemIdMap.likeMitten,publicationId:s.id,publicationItemId:s.itemId}),!0):(t(u,this.isDisliked(),a),this.triggerSocialsLike(e))}),(0,r.default)(this,"toggleDislike",()=>{const{dislikePublication:e,undoDislikePublication:t,pageType:i}=this.props,n=this.getFeedbackEventData();this.isDisliked()?t(n,i):(e(n,this.isLiked(),i),this.triggerSocialsDislike())}),(0,r.default)(this,"triggerSocialsLike",e=>{const{totalLikesCount:t,updateLikesCount:i,socialsApp:n}=this.props;return!(!n||!n.likePublication)&&(i(t+1,!0),n.likePublication(e))}),(0,r.default)(this,"triggerSocialsDislike",()=>{const{totalLikesCount:e,updateLikesCount:t,socialsApp:i}=this.props;if(i&&i.cancelLikePublication){const n=e>0?e-1:0;this.isLiked()&&t(n,!1),i.cancelLikePublication()}}),(0,r.default)(this,"openLikersPopup",()=>{const{socialsApp:e}=this.props;e&&e.openPublicationLikersPopup()}),(0,r.default)(this,"scrollToCommentsBlock",(e=!1)=>{const{commentsBlock:t}=this.props;if(!h.isSSR&&t){const i=t.getBoundingClientRect().top+window.pageYOffset-y;window.scrollTo({top:i,behavior:e?"smooth":"auto"})}}),(0,r.default)(this,"isLiked",()=>{const{feedback:{likes:e},publication:{itemId:t},isLikedByUser:i,useNewViewInSocials:n}=this.props,a=e.includes(t);return n?a||i:a}),(0,r.default)(this,"isLikedNow",()=>{const{feedback:{likes:e},publication:{itemId:t}}=this.props;return e.includes(t)}),(0,r.default)(this,"isDisliked",()=>{const{feedback:{dislikes:e},publication:{itemId:t}}=this.props;return!this.isLiked()&&e.includes(t)}),(0,r.default)(this,"getFeedbackEventData",()=>{const{publication:{id:e,itemId:t,publisherItemId:i,content:n},shareUrl:a}=this.props;return{item_id:t,source_id:i,publisher_id:i,link:a,item_type:n.type,publication_oid:e}})}get isSubscribed(){const{preferences:e}=this.props;return e.subscribeStatus===g.SubscribeStatus.Subscribed}render(){const{totalLikesCount:t}=this.props;return s.default.createElement(e,(0,o.default)({isLiked:this.isLiked(),isLikedNow:this.isLikedNow(),isDisliked:this.isDisliked(),toggleLike:this.toggleLike,toggleDislike:this.toggleDislike,clickShareSocial:this.clickShareSocial,onOpenLikersPopup:this.openLikersPopup,scrollToComments:this.scrollToCommentsBlock,likesCount:t,handleSocialSubscription:this.handleSocialSubscription},this.props))}}}(e))};var o=a(i(14)),r=a(i(11)),s=n(i(0)),l=i(18),c=i(132),d=i(127),u=i(289),p=i(234),m=i(194),h=i(10),f=i(370),g=i(51),b=i(29),_=i(183),v=i(35);const y=60},,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.publications=function(e=d,t){switch(t.type){case a.ProfileActionType.updated:{const{profile:i}=t,{publisher:n}=e;return n?{...e,publisher:{...n,...i}}:e}case o.DROP_PUBLICATION:{const{publicationId:i,groupKey:n}=t;if(n){const t=c[n],a=e[t];return{...e,[t]:{...a,items:a.items&&a.items.filter(e=>e.id!==i),total:a?a.total-1:0}}}return{...e,publications:e.publications.filter(e=>e.id!==i)}}case o.SHOW_PUBLICATIONS_ERROR:return{...e,publicationsError:t.errorMessage};case o.HIDE_PUBLICATIONS_ERROR:return{...e,publicationsError:void 0};case o.LAZY_LOAD_PUBLICATIONS:{const{isLoading:i,groupKey:n}=t;if(n){const t=c[n];return{...e,[t]:{...e[t],isLoading:i}}}return{...e}}case o.ADD_PUBLICATIONS:{const{publications:i}=t;return{...e,publications:[...e.publications,...i]}}case o.COPY_NARRATIVE:{const{publications:i}=e,{payload:n,isGrouping:a}=t,{publicationCopy:o}=n;if(a){const t=c[r.PUBLICATIONS_GROUP_KEY.DRAFT],i=e[t];return{...e,[t]:{...i,items:[o,...i.items],total:i.total+1}}}return{...e,publications:[o,...i]}}case o.NEW_ARTICLE_CREATION:return{...e,creationProgress:!0};case o.NEW_ARTICLE_CREATION_FINISHED:return{...e,creationProgress:!1};case o.ADD_PUBLICATIONS_BY_STATUS:{const{groupKey:i,publications:n}=t,a=c[i],o=e[a];return{...e,[a]:{...o,items:[...o.items,...n],isAllLoaded:0===n.length,isLoading:!1}}}case o.SET_PUBLICATIONS_BY_STATUS:{const{groupKey:i,publications:n,totalPubs:a}=t;return{...e,[c[i]]:{items:[...n],isAllLoaded:0===n.length,total:a,isLoading:!1}}}case o.COUNT_GROUPED_PUBLICATIONS:{const{gif:i,narrative:n,post:a,article:o,gallery:r}=t.counts;return{...e,publicationsCountByType:{...t.counts,all:i+n+a+o+r}}}case o.SELECTED_GROUP_CHANGED:{const{groupKey:i}=t;return{...e,selectedGroup:i}}case o.PUBLICATIONS_COUNT_LOADED:{const{draft:i,delayed:n,published:a}=t,{draftPublications:o,processingPublications:r,publishedPublications:s}=e;return{...e,draftPublications:{...o,total:i},processingPublications:{...r,total:n},publishedPublications:{...s,total:a}}}case o.PUBLICATIONS_LOADING:{const{groupKey:i}=t,n=c[i];return{...e,[n]:{...e[n],items:null,isLoading:!0,isLoadFailed:!1}}}case o.PUBLICATIONS_LOADED:{const{groupKey:i,publications:n}=t,a=c[i];return{...e,[a]:{...e[a],items:n,isLoading:!1,isLoadFailed:!1}}}case o.PUBLICATIONS_LOAD_FAILED:{const{groupKey:i}=t,n=c[i];return{...e,[n]:{...e[n],isLoading:!1,isLoadFailed:!0}}}case o.PUBLICATIONS_NEXT_PAGE_LOADING:{const{groupKey:i}=t,n=c[i];return{...e,[n]:{...e[n],isLoading:!0,isLoadFailed:!1}}}case o.PUBLICATIONS_NEXT_PAGE_LOADED:{const{groupKey:i,publications:n}=t,a=c[i],o=e[a];return{...e,[a]:{...o,items:[...o.items||[],...n],isLoading:!1,isLoadFailed:!1}}}case o.PUBLICATIONS_NEXT_PAGE_LOAD_FAILED:{const{groupKey:i}=t,n=c[i];return{...e,[n]:{...e[n],isLoading:!1,isLoadFailed:!0}}}default:return e}},t.initialState=t.mapGroupKeyToStoreProp=void 0;var a=i(61),o=i(93),r=i(106),s=n(i(10));const l={publications:[],statistics:{},creationProgress:!1,selectedGroup:r.PUBLICATIONS_GROUP_KEY.DRAFT,draftPublications:{items:null,total:0,isAllLoaded:!1,isLoading:!1,isLoadFailed:!1},processingPublications:{items:null,total:0,isAllLoaded:!1,isLoading:!1,isLoadFailed:!1},publishedPublications:{items:null,total:0,isAllLoaded:!1,isLoading:!1,isLoadFailed:!1},publicationsCountByType:{gif:0,narrative:0,post:0,article:0,all:0}},c={[r.PUBLICATIONS_GROUP_KEY.DRAFT]:"draftPublications",[r.PUBLICATIONS_GROUP_KEY.PROCESSING]:"processingPublications",[r.PUBLICATIONS_GROUP_KEY.PUBLISHED]:"publishedPublications"};t.mapGroupKeyToStoreProp=c;const d={...l,...s.default.data};t.initialState=d,d.publications=d.publications.sort((e,t)=>{if(e.privateData&&t.privateData&&e.privateData.hasChanges!==t.privateData.hasChanges){const i=!!t.privateData&&t.privateData.hasChanges,n=!!e.privateData&&e.privateData.hasChanges;return Number(i)-Number(n)}return t.content.modTime-e.content.modTime})},,,,,,,function(e,t,i){"use strict";function n({commentsBundleUrl:e,...t}){return new Promise(i=>{if(c.isSSR)return;const n=window,{store:s}=t,g=new Promise(e=>{const{subscribeStatus:t}=s.getState().preferences;if(t!==v.SubscribeStatus.Pending)return e();const i=s.subscribe(()=>{if(s.getState().preferences.subscribeStatus!==v.SubscribeStatus.Pending)return i(),e()})});!function(e){const t=document.createElement("script");t.async=!0,t.src=e,document.body&&document.body.appendChild(t)}(e),n.onCommentsLoaderReady=(n=>(async function({socialsLoader:e,onLoad:t,commentsToken:i,commentsApiUrl:n,commentsBundleUrl:s,isMobile:c,isAutoscrollEnable:g,store:b,uatraits:y,locationHash:I,commentsEnabled:T,socialsInitData:P,fetchSubscribeStatusPromise:E}){E&&await E;const{publication:{publisherId:C,id:A,content:{type:k},visibleComments:O},publisher:{publisher:{ownerUid:L}},statData:{oAuthToken:w,deviceId:D,requestId:R,flightId:M,clid:N},experiments:{useNewViewInSocials:U,experimentsString:x,isMobileFeedEnabled:B,feedExpConfigByTags:F,shouldRenderCommentsDisabledMessage:H,commentsDisabledMessageWithSmallMargins:V},zenUserData:{socialProfileIsSupported:j},profile:{user:z},preferences:{subscribeStatus:G}}=b.getState(),$=A,W=(0,r.getPlatformInfo)(),Y=(0,u.getSearchParams)(I.slice(1)),K=s.slice(0,s.lastIndexOf("/")+1),X=S(I),Z=Date.now(),q=await a(F,B,c),Q={};Q.documentType=(0,p.getStatContentType)(k),q&&(Q.commentCount=q),x&&(Q.experiments=x),z&&(Q.watcherPublisherId=z.publisherId),Q.shouldRemovePaddings=!0;const J={isMobile:c,deviceId:D,flightId:M,platform:W,ownerUid:L,requestId:R,oAuthToken:w,documentId:$,publisherId:C,commentsToken:i,commentsApiUrl:n,commentsPackagePath:K,sessionTs:Z,commentId:X,commentsData:Y.comments_data||"",uatraits:y,isAutoscrollEnable:g,commentsEnabled:T,socialProfileIsSupported:(0,l.isTrue)(j),disabledCommentsMessageEnabled:H,disabledCommentsMessageMinMargins:V,updateProfile:()=>{b.dispatch((0,m.loadUser)(!0))},onCommentsEvent:e=>{e===_.CommmentsEvent.getMoreComments&&b.dispatch((0,h.revealComments)())},commentsPayload:P,visibleComments:O,isSubscribedToChannel:G===v.SubscribeStatus.Subscribed,...Q};return I.includes("comments_data")&&history.replaceState({},document.title,location.href.replace(/\bcomments_data=[^&]+/,"").replace(/([#&])$/g,"")),(0,o.logCommentsStartLoading)({deviceId:D,flightId:M,documentId:$,publisherId:C,requestId:R,apiUrl:n,clientTs:Z}),(0,d.getActiveBulkParams)().then(i=>{const n={...J,...i?{partner:i.partner,product:i.product,integration:i.integration,place:i.place,bulkLink:i.link,bulkParams:i.params}:{},place:(0,f.getSocialsAppPlace)(),...N?{clid:N}:{}};return e.load(n).then(e=>{const i=e.getAppInstance().then(e=>(U&&(0,o.initSocialsState)(e.getPublicationInfo(),b.dispatch),e)),a={socialsApp:e,socialsOptions:n,appInstancePromise:i};return t(a),a})})})({commentsBundleUrl:e,socialsLoader:n,onLoad:i,fetchSubscribeStatusPromise:g,...t}))})}async function a(e,t,i){if(!i)return e.shouldRender?s.initialCommentariesNumber:null;if(t)return s.initialCommentariesNumber;const n=(0,g.getZenKitApi)();return n?Promise.race([(0,b.wait)(3e3),n.getLaunchOptions()]).then(e=>{var t;return e&&null!==(t=e.commentCount)&&void 0!==t?t:null}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.initSocialsLazyLoading=function(e,t=!1){const{store:i,isMobile:a,commentsToken:r,locationHash:s}=e;let l=()=>{};const c=t?Promise.resolve():new Promise(e=>{l=e}),d={isMobile:a,commentsToken:r,withUser:!0,retryNum:0,manualRetry:!1,commentId:S(s),sessionTs:Date.now(),clientTs:Date.now(),withProfile:!a},u=new Promise(e=>{t&&e(),i.dispatch((0,o.loadPublicationSocials)(d)).then(t=>{e(t)})}),p=c.then(async()=>n({...e,socialsInitData:await u}));return setTimeout(()=>l(),y),{allowLoadSocials:l,waitTillCanLoadSocials:c,socialsLoadingPromise:p,initialSocialsDataLoadingPromise:u.then(()=>{})}},t.loadSocialsApp=n,t.getInitialCommentariesNumber=a;var o=i(234),r=i(36),s=i(39),l=i(135),c=i(10),d=i(35),u=i(7),p=i(47),m=i(61),h=i(127),f=i(40),g=i(67),b=i(20),_=i(146),v=i(51);const y=3e4,S=e=>parseInt((e.match(/\bcomment_(\d+)/)||[])[1],10)||0},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Access",{enumerable:!0,get:function(){return n.Access}}),Object.defineProperty(t,"AccessRenderProps",{enumerable:!0,get:function(){return n.AccessRenderProps}});var n=i(725)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMergeProps=function(e,t,i){return{...e,...t,...i}},t.pipeActions=void 0,t.pipeActions=((...e)=>()=>t=>{e.forEach(e=>{t(e())})})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;const n=(0,i(115).createDummyReducer)({});t.config=n},,function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceOpenSmsPopup=t.setSmsPopupOpen=t.setTimeout=t.SET_SMS_POPUP_OPEN=t.SET_SMS_POPUP_TIMEOUT=t.SMS_POPUP_FORCE_SHOW_COOKIE=void 0,t.SMS_POPUP_FORCE_SHOW_COOKIE="SMS_POPUP_FORCE_SHOW_COOKIE";const n="SMS_POPUP_SET_TIMEOUT";t.SET_SMS_POPUP_TIMEOUT=n;const a="SET_SMS_POPUP_OPEN";t.SET_SMS_POPUP_OPEN=a;const o=e=>t=>t({type:n,expires:e});t.setTimeout=o;const r=e=>t=>t({type:a,isOpen:e});t.setSmsPopupOpen=r,t.forceOpenSmsPopup=(e=>t=>{o(e)(t),r(!0)(t)})},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nativeShare=function(e){const t=navigator;return t&&t.share?t.share({title:e.content.preview.title,text:e.content.preview.snippet,url:(0,n.getCurrentLocationUrl)()}):Promise.reject()},t.copyToClipboard=void 0;var n=i(7);t.copyToClipboard=(e=>{const{body:t}=document,i=document.createElement("textarea");i.style.position="absolute",i.style.top="0",i.textContent=e,t.appendChild(i),i.select(),document.execCommand("copy"),t.removeChild(i)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return t=>{e.content.articleContent.contentState.items.forEach(e=>{e.localImageURL=void 0}),t((0,g.updateContent)(e.content.articleContent))}}function a(e){return async(t,i)=>{await Promise.all(e.map(async e=>{let n;try{n=(await t((0,f.uploadImageMobileEditor)(e.file))).id}catch(e){n=null}const{editor:{publication:a}}=i();if(!a||a.content.type!==I.PublicationContentType.gallery)return;const o=(0,s.getUpdatedContentState)(a,{[e.URL]:n});t((0,g.updateContent)({...a.content.articleContent,contentState:o})),await t((0,f.mobileSaveDraft)())}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.addImagesToGallery=function(e,t){return async(i,n)=>{if(!e.length)return;const{editor:{publication:o},config:{config:l}}=n();if(!o||o.content.type!==I.PublicationContentType.gallery||!l)return;i((0,g.updateEditorStatus)(S.EditorStatus.saving));const{maxGallerySlideSize:u}=l,p=o.content.articleContent.contentState.items.length,m=e.length+p,h=(await(0,s.getImageSuitable)(await(0,r.getPreparedImages)(e))).slice(0,u-p);if(0===h.length)return t.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('ff3275c1')}),void i((0,g.updateEditorStatus)(S.EditorStatus.fine));m<u&&e.length>h.length&&t.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('ff3275c1')}),m>u&&Math.min(e.length,u-p)>h.length&&t.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('09e43ede')}),Math.min(e.length,u-p)===h.length&&m>u&&t.showNotification({type:S.MobileNotificationType.fail,message:(0,d.templateReplacer)((0,c.lang)('4acbfa0e'),{count:u})});const f=(0,r.getUrlsFromImageFiles)(h),b=n().editor.publication;b&&b.id===o.id&&(i((0,g.updateContent)({contentState:(0,s.getUpdatedContentState)(b,f),galleryAspectRatio:o.content.articleContent.galleryAspectRatio})),await i(a(h)))}},t.updateGallerySettings=function(e){return async t=>{t((0,b.updateStateFromValues)(e)),await t((0,f.mobileSaveDraft)())}},t.createGallery=function(e,{history:t},i,n=!0,o=!0){return async(l,u)=>{o&&i.startProcess((0,c.lang)('567491de'));try{const{config:{config:o}}=u();if(!o)return;const{maxGallerySlideSize:p}=o,f=(await(0,s.getImageSuitable)(await(0,r.getPreparedImages)(e))).slice(0,p);if(0===f.length)return i.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('ff3275c1')}),void i.endProcess();e.length<p&&e.length>f.length&&i.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('ff3275c1')}),e.length>p&&Math.min(e.length,p)>f.length&&i.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('09e43ede')}),Math.min(e.length,p)===f.length&&e.length>p&&i.showNotification({type:S.MobileNotificationType.fail,message:(0,d.templateReplacer)((0,c.lang)('4acbfa0e'),{count:p})});const b=await l((0,h.createPublicationV2)(y.PublicationType.gallery,!0));await l((0,h.getPublication)(b.id,!0)),l((0,g.updateEditorStatus)(S.EditorStatus.saving));const _=(0,r.getUrlsFromImageFiles)(f),v=0!==_.length?await(0,s.getGalleryAspectRatio)(_[0]):"ratio-1x1";await l((0,g.updateContent)({contentState:(0,s.getInitialGalleryContentState)(v,_),galleryAspectRatio:v})),i.endProcess(),t.push((0,m.getGalleryUrl)(b.id,n)),await l(a(f))}catch(e){i.endProcess(),i.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('7339f642'),bottomOffset:m.NOTIFICATION_BOTTOM_OFFSET})}}},t.removeLocalImagesFromGallery=n,t.publishGallery=function(e,t,i){return async(n,a)=>{const{profile:{publisher:o},captcha:{isActive:d},editor:{publication:u}}=a();if(!u||u.content.type!==I.PublicationContentType.gallery)return;const h=(0,m.getPublicationsUrl)(u.delayedPublicationFlagState);if(d)return void t.push("/captcha");if(!o||!(0,p.isProfileFill)(o))return void t.push("/settings/prepublish-phone");const{contentState:_,galleryAspectRatio:v}=u.content.articleContent;try{await n((0,b.updateStateFromValues)(e))}catch(e){return void i.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('046fa9c8')})}i.startProcess((0,c.lang)('85c36722'));try{const e=await(0,s.getGalleryCroppedImagesMap)(_.items);await Promise.all(e.map(async e=>{const{id:t}=await n((0,f.uploadImageMobileEditor)((await(0,r.getPreparedImage)(e.blob)).file)),i=_.items.find(({imageId:t})=>(null===t||void 0===t?void 0:t.id)===e.id);i&&(i.imageId={id:t},i.crop=void 0)})),n((0,g.updateContent)({contentState:_,galleryAspectRatio:v})),await n((0,b.publishV2)()),(0,l.sendStatEvent)({event:"gallery_post",item_id:u.itemId,source_id:o.itemId,parent_size:String((0,s.getGallerySize)(u))}),i.endProcess(),n((0,b.clearEditor)()),t.replace(h),i.showNotification({type:S.MobileNotificationType.success,message:(0,c.lang)('fab9c2da'),bottomOffset:m.NOTIFICATION_BOTTOM_OFFSET})}catch(e){i.endProcess();const{captcha:{isActive:n}}=a();if(n)return void t.push("/captcha");i.showNotification({type:S.MobileNotificationType.fail,message:(0,c.lang)('046fa9c8')})}}},t.onGalleryTextChange=function(e){return async(t,i)=>{t((0,g.updateEditorStatus)(S.EditorStatus.hasChanges));const n=(0,_.deltaToDraft)(e.delta),{editor:{publication:a}}=i();if(!a||a.content.type!==I.PublicationContentType.gallery)return;const{contentState:o,galleryAspectRatio:r}=a.content.articleContent;o&&(o.items[e.number].content=(0,m.isEditorWithText)(n.blocks)?n:void 0,o.type===v.GalleryContentType.single&&(0,s.hasGalleryText)(a,[e.number])&&(o.type=v.GalleryContentType.multi),o.type===v.GalleryContentType.multi&&1===(0,s.getGalleryDescriptionCount)(o.items)&&(o.type=v.GalleryContentType.single),t((0,g.updateContent)({galleryAspectRatio:r,contentState:o})),o.items[e.number].imageId?await t((0,f.mobileSaveDraft)()):(0,s.galleryNotSavedImagesCount)(a)>0&&t((0,g.updateEditorStatus)(S.EditorStatus.notAllUploaded)))}},t.deleteGalleryItem=function(e){return async(t,i)=>{const{editor:{publication:n}}=i();if(!n||n.content.type!==I.PublicationContentType.gallery)return;const{contentState:a,galleryAspectRatio:o}=n.content.articleContent;a.items.splice(e,1),t((0,g.updateContent)({contentState:a,galleryAspectRatio:o})),await t((0,f.mobileSaveDraft)())}},t.saveGallery=function(){return e=>{e((0,f.mobileSaveDraft)())}},t.setGalleryCrop=function(e,t){return(i,n)=>{const{editor:{publication:a}}=n();if(!a||a.content.type!==I.PublicationContentType.gallery)return;const{contentState:o}=a.content.articleContent;o.items[e].crop=t,i((0,g.updateContent)({...a.content.articleContent,contentState:o}))}},t.retryGalleryImageSave=function(e){return async(t,i)=>{t((0,g.updateEditorStatus)(S.EditorStatus.uploadingImage));const{editor:{publication:n}}=i();if(!n||n.content.type!==I.PublicationContentType.gallery)return;const{contentState:a,galleryAspectRatio:o}=n.content.articleContent,r=a.items[e].localImageURL;if(a.items[e].status=v.GalleryImageStatus.process,r){t((0,g.updateContent)({contentState:a,galleryAspectRatio:o}));try{const n=await fetch(r).then(e=>e.blob()),{id:s}=await t((0,f.uploadImageMobileEditor)(n));a.items[e]={...a.items[e],imageId:{id:s},status:v.GalleryImageStatus.success},t((0,g.updateEditorStatus)(S.EditorStatus.fine))}catch(i){t((0,f.changeEditorStatus)(i)),a.items[e]={...a.items[e],status:v.GalleryImageStatus.error}}finally{t((0,g.updateContent)({contentState:a,galleryAspectRatio:o}))}}}},t.onGalleryNextClick=function(e){return async(t,i)=>{const{editor:{publication:a}}=i();a&&a.content.type===I.PublicationContentType.gallery&&(t(n(a)),e.push((0,s.getGallerySettingsUrl)(a.id)))}},t.galleryChangeOrder=function(e,t){return async(i,n)=>{const{editor:{publication:a}}=n();if(!a||a.content.type!==I.PublicationContentType.gallery)return;const{contentState:o}=a.content.articleContent,r=[...o.items],l=r[e];r.splice(e,1),r.splice(t,0,l);const c={...o,items:r};i((0,g.updateContent)({...a.content.articleContent,contentState:c})),await(0,u.wait)(s.GALLERY_SAVE_AFTER_CHANGE_ORDER_TIMEOUT),await i((0,f.mobileSaveDraft)())}},t.gallerySaveImagesSequentially=a,t.galleryChangeAspectRatio=function(e){return(t,i)=>{const{editor:{publication:n}}=i();if(!n||n.content.type!==I.PublicationContentType.gallery)return;const a=(0,s.getAspectRatioSize)(e),{contentState:r}=n.content.articleContent,l=r.items.map(e=>{if(!e.crop)return e;const t=e.crop.container.width/a.width,i={width:t*a.width,height:t*a.height},n=(0,o.fitImageInContainer)({imageWidth:e.crop.originImage.width,imageHeight:e.crop.originImage.height,containerHeight:i.height,containerWidth:i.width});return{...e,crop:(0,o.getNextCropValues)(!0,{...e.crop,container:i,originImage:n})}});t((0,g.updateContent)({...n.content.articleContent,contentState:{...r,items:l},galleryAspectRatio:e})),t((0,f.mobileSaveDraft)())}};var o=i(445),r=i(23),s=i(72),l=i(35),c=i(8),d=i(31),u=i(20),p=i(64),m=i(81),h=i(93),f=i(152),g=i(90),b=i(172),_=i(293),v=i(129),y=i(112),S=i(29),I=i(27)},,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAccessList=function(e){return(0,a.loadData)((0,o.formatPath)(r,{},{publisherFilter:e})).then(({accessList:e})=>e)},t.updateAccessList=function(e,t){return(0,a.postData)((0,o.formatPath)(s,{},{publisherFilter:t}),e).then(({accessList:e})=>e)},t.fetchAccessPublishers=function(){return(0,a.loadData)(l)};var n=i(19),a=i(13),o=i(7);const r=`/${n.EDITOR_API_V2}/flights/agency/get-client-access-list`,s=`/${n.EDITOR_API_V2}/flights/agency/update-client-access-list`,l=`/${n.EDITOR_API_V2}/flights/agency/get-clients-list`},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(77),a=i(115);const o={showBackButton:!1,useNewViewInSocials:!1,experimentsString:"",appButtonEnabled:!1,appButtonCloseTimeout:0,appButtonYellow:!1,appButtonUrl:n.DEFAULT_APP_BUTTON_URL,adfoxSmartEnabled:!1,adfoxStartWithFullscreen:!1,adfoxDisabledCloseExpire:1,turnOffComments:!1};var r=(0,a.createDummyReducer)(o);t.default=r},,function(e,t,i){},,,,,,function(e,t,i){"use strict";function n({statPixels:e,event:t,slideNumber:i,pixelsWhiteList:n}){const s=(e.pixels[t]||[]).reduce((e,t)=>{if(a(t,n)){const n=function(e,{rand:t,slideNumber:i}){let n=e;return n="number"==typeof i?r(n,"{SCREEN_NO}",String(i)):o(n,"{SCREEN_NO}"),n=r(n,"{RAND}",String(t)),n=o(n,"{IDFA}"),n=o(n,"{GAID}")}(t,{rand:(0,d.getRandomNumberString)(),slideNumber:i});e.push(function(e){let t=0;const i=()=>(0,c.waitImageLoad)(e).catch(e=>++t<1?(e.stack,i()):Promise.resolve());return i()}(n))}return e},[]);return Promise.all(s)}function a(e,t){const i=e.trim();return(t&&t.length?t:h).some(e=>0===i.toLowerCase().indexOf(e))}function o(e,t){const i=t.replace("{","\\{").replace("}","\\}"),n=RegExp(`&?\\b[a-zA-Z-_.]+=${i}`);return e.replace(n,"").replace(t,"")}function r(e,t,i){return e.replace(t,i)}var s=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.sendPixelsEvent=n,t.checkPixelUrl=a,t.StatPixelLog=t.PIXEL_URL_PLACEHOLDERS=void 0;var l=s(i(11)),c=i(54),d=i(31),u=i(39),p=i(20),m=i(546);t.PIXEL_URL_PLACEHOLDERS=["{GAID}","{SCREEN_NO}","{IDFA}","{RAND}"];const h=["https://mc.yandex.ru/pixel/","https://mc.yandex.ru/watch/","https://www.tns-counter.ru/","https://tns-counter.ru/","https://ads.adfox.ru/","https://bs.serving-sys.com/serving/","https://ad.doubleclick.net/ddm/trackimp/","https://awaps.yandex.ru/","https://serving-sys.com/","https://ar.tns-counter.ru/","https://www.ar.tns-counter.ru/","https://ad.adriver.ru/cgi-bin/rle.cgi","https://ad.adriver.ru/cgi-bin/click.cgi","https://amc.yandex.ru/","https://mc.admetrica.ru/"];t.StatPixelLog=class{constructor(e,t){(0,l.default)(this,"handleArticleActivity",e=>{e>=.9&&this.sendComplete()}),this.pixels=e||{publicationId:"",active:!1,pixels:{enter:[],slide:[],link:[],complete:[]}},this.completeSent=!1,this.enterSent=!1,this.shownSlides=[],this.pixelsWhiteList=t}sendPixelEvent(e,t){const{pixelsWhiteList:i}=this;return n({statPixels:this.pixels,event:e,pixelsWhiteList:i,slideNumber:t})}sendEnter(){if(this.completePromise=this.completePromise||(0,p.wait)(1e3*u.minPixelCompleteSeconds),this.enterSent)return Promise.resolve();const e=this.sendPixelEvent(m.StatPixelEvent.enter).catch(e=>(this.enterSent=!1,Promise.reject(e)));return this.enterSent=!0,e}sendSlide(e){return-1!==this.shownSlides.indexOf(e)?Promise.resolve():(this.shownSlides.push(e),Promise.all([this.sendPixelEvent(m.StatPixelEvent.slide,e),this.sendEnter()]))}sendLink(){return this.sendPixelEvent(m.StatPixelEvent.link)}sendComplete(){if(this.completeSent)return Promise.resolve();const e=(this.completePromise||(0,p.wait)(1e3*u.minPixelCompleteSeconds)).then(()=>this.sendPixelEvent(m.StatPixelEvent.complete)).catch(e=>(this.completeSent=!1,Promise.reject(e)));return this.completeSent=!0,e}addPixelLinksListeners(e){[...e.querySelectorAll(".article-link")].forEach(e=>e.addEventListener("click",()=>this.sendLink()))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MoreButton",{enumerable:!0,get:function(){return n.MoreButton}});var n=i(1139)},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.publisher=function(e=o){return e};var a=n(i(10));const o={publisher:a.default.data&&a.default.data.publisher}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=function(e=a,t){switch(t.type){case n.UrlActionType.setBaseUrl:return{...e,baseUrl:t.payload};default:return e}};var n=i(538);const a={omittedQueryParams:{},baseUrl:""}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignsMetrikaGoal=void 0;let n;t.CampaignsMetrikaGoal=n,function(e){e.updateCampaign="save_campaign",e.createCampaign="save_new_campaign",e.openNewCampaignPopup="new_campaign",e.openBillingPopup="open_billing_popup",e.createInvoice="create_invoice",e.openCampaignPublicationsPopup="open_popup_add_publications",e.addCampaignPublications="add_publications_from_popup"}(n||(t.CampaignsMetrikaGoal=n={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArticleDataForZenAPI=function(e,t){const{name:i}=e.publisher.publisher,{publication:{id:a,content:{preview:{title:r}}},comments:s,preferences:l}=e,c=function(e){const{publication:{itemId:t},feedback:{likes:i},experiments:{useNewViewInSocials:n},comments:a}=e,o=Boolean(a&&a.isLikedByUser);return i.includes(t)||n&&o}(e),d=function(e,t){const{feedback:{dislikes:i},publication:{itemId:n}}=e;return!t&&i.includes(n)}(e,c),u=c&&n.FeedbackStatus.liked||d&&n.FeedbackStatus.disliked||n.FeedbackStatus.none,p=o(l.subscribeStatus);return{id:a,title:r,channelTitle:i,isAuthor:t,commentsCount:s?s.totalCommentsCount:0,feedback:u,channelSubscription:p}},t.subscribeStatusToZenKitSubscribeStatus=void 0;var n=i(186),a=i(51);const o=e=>{switch(e){case a.SubscribeStatus.Subscribed:return n.SubscribeStatus.subscribed;case a.SubscribeStatus.Blocked:return n.SubscribeStatus.blocked;case a.SubscribeStatus.None:return n.SubscribeStatus.unsubscribe;default:return}};t.subscribeStatusToZenKitSubscribeStatus=o},function(e,t,i){},function(e,t,i){},,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=r,t){switch(t.type){case o.SET_SMS_POPUP_OPEN:{const{isOpen:i}=t;return{...e,isOpen:i}}case o.SET_SMS_POPUP_TIMEOUT:{const{expires:i}=t;return a.default.set(o.SMS_POPUP_FORCE_SHOW_COOKIE,"1",{expires:i}),{...e,isTimeout:!0}}default:return e}};var a=n(i(374)),o=i(375);const r={isTimeout:Boolean(a.default.get(o.SMS_POPUP_FORCE_SHOW_COOKIE)),isOpen:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,i(115).createDummyReducer)({});t.default=n},function(e,t,i){},,,,,function(e,t,i){},,,,,,function(e,t,i){"use strict";function n(e){return`_yz_user_activity_${e}`}function a(){return(0,s.storageFactory)((0,s.getWindowLocalStorageOrFail)())}Object.defineProperty(t,"__esModule",{value:!0}),t.trackActivity=t.ItemType=void 0;var o=i(54),r=i(260),s=i(50),l=i(20),c=i(13);let d;t.ItemType=d,function(e){e.native="native",e.narrativeCard="narrative_card"}(d||(t.ItemType=d={}));const u=5e3;t.trackActivity=((e,t,i)=>{let s,p,m,h,f;const g=t().then(({token:e})=>(f=e,{token:e})),b=t=>{if(!m)return;const o=n(m.toString()),r=a().get(o);let s;return r?s={...r.payload,events:[...r.payload.events,t]}:(s={itemType:"narrative"===e.content.type?d.narrativeCard:d.native,itemId:e.itemId,publisherItemId:e.publisherItemId,referrer:document.referrer,clientTS:Math.round(m/1e3),events:[t],location:location.href,link:i.link,flightId:i.flightId,pageType:i.pageType,clid:i.clid,rid:i.rid,variantId:h,parentItemId:i.parentItemId,parentType:i.parentType,url:"",secdata:i.secdata}).url=_(s),a().set(o,{heartBeat:Date.now(),payload:s}),s},_=e=>{const{itemId:t,itemType:n,publisherItemId:a,clientTS:o,referrer:s,location:l,rid:c,pageType:d,clid:u,variantId:p,flightId:m,link:h,parentItemId:f,parentType:g,secdata:b}=e,_={event:"view",item_id:t,source_id:a,link:h||l,item_type:n,client_ts:o,rid:c,referrer:s,flight_id:m,...u?{clid:u}:{},...d?{page_type:d}:{},variant_id:p,parent_id:f,parent_type:g,secdata:b};return(0,r.buildStatUrl)(_,i.shouldUseGroupIdsInCommonStats)},v=(e,t)=>/[&?]_csrf=/.test(e)?e:`${e}&_csrf=${t}`,y=e=>{if(!e&&!m)return Promise.reject("no readID");const t=e||n(m&&m.toString()||""),{payload:i}=a().get(t)||{payload:void 0};if(!i)return a().remove(t),Promise.resolve();const o=i.url||_(i);return g.then(({token:e})=>(0,c.postData)(v(o,e),{events:i.events}).catch(e=>{if(e.status<400||e.status>=500)throw e})).then(()=>a().remove(t)).catch(console.error)};let S=!1;const I=()=>{if(setTimeout(I,3e3),!m)return;const e=n(m.toString()),t=a().get(e);t&&a().set(e,{...t,heartBeat:Date.now()})},T=()=>{if(!m)return;const e=n(m.toString()),t=a().get(e);if(!t)return;const{payload:i}=t;let o=i&&(i.url||_(i));f&&(o=v(o,f));const r=JSON.stringify({events:i?i.events:[]});navigator.sendBeacon&&navigator.sendBeacon(o,r)&&a().remove(e)};return(0,o.fireOnLoadInMobileOrNow)(()=>{const{onActivity:e,subscribeToEverything:t=!0}=i;window._zenOmittedQueryParams&&(h=window._zenOmittedQueryParams.variant_id);const o=a().getAll(),r=Object.keys(o).filter(e=>e.includes(n("")));if(Promise.all(r.map(e=>{const t=a().get(e);return t&&t.heartBeat?y(e):(a().remove(e),Promise.resolve())})).catch(()=>{}),m=Date.now(),t){const t=function(e,t){function n(){if(S)return;const a=document.getElementById(i.contentEndingSelector||"content-ending");if(!a)return;const o=a.offsetTop||0,r=document.documentElement&&document.documentElement.clientHeight||0,l=a.getBoundingClientRect().top-r;let c=o-l;const d=l+r*(i.viewStatEndTriggerShift||0)<0,h=Date.now(),f=i.fullReadDelay<=(h-(p||h))/1e3;if(s){if(!d&&s&&s+u>h)return;if(!f)return}else s=h,p=h,i.fullReadDelay&&(c=1,setTimeout(n,1e3*i.fullReadDelay));if(b({delta_time:Math.round((h-s)/1e3),total_size:o,bottom:c,view_height:r}),t)try{t(Math.min(c/o,1))}catch(e){}if(s=h,d&&m&&f){var g;e&&(S=!0,e()),y(),null===(g=i.onFullRead)||void 0===g||g.call(i)}}return()=>(0,l.raf)().then(n)}(()=>(e=>{["scroll","click","mousemove","resize"].forEach(t=>window.removeEventListener(t,e)),window.removeEventListener("unload",T)})(t),e);(e=>{e(),["scroll","click","mousemove","resize"].forEach(t=>window.addEventListener(t,e))})(t)}I(),window.addEventListener("beforeunload",T)}),{sendEvent:y,createOrModifyStat:b}})},,,,,function(e,t,i){"use strict";function n({scriptUrl:e,scope:t}){"serviceWorker"in navigator&&navigator.serviceWorker.register(e,{scope:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.registerEditorServiceWorker=function(){n({scriptUrl:"/profile/editor/stub-sw.js",scope:"/profile/editor/"})},t.registerMediaServiceWorker=function(){n({scriptUrl:"/media/stub-sw.js",scope:"/media/"})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadClientsStatistics=function(e,t,i){return(0,r.loadData)((0,o.formatPath)(l,{},{groupBy:i!==s.ClientsInterval.all?i:void 0,from:(0,a.toISODate)(e),to:(0,a.toISODate)(t)}))},t.ClientsStatisticsResponseStatus=void 0;var n=i(19),a=i(20),o=i(7),r=i(13),s=i(253);const l=`/${n.EDITOR_API_V2}/flights/agency/client-statistics`;let c;t.ClientsStatisticsResponseStatus=c,function(e){e.ok="ok",e.chUnavailable="CH_UNAVAILABLE"}(c||(t.ClientsStatisticsResponseStatus=c={}))},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.feedback=function(e=r,t){const{likes:i,dislikes:n}=e;switch(t.type){case a.FeedbackActionType.likePublication:return{...e,likes:(0,o.default)([...i,t.payload.id]),dislikes:n.filter(e=>e!==t.payload.id)};case a.FeedbackActionType.undoLikePublication:return{...e,likes:i.filter(e=>e!==t.payload.id)};case a.FeedbackActionType.dislikePublication:return{...e,dislikes:(0,o.default)([...n,t.payload.id]),likes:i.filter(e=>e!==t.payload.id)};case a.FeedbackActionType.undoDislikePublication:return{...e,dislikes:n.filter(e=>e!==t.payload.id)};default:return e}};var a=i(289),o=n(i(713));const r={likes:[],dislikes:[]}},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=d,t){switch(t.type){case a.PublicationActionType.changeDraftCopyAccess:return{...e,draftPreviewData:{...e.draftPreviewData,hasCopyAccess:t.payload}};case a.PublicationActionType.changePublicationTags:return{...e,...t.data};default:return e}};var a=i(194),o=n(i(10));const{publication:r={},draftPreviewData:s={},privateData:l={},activeOnAdFlight:c=!1}=o.default.data||{},d={...r,draftPreviewData:s,privateData:l,activeOnAdFlight:c}},,,,,,,,,,,function(e,t,i){},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(987);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},,,function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accessData=function(e=n){return e};const n={canGrantAccess:!1,canWrite:!1,hasConfidentialAccess:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureConfig=void 0;const n=(0,i(115).createDummyReducer)({});t.featureConfig=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=a,t){return t.type===n.NotificationActionTypes.add?{type:t.notificationType,message:t.message}:e};var n=i(48);const a={type:void 0,message:""}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clients=function(e=o,t){switch(t.type){case n.ClientsActionType.clientsAccessLoaded:{const{publishersAccess:i}=t.payload;return{...e,publishersAccess:i}}case n.ClientsActionType.clientsLoaded:return{...e,clientsStats:t.payload.clientsStats,showsConversions:t.payload.showsConversions};case n.ClientsActionType.clientsIntervalChanged:return{...e,selectedInterval:t.payload.selectedInterval};case n.ClientsActionType.clientsRangeChanged:return{...e,startDate:t.payload.startDate,endDate:t.payload.endDate};case n.ClientsActionType.clientsWithGoneChanged:return{...e,withGone:t.payload.withGone};case n.ClientsActionType.clientsFilterByNameChanged:return{...e,filterByName:t.payload.filterByName};default:return e}};var n=i(707),a=i(20);const o={clientsStats:void 0,selectedInterval:i(253).ClientsInterval.month,startDate:Date.now()-(0,a.toMsFromDays)(90),endDate:Date.now(),withGone:!1,showsConversions:!1,filterByName:"",publishersAccess:[]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=l,t){switch(t.type){case o.PreferencesActionTypes.SUBSCRIBE:return{...e,subscribeStatus:r.SubscribeStatus.Subscribed};case o.PreferencesActionTypes.UNSUBSCRIBE:case o.PreferencesActionTypes.UNBLOCK:return{...e,subscribeStatus:r.SubscribeStatus.None};case o.PreferencesActionTypes.BLOCK:return{...e,subscribeStatus:r.SubscribeStatus.Blocked};case o.PreferencesActionTypes.SET_SUBSCRIBE_STATUS:return{...e,subscribeStatus:t.payload.status};case o.PreferencesActionTypes.SET_SUBSCRIBE_STATUS_IF_UNKNOWN:return e.subscribeStatus===r.SubscribeStatus.Pending?{...e,subscribeStatus:t.payload.status}:e;default:return e}};var n=i(10),a=i(304),o=i(132),r=i(51);const s=(0,n.getLocalWindow)(),l={subscribeStatus:s&&s._subscriptionStatus&&s._subscriptionStatus in a.subscriptionStatusNameToCodeMap?a.subscriptionStatusNameToCodeMap[s._subscriptionStatus]:r.SubscribeStatus.Pending}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"yandex-ru--inline",use:"yandex-ru--inline-usage",viewBox:"0 0 56 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 28" id="yandex-ru--inline"><path d="M7.67 15.88V23h2V4.41H6.68c-2.94 0-5.4 1.95-5.4 5.85 0 2.78 1.09 4.29 2.72 5.12L.52 23h2.31l3.18-7.12h1.66zm0-1.67H6.6c-1.74 0-3.17-.96-3.17-3.95C3.43 7.16 5 6.1 6.6 6.1h1.07v8.11zm22.07 7.13H28.7V9.9h-6.08V11c0 3.49-.13 7.54-1.33 10.33h-.8v4.23h1.81V23h5.62v2.57h1.82v-4.23zm8.81.78l-.46-1.56c-.52.36-1.43.88-2.58.88-1.6 0-2.44-1.56-2.44-4.52h5.46V15.8c0-4.45-1.43-6.09-3.62-6.09-2.78 0-3.95 3.07-3.95 7.28 0 4.03 1.67 6.2 4.37 6.2 1.3 0 2.4-.42 3.22-1.07zM17.31 9.9v5.56H14.3V9.9h-2.03V23h2.03v-5.88h3.01V23h2V9.9h-2zM46.1 23h2.21l-3.71-6.94 3.25-6.16h-2.06l-3.14 6.05V9.9H40.6V23h2.03v-6.53L46.09 23zm6.97.18c1.2 0 2.03-.39 2.73-.99l-.47-1.5c-.46.41-1.22.8-2.2.8-1.64 0-2.42-1.87-2.42-5.15 0-3.3 1.04-4.94 2.5-4.94.82 0 1.6.45 2.15.91l.29-1.92a4.12 4.12 0 00-2.42-.68c-3.07 0-4.66 2.63-4.66 6.74 0 4.47 1.7 6.73 4.5 6.73zM26.7 21.34h-3.5c1.1-2.79 1.23-6.82 1.23-9.57v-.24h2.26v9.8zm8.21-9.96c1.17 0 1.54 1.64 1.54 3.87h-3.36c.13-2.34.58-3.87 1.82-3.87z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"yandex-en--inline",use:"yandex-en--inline-usage",viewBox:"0 0 57 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 28" id="yandex-en--inline"><path d="M6.66 24v-6.58L11.49 3.5H9.44L5.67 14.6 2.39 5.4H.16L4.6 17.34V24h2.06zm8.89-2.57a2.24 2.24 0 01-1.76 1.04c-1.04 0-1.54-1-1.54-2.5 0-1.69.55-2.8 3.07-2.8h.23v4.26zm2-.4v-6.16c0-3.17-1.27-4.16-3.58-4.16-1.33 0-2.52.55-3.12 1.04l.39 1.8a4 4 0 012.6-1.15c1.14 0 1.71.73 1.71 2.45v.78h-.28c-3.67 0-5.1 1.77-5.1 4.57 0 2.58 1.28 3.98 3.15 3.98a2.9 2.9 0 002.44-1.22h.13c.03.34.1.75.18 1.04h1.72c-.1-.62-.23-1.72-.23-2.96zm4.56-7.2c.46-.65 1.2-1.3 2.05-1.3.78 0 1.22.34 1.22 1.33V24h2.06V13.68c0-2-.91-2.97-2.63-2.97-1.22 0-2.21.81-2.57 1.3h-.13v-1.14h-2.03V24h2.03V13.83zm11.3 10.35c1.07 0 1.8-.5 2.37-1.22h.13l.16 1.04h1.5V5.41h-2.02v5.8a3 3 0 00-1.67-.5c-2.62 0-4.44 2.37-4.44 7.23 0 4.06 1.4 6.24 3.98 6.24zm2.14-2.73a2.1 2.1 0 01-1.9 1.02c-1.48 0-2.05-1.88-2.05-4.94 0-2.68.78-5.15 2.41-5.15.68 0 1.12.2 1.54.62v8.45zm11.57 1.67l-.47-1.56c-.52.36-1.35.88-2.5.88-1.6 0-2.44-1.56-2.44-4.52h5.46V16.8c0-4.45-1.43-6.09-3.61-6.09-2.79 0-3.96 3.07-3.96 7.28 0 4.03 1.67 6.2 4.37 6.2 1.3 0 2.32-.42 3.15-1.07zm-3.56-10.74c1.17 0 1.53 1.64 1.53 3.87h-3.35c.13-2.34.57-3.87 1.82-3.87zM54 10.9l-1.8 4.75-1.69-4.75h-2.1l2.47 6.31L48.16 24h2l1.98-5.4 2.02 5.4h2.11l-2.73-6.97 2.44-6.13h-1.97z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"zen-icon--inline",use:"zen-icon--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="zen-icon--inline"><path fill="#2C3036" fill-rule="evenodd" d="M16.7 16.7c-2.2 2.27-2.36 5.1-2.55 11.3 5.78 0 9.77-.02 11.83-2.02 2-2.06 2.02-6.24 2.02-11.83-6.2.2-9.03.35-11.3 2.55M0 14.15c0 5.59.02 9.77 2.02 11.83 2.06 2 6.05 2.02 11.83 2.02-.2-6.2-.35-9.03-2.55-11.3-2.27-2.2-5.1-2.36-11.3-2.55M13.85 0C8.08 0 4.08.02 2.02 2.02.02 4.08 0 8.26 0 13.85c6.2-.2 9.03-.35 11.3-2.55 2.2-2.27 2.36-5.1 2.55-11.3m2.85 11.3C14.5 9.03 14.34 6.2 14.15 0c5.78 0 9.77.02 11.83 2.02 2 2.06 2.02 6.24 2.02 11.83-6.2-.2-9.03-.35-11.3-2.55" clip-rule="evenodd" /><path fill="url(#zen-icon--inline_paint0_linear)" fill-rule="evenodd" d="M16.7 16.7c-2.2 2.27-2.36 5.1-2.55 11.3 5.78 0 9.77-.02 11.83-2.02 2-2.06 2.02-6.24 2.02-11.83-6.2.2-9.03.35-11.3 2.55M0 14.15c0 5.59.02 9.77 2.02 11.83 2.06 2 6.05 2.02 11.83 2.02-.2-6.2-.35-9.03-2.55-11.3-2.27-2.2-5.1-2.36-11.3-2.55M13.85 0C8.08 0 4.08.02 2.02 2.02.02 4.08 0 8.26 0 13.85c6.2-.2 9.03-.35 11.3-2.55 2.2-2.27 2.36-5.1 2.55-11.3m2.85 11.3C14.5 9.03 14.34 6.2 14.15 0c5.78 0 9.77.02 11.83 2.02 2 2.06 2.02 6.24 2.02 11.83-6.2-.2-9.03-.35-11.3-2.55" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M28 14.15v-.3c-6.2-.2-9.03-.35-11.3-2.55-2.2-2.27-2.36-5.1-2.55-11.3h-.3c-.2 6.2-.35 9.03-2.55 11.3-2.27 2.2-5.1 2.36-11.3 2.55v.3c6.2.2 9.03.35 11.3 2.55 2.2 2.27 2.36 5.1 2.55 11.3h.3c.2-6.2.35-9.03 2.55-11.3 2.27-2.2 5.1-2.36 11.3-2.55" clip-rule="evenodd" /><defs><linearGradient id="zen-icon--inline_paint0_linear" x1="28" x2="28" y1="28" y2="0" gradientUnits="userSpaceOnUse"><stop stop-color="#fff" stop-opacity=".01" /><stop offset=".48" stop-color="#fff" stop-opacity=".01" /><stop offset=".76" stop-color="#fff" stop-opacity=".04" /><stop offset="1" stop-color="#fff" stop-opacity=".1" /><stop offset="1" stop-color="#fff" stop-opacity=".1" /></linearGradient></defs></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"zen-ru--inline",use:"zen-ru--inline-usage",viewBox:"0 0 38 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 28" id="zen-ru--inline"><path d="M8.21 21.93h-5.8c.7-.85 1.12-2.7 1.35-5.48.21-2.68.34-6.27.42-10.97h4.03v16.45zm1.56 4.16h1.01v-4.16H9.51V4.41h-6.5c-.08 5.17-.16 9.28-.42 12.04-.26 2.65-.7 4.73-1.6 5.48H.43v4.16h1.01L1.63 23H9.6l.18 3.1zm5.14-2.83c2 0 3.67-1.4 3.67-3.95 0-1.43-.7-2.7-2.34-3.3a3.29 3.29 0 001.95-3.15c0-1.92-1.1-3.22-3.15-3.22-1.4 0-2.37.62-2.94 1.37l.31 1.17a3.19 3.19 0 012.63-1.48c1.27 0 1.98.86 1.98 2.19 0 1.79-1.07 2.7-2.58 2.7h-.96v.99h1.1c1.94 0 2.75 1.12 2.75 2.75 0 1.9-1.1 2.86-2.45 2.86-1.79 0-2.67-1.4-2.67-1.4l-.42 1.01s1.01 1.46 3.12 1.46zm6.36-6.6h5.93c.41-4.66-1.04-7.02-3.3-7.02-2.21 0-3.83 2.52-3.83 6.8 0 4.3 1.28 6.82 4.06 6.82 2.08 0 3.07-1.48 3.07-1.48l-.4-.99s-.9 1.4-2.64 1.4c-1.9 0-2.84-1.95-2.89-5.53zm2.63-6.01c1.32 0 2.36 1.56 2.15 5.04H21.3c.1-3.27 1.22-5.04 2.6-5.04zM35.2 23h1.23V9.9H35.2v5.8h-4.47V9.9h-1.22V23h1.22v-6.32h4.47V23z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"zen-en--inline",use:"zen-en--inline-usage",viewBox:"0 0 27 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 28" id="zen-en--inline"><path d="M7.87 24v-1.07H1.66L7.87 6.37v-.96H.67v1.07h5.85L.31 23.04V24h7.56zm2.37-6.34h5.93c.42-4.66-1.04-7.02-3.3-7.02-2.21 0-3.82 2.52-3.82 6.8 0 4.3 1.27 6.82 4.05 6.82 2.08 0 3.07-1.48 3.07-1.48l-.39-.99s-.91 1.4-2.65 1.4c-1.9 0-2.84-1.95-2.89-5.53zm2.63-6.01c1.32 0 2.36 1.56 2.16 5.04h-4.76c.1-3.27 1.22-5.04 2.6-5.04zm9.77.03c1.2 0 1.77.72 1.77 2.28V24h1.22V13.8c0-2.07-1.01-3.16-2.75-3.16-1.77 0-2.81 1.45-3.18 2.41h-.05l-.05-2.15h-1.12V24h1.22v-9.57c.65-1.66 1.64-2.75 2.94-2.75z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBaseUrl=t.UrlActionType=void 0;let n;t.UrlActionType=n,(n||(t.UrlActionType=n={})).setBaseUrl="URL_SET_BASE_URL",t.setBaseUrl=(e=>({type:n.setBaseUrl,payload:e}))},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupElementSide=t.PopupElementPosition=void 0;let n;t.PopupElementPosition=n,function(e){e.bottom="bottom",e.center="center",e.left="left",e.right="right",e.top="top"}(n||(t.PopupElementPosition=n={}));let a;t.PopupElementSide=a,function(e){e.bottom="bottom",e.left="left",e.right="right",e.top="top"}(a||(t.PopupElementSide=a={}))},,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatPixelEvent=void 0;let n;t.StatPixelEvent=n,function(e){e.enter="enter",e.slide="slide",e.link="link",e.complete="complete"}(n||(t.StatPixelEvent=n={}))},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexDirectEmbed",{enumerable:!0,get:function(){return n.YandexDirectEmbed}});var n=i(650)},function(e,t,i){"use strict";function n(e){var t,i;const n=()=>window.Ya.Context.AdvManager.render(e);(null===(t=window.Ya)||void 0===t?void 0:null===(i=t.Context)||void 0===i?void 0:i.AdvManager)?n():(window[l]=window[l]||[],window[l].push(n),(0,o.appendScript)(c,d))}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.initAd=n,t.initBanner=function(e,t){const{blockId:i,statId:a,data:o,uuid:l,gaid:c,idfa:d,themeTags:h}=e;let f=void 0;if(o)try{f=JSON.parse(o)}catch(e){}const g=f?{data:f,isDataRefreshed:!0}:{async:!0,cspNonce:r.default.yaNonce};let b="",_="";h&&(_=function(e){return window?window.btoa(unescape(encodeURIComponent(e))):""}('{"grab_version": 3}\n'+h.map(e=>e.title).join(", "))),l&&(b+=`uuid=${l}`);const v=c||d;v&&(b+=`&mobile-ifa=${v}`);const y=s.rumManager.getTime();n({blockId:i,renderTo:t,horizontalAlign:!1,pageNumber:u++,extParams:b,statId:a,..._&&{grab:_},...g,onRender({product:e}){p||(p=!0,function(e){switch(e){case m.direct:s.rumManager.directFirstRendered();break;case m.rtb:s.rumManager.rtbFirstRendered()}}(e));const i=s.rumManager.getTime();y&&i&&function(e,t){switch(e){case m.direct:s.rumManager.directRenderTime(t);break;case m.rtb:s.rumManager.rtbRenderTime(t)}}(e,i-y);const n=document.querySelector(`#${t} iframe, #${t} > yatag`);if((n&&n.offsetWidth||0)>800){const e=document.querySelector(`#${t}`),i=e&&e.parentNode;i&&i.classList.add("article-block_wide")}}})};var o=i(54),r=a(i(10)),s=i(91);const l="yandexContextAsyncCallbacks",c="https://an.yandex.ru/system/context.js",d="zen-direct";let u=1,p=!1;var m;!function(e){e.direct="direct",e.rtb="rtb"}(m||(m={}))},,,,,,,function(e,t,i){},,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicationsStatus=function({publications:e}){const t=new Map([[n.CampaignPublicationStatus.awaitingModeration,0],[n.CampaignPublicationStatus.deleted,0],[n.CampaignPublicationStatus.draft,0],[n.CampaignPublicationStatus.isExpired,0],[n.CampaignPublicationStatus.moderatinCancelled,0],[n.CampaignPublicationStatus.noSwipeToSite,0]]);return e.forEach(({status:e,isExpired:i})=>{i&&a(t,n.CampaignPublicationStatus.isExpired),e&&a(t,e)}),t},t.hasCampaignStarted=function(e){return Boolean(e&&e!==n.CampaignStatus.scheduled)};var n=i(74);const a=(e,t)=>{const i=e.get(t);void 0!==i&&e.set(t,i+1)}},,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGeoBase=void 0;var n=i(19),a=i(13);const o=`/${n.MEDIA_API}/geobase/list`;t.fetchGeoBase=(()=>(0,a.loadData)(o))},,,,,,,,function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"icon--inline",use:"icon--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="icon--inline"><path fill-rule="evenodd" d="M7.8 4.2c-1.4-.7-3 .4-2.8 2l.1 1.9-.4-.1c-1.3-.3-2.2 1.3-1.5 2.6l2 3.4-2 3.3c-.7 1.3.2 2.9 1.5 2.6l.4-.1-.1 1.9c-.2 1.6 1.4 2.7 2.8 2l16-7.9c1.5-.7 1.5-3 0-3.7l-16-7.9zm-.6 4.3l11.1 2.4L7.1 6c-.1 0-.2 0-.1.1l.2 2.4zm0 10.9L18.3 17 7.1 21.9c-.1 0-.2 0-.1-.1l.2-2.4zm-2.1-1.6c-.1 0 0 .1.1.1L23.5 14c.1 0 .1-.1 0-.1L5.2 10c-.1 0-.2.1-.1.1l2.2 3.8v.1l-2.2 3.8z" /></symbol>'});r.a.add(s),t.default=s},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SnackBar",{enumerable:!0,get:function(){return n.SnackBar}});var n=i(1149)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.TripleDotMenuIcon=function(){return(0,a.default)("svg",{className:"zen-icon",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"4",viewBox:"0 0 18 4"},void 0,o)};var a=n(i(2));n(i(0)),i(485);var o=(0,a.default)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zenUserData=void 0;const n=(0,i(115).createDummyReducer)({});t.zenUserData=n},,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnmount=void 0;var n=i(0);t.useUnmount=(e=>{const t=(0,n.useRef)(e);t.current=e,(0,n.useEffect)(()=>t.current,[])})},function(e,t,i){"use strict";function n(e,t){return{type:U.setForecast,payload:{type:e,data:t}}}function a(e){const{geoTargeting:t,deviceTargeting:i,sexTargeting:n,ageTargeting:a}=e;return[...t.map(e=>["regionId",String(e)]),...u(i).map(e=>["os",e]),...u(n).map(e=>["gender",e]),...d(a).map(e=>["age",e])]}function o(e){const{maxCoverage:t,dateShow:i,...o}=e,r=i.toTs-i.fromTs,s=a(o);return(e,i)=>(0,T.fetchCoverageForecast)({publisherId:i().campaignFlight.publisherId,duration:r,targetingParamsArray:s,maxCoverage:t}).then(({forecast:t,graph:i})=>{e(n(D.CampaignFlightFormDataTab.coverage,{graph:i,shows:t.shows,minReads:t.minViewsTillEnd,maxReads:t.maxViewsTillEnd}))}).catch(console.error)}function r(e){return{type:U.show,payload:{publisherId:e}}}function s(e){return{type:U.preparing,payload:e}}function l(e){return(t,i)=>{const{geoTargeting:n,config:{adVideoCampaignsEnabled:a}}=i();t(s(!0));const r=n.data?Promise.resolve(n.data.geoBase):t((0,P.loadGeoTargeting)()),l=t(f(e)),c=t(g(e));return Promise.all([l,c,r]).then(([e,i,n])=>{const r=h(e),s={...r,[D.CampaignFlightFields.geoTargeting]:[n.id],...i};return t(m(s)),Promise.all([t(x(r)),t(o(r)),...a?[t(B(r)),t(F(r))]:[]])}).then(()=>{t(s(!1))}).catch(e=>{t((0,R.errorNotification)(e))})}}function c(){return(e,t)=>{const{geoTargeting:i,config:{adVideoCampaignsEnabled:n}}=t();e(s(!0)),e(b(void 0));const a=i.data?Promise.resolve(i.data.geoBase):e((0,P.loadGeoTargeting)()),r=e(f());return Promise.all([r,a]).then(([t,i])=>{const a={...h(t),[D.CampaignFlightFields.geoTargeting]:[i.id],...(0,A.getStorageFormValues)()||{}};return e(m(a)),Promise.all([e(x(a)),e(o(a)),...n?[e(B(a)),e(F(a))]:[]])}).then(()=>{e(s(!1))}).catch(t=>{e((0,R.errorNotification)(t))})}}function d({min:e,max:t}){const i={},n=Object.values(L.AgeTargeting),a=[L.AgeTargeting["0-17"]].concat(n);let o=A.AGE_VALUES.findIndex(t=>t===e),r=A.AGE_VALUES.findIndex(e=>e===t);for(;o<=r;)i[n[o]]=!0,i[a[r]]=!0,o+=1,r-=1;return Object.keys(i).sort()}function u(e){return Object.keys(e).filter(t=>e[t])}function p(e){return{type:U.setSettings,payload:e}}function m(e){return{type:U.setValues,payload:e}}function h(e){const{defaults:{showCost:t,maxUsers:i,fullReadCost:n,videoFullViewCost:a,videoS2sCost:o},limits:{defaultFullReadFlightMoneyDailyLimit:r,defaultFullReadFlightMoneyLimit:s}}=e,l=1e3*t,c=(0,A.makeInitialFormValues)(),d=(0,A.calcMaxBudget)(i,l),u=(0,S.default)((0,y.default)(c[D.CampaignFlightFields.dateShow].fromTs,e.defaults.showDuration)).getTime();return{...c,[D.CampaignFlightFields.readingCost]:n,[D.CampaignFlightFields.videoFullViewCost]:a,[D.CampaignFlightFields.videoS2sCost]:o,[D.CampaignFlightFields.maxCoverage]:i,[D.CampaignFlightFields.maxBudget]:d,[D.CampaignFlightFields.maxMoney]:s,[D.CampaignFlightFields.maxDailyMoney]:r,[D.CampaignFlightFields.dateShow]:{...c[D.CampaignFlightFields.dateShow],toTs:u}}}function f(e){return(t,i)=>{const{publisherId:n}=i().campaignFlight;return(0,T.fetchCampaignFlightConfig)({publisherId:n,flightId:e}).then(e=>(t(p(e)),e)).catch(e=>(t((0,R.errorNotification)(e)),Promise.reject(e)))}}function g(e){return(t,i)=>(0,I.fetchCampaigns)({flightId:e,publisherId:i().campaignFlight.publisherId}).then(({campaigns:e})=>{const[i]=e;return t(b(i.status)),function(e){const t=e=>e.reduce((e,t)=>Object.assign(e,{[t]:!0}),{}),{type:i,id:n,title:a,startTime:o,endTime:r,strategy:{ageTargeting:s,geoTargeting:l,osTargeting:c,genderTargeting:d,fullReadCost:u,maxUsers:p,cpm:m,maxMoney:h,maxDailyMoney:f}}=e,g=i===O.CampaignType.fullRead,b={[D.CampaignFlightFields.campaignId]:n,[D.CampaignFlightFields.campaignName]:a,[D.CampaignFlightFields.maxMoney]:h,[D.CampaignFlightFields.withLimitedMoney]:Boolean(h),[D.CampaignFlightFields.maxDailyMoney]:f,[D.CampaignFlightFields.withLimitedDailyMoney]:Boolean(f),[D.CampaignFlightFields.tab]:g?D.CampaignFlightFormDataTab.involvement:D.CampaignFlightFormDataTab.coverage,[D.CampaignFlightFields.ageTargeting]:function(e){const t=s.sort(),i={[L.AgeSegment.from0To17]:L.Age.age18,[L.AgeSegment.from18To24]:L.Age.age25,[L.AgeSegment.from25To34]:L.Age.age35,[L.AgeSegment.from35To44]:L.Age.age45,[L.AgeSegment.from45To54]:L.Age.age55,[L.AgeSegment.from55To99]:L.Age.age99};return{min:{[L.AgeSegment.from0To17]:L.Age.age0,[L.AgeSegment.from18To24]:L.Age.age18,[L.AgeSegment.from25To34]:L.Age.age25,[L.AgeSegment.from35To44]:L.Age.age35,[L.AgeSegment.from45To54]:L.Age.age45,[L.AgeSegment.from55To99]:L.Age.age55}[t[0]],max:i[t[t.length-1]]}}(),[D.CampaignFlightFields.geoTargeting]:l,[D.CampaignFlightFields.deviceTargeting]:t(c),[D.CampaignFlightFields.sexTargeting]:t(d),[D.CampaignFlightFields.dateFullRead]:g?{fromTs:o,toTs:o}:void 0,[D.CampaignFlightFields.dateShow]:!g&&r?{fromTs:o,toTs:r}:void 0,[D.CampaignFlightFields.readingCost]:g?u:void 0,[D.CampaignFlightFields.maxCoverage]:g?void 0:p,[D.CampaignFlightFields.maxBudget]:g?void 0:(0,A.calcMaxBudget)(p,m)};return Object.keys(b).forEach(e=>{void 0===b[e]&&delete b[e]}),b}(i)}).catch(e=>(t((0,R.errorNotification)(e)),Promise.reject(e)))}function b(e){return{type:U.setStatus,payload:e}}var _=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.saveForecast=n,t.loadCoverageForecast=o,t.showCampaignFlight=r,t.openNewCampaign=function(e){return(t,i)=>((0,C.getCampaignMetrikaCounter)().then(({reachGoal:e})=>e(M.CampaignsMetrikaGoal.openNewCampaignPopup)),t(r(e||i().campaignFlight.publisherId)),t(c()))},t.openEditCampaign=function(e){return(t,i)=>{const{publisherId:n}=i().campaignFlight;return t(r(n)),t(l(e))}},t.prepareEditCampaign=l,t.prepareNewCampaign=c,t.createFlight=function(e){return(t,i)=>{const n=function(e){let t={flightType:w.FlightType.fullRead,fullReadCost:0,maxMoney:0,maxDailyMoney:void 0},i=0,n=void 0;const a={maxMoney:e[D.CampaignFlightFields.withLimitedMoney]?e[D.CampaignFlightFields.maxMoney]:void 0,maxDailyMoney:e[D.CampaignFlightFields.withLimitedDailyMoney]?e[D.CampaignFlightFields.maxDailyMoney]:void 0};switch(e.tab){case D.CampaignFlightFormDataTab.involvement:t={...a,flightType:w.FlightType.fullRead,fullReadCost:e[D.CampaignFlightFields.readingCost]},i=e[D.CampaignFlightFields.dateFullRead].fromTs;break;case D.CampaignFlightFormDataTab.videoS2S:t={...a,flightType:w.FlightType.videoS2S,videoS2sCost:e[D.CampaignFlightFields.videoS2sCost]},i=e[D.CampaignFlightFields.dateFullRead].fromTs;break;case D.CampaignFlightFormDataTab.videoFullview:t={...a,flightType:w.FlightType.videoFullView,videoFullViewCost:e[D.CampaignFlightFields.videoFullViewCost]},i=e[D.CampaignFlightFields.dateShow].fromTs,n=e[D.CampaignFlightFields.dateShow].toTs;break;default:t={flightType:w.FlightType.show,maxUsers:e[D.CampaignFlightFields.maxCoverage]},i=e[D.CampaignFlightFields.dateShow].fromTs,n=e[D.CampaignFlightFields.dateShow].toTs}return{id:e[D.CampaignFlightFields.campaignId],ageTargeting:d(e[D.CampaignFlightFields.ageTargeting]),geoTargeting:e[D.CampaignFlightFields.geoTargeting],osTargeting:u(e[D.CampaignFlightFields.deviceTargeting]),genderTargeting:u(e[D.CampaignFlightFields.sexTargeting]),title:e[D.CampaignFlightFields.campaignName],params:t,startDate:i,endDate:n}}(e),a=Boolean(n.id),{campaignFlight:{status:o,values:{dateShow:{fromTs:r}}}}=i();return a&&e.tab===D.CampaignFlightFormDataTab.coverage&&(0,E.hasCampaignStarted)(o)&&(n.startDate=r),t(s(!0)),(0,T.createOrUpdateCampaign)(n,i().campaignFlight.publisherId).then(e=>((0,C.getCampaignMetrikaCounter)().then(({reachGoal:e})=>e(a?M.CampaignsMetrikaGoal.updateCampaign:M.CampaignsMetrikaGoal.createCampaign)),(0,v.batch)(()=>{t({type:U.campaignCreatedOrModified,payload:{campaign:e}}),t(H())}),i().campaignFlight.publisherId)).catch(e=>(t(s(!1)),t((0,R.errorNotification)(e)),Promise.reject(e)))}},t.saveSettings=p,t.setFormValuesFromSettings=h,t.fetchFlightSettings=f,t.fetchCampaign=g,t.setStatusAction=b,t.createFlightAdv=t.hideCampaignFlight=t.loadVideoFullViewForecast=t.loadVideoS2SForecast=t.loadFullReadForecast=t.downloadFullReadMediaplan=t.loadForecasts=t.CampaignFlightActionTypes=void 0;var v=i(18),y=_(i(155)),S=_(i(86)),I=i(126),T=i(712),P=i(635),E=i(566),C=i(66),A=i(96),k=i(7),O=i(74),L=i(125),w=i(29),D=i(70),R=i(71),M=i(474),N=i(317);let U;t.CampaignFlightActionTypes=U,function(e){e.campaignCreatedOrModified="CREATE_OR_UPDATE_CAMPAIGN",e.show="CAMPAIGN_FLIGHT_SHOW",e.hide="CAMPAIGN_FLIGHT_HIDE",e.preparing="CAMPAIGN_FLIGHT_PREPARING",e.setForecast="CAMPAIGN_FLIGHT_SET_FORECAST",e.setSettings="CAMPAIGN_FLIGHT_SET_SETTINGS",e.setValues="CAMPAIGN_FLIGHT_SET_VALUES",e.setStatus="CAMPAIGN_FLIGHT_SET_STATUS"}(U||(t.CampaignFlightActionTypes=U={})),t.loadForecasts=(e=>{switch(e[D.CampaignFlightFields.tab]){case D.CampaignFlightFormDataTab.involvement:return x(e);case D.CampaignFlightFormDataTab.coverage:return o(e);case D.CampaignFlightFormDataTab.videoFullview:return F(e);case D.CampaignFlightFormDataTab.videoS2S:return B(e);default:return o(e)}}),t.downloadFullReadMediaplan=(({readingCost:e,forecastDurationKey:t,...i})=>(n,o)=>{const r=a(i),s=N.forecastDurationMap[t];(0,T.fetchFullReadMediaplan)({publisherId:o().campaignFlight.publisherId,targetingParamsArray:r,readingCost:e,duration:s})});const x=e=>{const{readingCost:t,forecastDurationKey:i,...o}=e,r=a(o),s=N.forecastDurationMap[i];return(e,i)=>(0,T.fetchFullReadForecast)({publisherId:i().campaignFlight.publisherId,targetingParamsArray:r,readingCost:t,duration:s}).then(t=>{e(n(D.CampaignFlightFormDataTab.involvement,t))}).catch(console.error)};t.loadFullReadForecast=x;const B=e=>{const{readingCost:t,forecastDurationKey:i,...o}=e,r=a(o),s=N.forecastDurationMap[i];return(e,i)=>(0,T.fetchVideoS2SForecast)({publisherId:i().campaignFlight.publisherId,targetingParamsArray:r,readingCost:t,duration:s}).then(t=>{e(n(D.CampaignFlightFormDataTab.videoS2S,t))}).catch(console.error)};t.loadVideoS2SForecast=B;const F=e=>{const{readingCost:t,forecastDurationKey:i,...o}=e,r=a(o),s=N.forecastDurationMap[i];return(e,i)=>(0,T.fetchVideoFullViewForecast)({publisherId:i().campaignFlight.publisherId,targetingParamsArray:r,readingCost:t,duration:s}).then(t=>{e(n(D.CampaignFlightFormDataTab.videoFullview,t))}).catch(console.error)};t.loadVideoFullViewForecast=F;const H=()=>e=>{(0,A.deleteStorageFormValues)(),e({type:U.hide})};t.hideCampaignFlight=H,t.createFlightAdv=(e=>async t=>{try{return(0,A.setStorageFormValues)(e),location.assign((0,k.toLoginCampaigns)()),t(s(!0)),""}catch(e){return""}})},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ContextMenuDivider",{enumerable:!0,get:function(){return a.ContextMenuDivider}}),Object.defineProperty(t,"ContextMenuItem",{enumerable:!0,get:function(){return a.ContextMenuItem}}),Object.defineProperty(t,"ContextMenuItemFacade",{enumerable:!0,get:function(){return a.ContextMenuItemFacade}}),Object.defineProperty(t,"ContextMenuItemIcon",{enumerable:!0,get:function(){return a.ContextMenuItemIcon}}),Object.defineProperty(t,"ContextMenuItemBulletIcon",{enumerable:!0,get:function(){return a.ContextMenuItemBulletIcon}}),Object.defineProperty(t,"ContextMenuItemContent",{enumerable:!0,get:function(){return a.ContextMenuItemContent}}),Object.defineProperty(t,"ContextMenu",{enumerable:!0,get:function(){return a.ContextMenu}}),Object.defineProperty(t,"ContextMenuPopup",{enumerable:!0,get:function(){return a.ContextMenuPopup}}),Object.defineProperty(t,"createContextMenuItem",{enumerable:!0,get:function(){return a.createContextMenuItem}}),Object.defineProperty(t,"createContextMenuItemContent",{enumerable:!0,get:function(){return a.createContextMenuItemContent}}),Object.defineProperty(t,"createContextMenuItemIcon",{enumerable:!0,get:function(){return a.createContextMenuItemIcon}}),t.ContextMenuItemLink=t.RouterLinkContextMenuItem=t.ButtonContextMenuItem=t.SafeLinkContextMenuItem=void 0;var a=i(175),o=n(i(107)),r=i(486);const s=(0,a.createContextMenuItem)(o.default);t.SafeLinkContextMenuItem=s;const l=(0,a.createContextMenuItem)("button");t.ButtonContextMenuItem=l;const c=(0,a.createContextMenuItem)(r.Link);t.RouterLinkContextMenuItem=c;const d=(0,a.createContextMenuItem)("a");t.ContextMenuItemLink=d},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersectionObserver=void 0;var n=i(143),a=i(0);t.useIntersectionObserver=(({observableElement:e,onIntersect:t,onOutOfArea:i,rootMargin:o="0px 0px 0px 0px",root:r,shouldDisconnectOnIntersecting:s})=>{(0,a.useEffect)(()=>{if(!e)return;const a=(0,n.initIntersectionObserver)(([e])=>{e.isIntersecting&&t?(t(),s&&e.isIntersecting&&a.then(e=>e.disconnect())):i&&i()},{rootMargin:o,root:r});return a.then(t=>t.observe(e)),()=>{a.then(e=>e.disconnect())}},[e,i,t,r,o,s])})},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadGeoTargeting=function(){return e=>(e({type:a.geoTargetingLoading}),(0,n.fetchGeoBase)().then(t=>(e({type:a.geoTargetingLoaded,payload:t}),t.geoBase)).catch(t=>{throw e({type:a.geoTargetingLoadFailed}),t}))},t.GeoTargetingActionTypes=void 0;var n=i(582);let a;t.GeoTargetingActionTypes=a,function(e){e.geoTargetingLoaded="GEO_TARGETING_LOADED",e.geoTargetingLoading="GEO_TARGETING_LOADING",e.geoTargetingLoadFailed="GEO_TARGETING_LOAD_FAILED"}(a||(t.GeoTargetingActionTypes=a={}))},,,function(e,t,i){"use strict";function n({type:e,itemId:t,publicationId:i,publisherItemId:n}){const a=window&&window._zenOmittedQueryParams&&(window._zenOmittedQueryParams.headerLogin||window._zenOmittedQueryParams.socialLoginPopup);a&&(0,r.sendStatEvent)({event:"auth_login",item_type:"interface_element",item_id:function(e){const t=e.split("_")[1];if(t){const e=(0,m.getLocalStorage)().get(`${f.socialLoginPopupStorageKey}_${t}`);if(e)return e.itemId}switch(e){case"sign_up":return r.InterfaceElementToBulkItemIdMap.signUpHeader;case"sign_in":return r.InterfaceElementToBulkItemIdMap.signInHeader;case h.MittensSide.bottom:return r.InterfaceElementToBulkItemIdMap.smallLoginPopupBottom;case h.MittensSide.left:case h.MittensSide.right:return r.InterfaceElementToBulkItemIdMap.smallLoginPopupSidebar;default:return"0"}}(a),parent_id:t,parent_type:(0,p.getStatContentType)(e),place:function(e){switch(e){case h.MittensSide.bottom:case h.MittensSide.left:case h.MittensSide.right:default:return["subscribe","like"].includes(e.split("_")[0])?"login_popup":"publisher_header"}}(a),page_type:function(e){switch(a){case h.MittensSide.bottom:return"publisher_platform_footer";case h.MittensSide.left:case h.MittensSide.right:return"publisher_platform_sidebar";default:return}}(),source_id:n,source_type:"publisher",publication_oid:i})}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.initTotalArticleStat=function({articleElement:e,pixels:t,publication:i,link:a,clid:o,flightId:p,getStatCsrfToken:m,rid:h,contentEndingSelector:f,pageType:g,disableActivityTracking:b,parentItemId:_,parentType:v,viewStatEndTriggerShift:y,fullReadDelay:S,secdata:I,pixelsWhiteList:T,shouldUseGroupIdsInCommonStats:P,onFullRead:E}){const C=new u.StatPixelLog(t,T);(0,c.setTokenProviderGetter)(m),(0,c.sendStoredEvents)(),(0,r.sendStoredBulkEvents)(),e&&C.addPixelLinksListeners(e),b||(0,d.trackActivity)(i,m,{onActivity:C.handleArticleActivity,flightId:p,rid:h,pageType:g,contentEndingSelector:f,parentItemId:_,parentType:v,viewStatEndTriggerShift:y,fullReadDelay:S,...o?{clid:o}:{},...a?{link:a}:{},secdata:I,shouldUseGroupIdsInCommonStats:P,onFullRead:E}),(0,l.fireOnLoadInMobileOrNow)(()=>{C.sendEnter();const{content:{type:e},itemId:t,publisherItemId:a,id:o}=i;n({type:e,itemId:t,publisherItemId:a,publicationId:o})}),(0,s.default)({item_id:i.itemId,source_id:i.publisherItemId,source_type:"publisher",page_type:g,parent_id:_,parent_type:v,publication_oid:i.id,flight_id:p,rid:h},e,i.embeddedTags)},t.initTotalPostStat=function({publication:e,getStatCsrfToken:t}){(0,c.setTokenProviderGetter)(t),(0,c.sendStoredEvents)(),(0,r.sendStoredBulkEvents)(),(0,l.fireOnLoadInMobileOrNow)(()=>{const{content:{type:t},itemId:i,publisherItemId:a,id:o}=e;n({type:t,itemId:i,publicationId:o,publisherItemId:a})}),(0,s.default)({item_id:e.itemId,source_id:e.publisherItemId,source_type:"publisher",publication_oid:e.id})},t.initTotalVideoStat=function({link:e,publication:t,clid:i,getStatCsrfToken:a,shouldUseGroupIdsInCommonStats:s}){(0,c.setTokenProviderGetter)(a),(0,c.sendStoredEvents)(),(0,r.sendStoredBulkEvents)(),(0,l.fireOnLoadInMobileOrNow)(()=>{const{content:{type:e},itemId:i,publisherItemId:a,id:o}=t;n({type:e,itemId:i,publisherItemId:a,publicationId:o})}),(0,d.trackActivity)(t,a,{rid:(0,o.getRid)(),fullReadDelay:0,...i?{clid:i}:{},...e?{link:e}:{},shouldUseGroupIdsInCommonStats:s})},t.initTotalNarrativeStat=function(e){(0,l.fireOnLoadInMobileOrNow)(()=>{const{content:{type:t},itemId:i,publisherItemId:a,id:o}=e;n({type:t,itemId:i,publisherItemId:a,publicationId:o})}),(0,r.sendStoredBulkEvents)()},t.initTotalGalleryStat=function(e){(0,l.fireOnLoadInMobileOrNow)(()=>{const{content:{type:t},itemId:i,publisherItemId:a,id:o}=e;n({type:t,itemId:i,publisherItemId:a,publicationId:o})}),(0,s.default)({item_id:e.itemId,source_id:e.publisherItemId,source_type:"publisher",publication_oid:e.id}),(0,r.sendStoredBulkEvents)()};var o=i(40),r=i(35),s=a(i(731)),l=i(54),c=i(260),d=i(496),u=i(464),p=i(47),m=i(50),h=i(328),f=i(183)},function(e,t,i){},function(e,t,i){},function(e){e.exports=JSON.parse('{"tailSize":"11px","contentPadding":"25px","overlap":"45px","contentMinHeight":"45px"}')},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FormComplaintLazy",{enumerable:!0,get:function(){return n.FormComplaintLazy}});var n=i(997)},,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Gestures=void 0;var a=n(i(11));i(792);const o=2;class r{constructor(e){(0,a.default)(this,"startDragOnPointerDown",!1),(0,a.default)(this,"startPositionX",0),(0,a.default)(this,"startPositionY",0),(0,a.default)(this,"currentPositionX",0),(0,a.default)(this,"currentPositionY",0),(0,a.default)(this,"velocityX",0),(0,a.default)(this,"velocityY",0),(0,a.default)(this,"timestamp",0),(0,a.default)(this,"onClick",e=>{(Math.abs(this.getDeltaX())>o||Math.abs(this.getDeltaY())>o)&&(e.stopPropagation(),e.preventDefault())}),(0,a.default)(this,"onPointerDown",e=>{this.dragInProgress=!0,this.timestamp=Date.now(),this.initPositions(0,0),!this.disableCapture&&this.startDragOnPointerDown&&this.el.setPointerCapture(e.pointerId)}),(0,a.default)(this,"onPointerMove",e=>{if(!this.dragInProgress)return;const t=Date.now();this.firstDragEvent?(this.disableCapture||this.startDragOnPointerDown||this.el.setPointerCapture(e.pointerId),this.initPositions(e.pageX,e.pageY),this.firstDragEvent=!1,this.onDragStart&&this.onDragStart(this.getGestureEvent(e))):(this.currentPositionX=e.pageX,this.currentPositionY=e.pageY),this.velocityX=Math.abs(this.getDeltaX()/(t-this.timestamp))||0,this.velocityY=Math.abs(this.getDeltaY()/(t-this.timestamp))||0,this.onDrag(this.getGestureEvent(e))}),(0,a.default)(this,"onPointerUp",e=>{this.dragInProgress&&(this.firstDragEvent||this.onDragEnd(this.getGestureEvent(e)),this.dragInProgress=!1,this.firstDragEvent=!0)});const{el:t,onDragStart:i,onDrag:n,onDragEnd:r,allowPanY:s,disableCapture:l,startDragOnPointerDown:c}=e;this.el=t,this.onDragStart=i,this.onDrag=n,this.onDragEnd=r,this.disableCapture=l,this.startDragOnPointerDown=Boolean(c),this.el&&(this.el.setAttribute("touch-action",s?"pan-y":"none"),this.el.addEventListener("pointerdown",this.onPointerDown),this.el.addEventListener("pointermove",this.onPointerMove),this.el.addEventListener("pointerup",this.onPointerUp),this.el.addEventListener("pointercancel",this.onPointerUp),this.el.addEventListener("click",this.onClick,{capture:!0})),this.dragInProgress=!1,this.firstDragEvent=!0}initPositions(e,t){this.startPositionX=e,this.currentPositionX=e,this.startPositionY=t,this.currentPositionY=t}getDeltaX(){return this.currentPositionX-this.startPositionX}getDeltaY(){return this.currentPositionY-this.startPositionY}getGestureEvent(e){return{startX:this.startPositionX,startY:this.startPositionY,deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),velocityX:this.velocityX,velocityY:this.velocityY,originalEvent:e}}}t.Gestures=r;var s=r;t.default=s},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexDirectEmbed=void 0;var a=n(i(2)),o=(n(i(0)),i(551)),r=n(i(10)),s=i(651),l=i(91);i(652),t.YandexDirectEmbed=class extends s.BaseAdComponent{getBlockKey(){const{blockKey:e="",data:{isAdArticle:t}}=this.props;return`c${e}${t?"-ad-article":""}`}load(){if(this.ready)return;const{blockId:e,statId:t,data:i,themeTags:n,disabled:a}=this.props.data;if(a)return void(this.ready=!0);const{uuid:s,gaid:c,idfa:d}=r.default.zenUserData||{},u={blockId:e,statId:t,data:i,uuid:s,gaid:c,idfa:d,themeTags:n};(0,o.initBanner)(u,this.getBlockKey()),this.ready=!0,l.rumManager.yandexDirectShow()}render(){const{style:e={},data:{disabled:t}}=this.props;return t&&(e.display="none"),(0,a.default)("div",{className:"yandex-direct-embed yandex-adaptive",id:this.getBlockKey(),style:e})}}},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAdComponent=void 0;var a=n(i(0)),o=i(54);t.BaseAdComponent=class extends a.default.Component{shouldComponentUpdate(){return!1}componentDidMount(){(0,o.fireOnLoadInMobileOrNow)(this.load.bind(this))}load(){}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdfoxEmbed",{enumerable:!0,get:function(){return n.AdfoxEmbed}});var n=i(655)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.AdfoxEmbed=void 0;var o=a(i(2)),r=a(i(11)),s=n(i(0)),l=i(102);i(657);var c=(0,o.default)(s.Fragment,{});t.AdfoxEmbed=class extends l.BaseEmbed{constructor(...e){super(...e),(0,r.default)(this,"type","adfox")}getPostfix(){return this.props.data.isAdArticle?"_ad-article":""}getElementId(){return`${super.getElementId()}${this.getPostfix()}`}getHtml(){const{displayErrors:e=!1,ownerId:t,params:i,disabled:n}=this.props.data;if(n)return"";const a=this.getPostfix(),o=`adfox_${t}${a}`,r=`adfox-wrapper${a}`;return`\n            <script src='https://yastatic.net/pcode/adfox/loader.js' crossorigin='anonymous'><\/script>\n            <style>\n                #error {\n                    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",  "Helvetica Neue", sans-serif;\n                    color: red;\n                    font-size: 13px;\n                }\n\n                #error-message {\n                    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",  "Helvetica Neue", sans-serif;\n                    color: red;\n                    font-size: 13px;\n                }\n\n                .${r} {\n                    text-align: center;\n                }\n\n                .adfox {\n                    text-align: left;\n                    display: inline-block;\n                }\n            </style>\n            <div class='${r}'>\n                <div id='${o}' class='adfox'></div>\n            </div>\n            <div id='error'></div>\n            <div id='error-message'></div>\n            <script>\n                var adfoxWrapper = document.querySelector('.${r}');\n                var data = JSON.parse(decodeURIComponent(window.name));\n                var iFrameId = data.id;\n\n                window.Ya.adfoxCode.create({\n                    ownerId: ${t},\n                    containerId: '${o}',\n                    params: {\n                        dl: document.referrer,\n                        ${i}\n                    },\n                    onError: function(err) {\n                        if (!${e.toString()}) {\n                            return;\n                        }\n\n                        var errEl = document.getElementById('error'),\n                            errMessageEl = document.getElementById('error-message'),\n                            type = err.type,\n                            message = err.message,\n                            err;\n\n                        if (type === 'processBundleParams') {\n                            err = 'Указаны неверные параметры в коде вставки, баннер не будет показан.';\n                        } else if (type === 'adfoxBackend') {\n                            err = 'Cервер ADFOX вернул ошибку, баннер не будет показан.';\n                        } else if (type === 'userScriptError') {\n                            err = 'Код баннера содержит синтаксическую ошибку, возможность показа баннера зависит от ошибки.'\n                        }\n\n                        errEl.textContent = err;\n                        errMessageEl.textContent = 'Текст ошибки: "' + message + '".';\n                    },\n                    onLoad: function(data) {\n                        window.parent.postMessage({\n                            id: iFrameId,\n                            type: 'check-ad-content',\n                            adContent: {data: (data || {}).bundleParams},\n                        }, '*');\n                    },\n                    onRender: function() {\n                        var lastHeight = adfoxWrapper.offsetHeight;\n\n                        if (lastHeight > 30) {\n                            window.$sf.setIframeHeight(lastHeight);\n                        }\n\n                        checkHeightInterval = setInterval(function() {\n                            var currentHeight = adfoxWrapper.offsetHeight;\n\n                            if (lastHeight !== currentHeight) {\n                                lastHeight = currentHeight;\n                                window.$sf.setIframeHeight(lastHeight);\n                            }\n\n                            if (currentHeight >= 100) {\n                                clearInterval(checkHeightInterval);\n                            }\n                        }, 100);\n\n                        if (typeof window !== 'undefined' && window.Ya && window.Ya.Rum) {\n                            window.Ya.Rum.sendTimeMark('AdfoxShow');\n                        }\n                    },\n                    onStub: function() {\n                        console.log('################adfox onStub');\n                    }\n                });\n            <\/script>\n        `}render(){return this.props.data.disabled?c:super.render()}componentDidMount(){this.props.data.disabled||super.componentDidMount()}}},,function(e,t,i){},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderEl=t.getRenderBl=t.getArticleImageEl=t.getArticleImageBl=t.getArticleEl=t.getArticleBl=void 0;var n=i(9);const{bl:a,el:o}=(0,n.createBlock)("article"),{bl:r,el:s}=(0,n.createBlock)("article-mobile");t.getArticleBl=(e=>e?r:a),t.getArticleEl=(e=>e?s:o);const{bl:l,el:c}=(0,n.createBlock)("article-image"),{bl:d,el:u}=(0,n.createBlock)("article-image-mobile");t.getArticleImageBl=(e=>e?d:l),t.getArticleImageEl=(e=>e?u:c);const{bl:p,el:m}=(0,n.createBlock)("article-render"),{bl:h,el:f}=(0,n.createBlock)("article-render-mobile");t.getRenderBl=(e=>e?h:p),t.getRenderEl=(e=>e?f:m)},,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},,,,,,,,,,,function(e,t,i){},,,function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,function(e,t,i){"use strict";function n(){return(e,t)=>{const{clients:{selectedInterval:i,startDate:n,endDate:p}}=t();return e({type:u.clientsLoading}),(0,r.loadClientsStatistics)(n,p,i).then(({total:t,publishers:i,images:n,responseStatus:p,showsConversions:m})=>{p===r.ClientsStatisticsResponseStatus.chUnavailable&&e((0,o.addNotification)(d.NotificationErrorType.error,(0,c.lang)('d57006f1'))),(0,l.addImagesToDict)(n);const h={total:t,publishers:i};return e({type:u.clientsLoaded,payload:{clientsStats:h,showsConversions:m}}),(0,s.fetchAccessPublishers)().then(({publishers:t})=>{e(a(t))}).catch(t=>{e((0,o.addNotification)(d.NotificationErrorType.error,(0,c.lang)('d57006f1'))),e({type:u.clientsLoadFailed})}),h}).catch(t=>{e((0,o.addNotification)(d.NotificationErrorType.error,(0,c.lang)('d57006f1'))),e({type:u.clientsLoadFailed})})}}function a(e){return{type:u.clientsAccessLoaded,payload:{publishersAccess:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadClients=n,t.changeSelectedInterval=function(e){return t=>(t({type:u.clientsIntervalChanged,payload:{selectedInterval:e}}),t(n()))},t.changeRange=function(e,t){return i=>(i({type:u.clientsRangeChanged,payload:{startDate:e,endDate:t}}),i(n()))},t.changeWithGone=function(e){return t=>{t({type:u.clientsWithGoneChanged,payload:{withGone:e}})}},t.changeFilterByName=function(e){return t=>{t({type:u.clientsFilterByNameChanged,payload:{filterByName:e}})}},t.addPublishersAccess=a,t.ClientsActionType=void 0;var o=i(48),r=i(502),s=i(455),l=i(23),c=i(8),d=i(56);let u;t.ClientsActionType=u,function(e){e.clientsLoaded="CLIENTS_LOADED",e.clientsLoading="CLIENTS_LOADING",e.clientsLoadFailed="CLIENTS_LOAD_FAILED",e.clientsAccessLoaded="CLIENTS_ACCESS_LOADED",e.clientsIntervalChanged="CLIENTS_INTERVAL_CHANGED",e.clientsRangeChanged="CLIENTS_RANGE_CHANGED",e.clientsWithGoneChanged="CLIENTS_WITH_GONE_CHANGED",e.clientsFilterByNameChanged="CLIENTS_FILTER_BY_NAME_CHANGED"}(u||(t.ClientsActionType=u={}))},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.language=function(e=n){return e};const n="ru"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrUpdateCampaign=function(e,t){const i=e.id?l:c;return(0,a.postData)((0,o.formatPath)(i,{},{publisherId:t}),e)},t.fetchCoverageForecast=function({publisherId:e,maxCoverage:t,duration:i,targetingParamsArray:n}){const r=`${(0,o.formatPath)(p,{},{shows:parseInt(String(t)),duration:i,publisherId:e})}&${(0,o.queryListToUrl)(n)}`;return(0,a.loadData)(r)},t.fetchVideoS2SForecast=t.fetchVideoFullViewForecast=t.fetchFullReadForecast=t.fetchFullReadMediaplan=t.fetchCampaignFlightConfig=void 0;var n=i(19),a=i(13),o=i(7),r=i(317),s=i(64);const l=`/${n.EDITOR_API_V2}/flights/campaigns/update`,c=`/${n.EDITOR_API_V2}/flights/campaigns/new`,d=`/${n.EDITOR_API_V2}/flights/campaigns/limits`,u=`/${n.EDITOR_API_V2}/campaigns/forecast/flights/campaigns/forecast/full-read-v2`,p=`/${n.EDITOR_API_V2}/campaigns/forecast/flights/campaigns/forecast/show`,m=`/${n.EDITOR_API_V2}/campaigns/forecast/flights/campaigns/forecast/full-read-v2/mediaplan-xls`,h=`/${n.EDITOR_API_V2}/campaigns/forecast/flights/campaigns/forecast/video-s2s`,f=`/${n.EDITOR_API_V2}/campaigns/forecast/flights/campaigns/forecast/video-full-view`;t.fetchCampaignFlightConfig=(e=>(0,a.loadData)((0,o.formatPath)(d,{},{...e})));const g=(e,{publisherId:t,readingCost:i,targetingParamsArray:n,duration:a})=>{const r=parseFloat(String(i));return`${(0,o.formatPath)(e,{},{bid:r,publisherId:t,duration:a})}&${(0,o.queryListToUrl)(n)}`};t.fetchFullReadMediaplan=(e=>{const t=g(m,e);(0,a.loadData)(t,{blob:!0}).then(t=>(0,s.downloadBlob)([t],"application/vnd.ms-excel",(e=>{let t,i="custom";for(t in r.forecastDurationMap)if(r.forecastDurationMap[t]===e){i=t;break}return`forecast_${i}.xls`})(e.duration)))}),t.fetchFullReadForecast=(e=>{const t=g(u,e);return(0,a.loadData)(t)}),t.fetchVideoFullViewForecast=(({publisherId:e,readingCost:t,targetingParamsArray:i,duration:n})=>{const r=`${(0,o.formatPath)(f,{},{bid:parseFloat(String(t)),publisherId:e,duration:n})}&${(0,o.queryListToUrl)(i)}`;return(0,a.loadData)(r)}),t.fetchVideoS2SForecast=(({publisherId:e,readingCost:t,targetingParamsArray:i,duration:n})=>{const r=`${(0,o.formatPath)(h,{},{bid:parseFloat(String(t)),publisherId:e,duration:n})}&${(0,o.queryListToUrl)(i)}`;return(0,a.loadData)(r)})},,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.header=function(e=o){return e},t.initialState=void 0;var n=i(29);let a=n.EditorPage.publications;if("undefined"!=typeof window){const{location:{pathname:e}}=window;a=e.includes("money")?n.EditorPage.money:e.includes("karma")?n.EditorPage.karma:e.includes("publications-stat")?n.EditorPage.publicationsStat:e.includes("campaigns")?n.EditorPage.campaigns:e.includes("widget")?n.EditorPage.widget:e.includes("clients")?n.EditorPage.clients:n.EditorPage.publications}const o={currentPage:a};t.initialState=o},,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Access=function({children:e}){const t=(0,o.useAccess)();return a.default.createElement(a.default.Fragment,null,e(t))};var a=n(i(0)),o=i(313)},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=a,t){switch(t.type){case n.CommentsActionTypes.initSocialsState:{const{totalLikesCount:i=e.totalLikesCount,totalCommentsCount:n=e.totalCommentsCount,otherUsersAvatars:a,isLikedByUser:o,hasOnlyUnauthorizedLikes:r,userAvatarUrl:s,socialsDataLoaded:l,otherTopLikers:c,currentUser:d}=t.payload;return{...e,totalLikesCount:i,totalCommentsCount:n,otherUsersAvatars:a,isLikedByUser:o,hasOnlyUnauthorizedLikes:r,userAvatarUrl:s,socialsDataLoaded:l,otherTopLikers:c,currentUser:d}}case n.CommentsActionTypes.setTotalLikesCount:return{...e,totalLikesCount:t.payload.totalLikesCount};case n.CommentsActionTypes.setTotalCommentsCount:return{...e,totalCommentsCount:t.payload.totalCommentsCount};case n.CommentsActionTypes.setUsersAvatars:return{...e,otherUsersAvatars:t.payload.otherUsersAvatars};case n.CommentsActionTypes.updateLikesCount:{const{totalLikesCount:i,isLikedByUser:n}=t.payload;return{...e,totalLikesCount:i,isLikedByUser:n}}case n.CommentsActionTypes.loadPublicationSocialsData:{const{totalCommentsCount:i,totalLikesCount:n,isLikedByUser:a,currentUser:o,otherUsersAvatars:r,otherTopLikers:s}=t.payload;return{...e,totalCommentsCount:null!==i&&void 0!==i?i:e.totalCommentsCount,totalLikesCount:null!==n&&void 0!==n?n:e.totalLikesCount,isLikedByUser:null!==a&&void 0!==a?a:e.isLikedByUser,socialsDataLoaded:!0,otherUsersAvatars:null!==r&&void 0!==r?r:e.otherUsersAvatars,otherTopLikers:null!==s&&void 0!==s?s:e.otherTopLikers,currentUser:null!==o&&void 0!==o?o:e.currentUser,userAvatarUrl:o?o.avatar.avatarUrl:e.userAvatarUrl}}case n.CommentsActionTypes.updateUserAvatar:{const{user:i}=t.payload;return{...e,userAvatarUrl:i.avatar.avatarUrl}}default:return e}};var n=i(234);const a={totalLikesCount:0,totalCommentsCount:0,otherUsersAvatars:[],otherTopLikers:[],currentUser:{avatar:{avatarUrl:""},uid:0,name:""},hasOnlyUnauthorizedLikes:!1,socialsDataLoaded:!1,isLikedByUser:!1,userAvatarUrl:""}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.social=void 0;var n=i(127);const a={loginPopupData:null,isCommentsBlockRevealed:!1};t.social=((e=a,t)=>{switch(t.type){case n.SocialActionTypes.openLoginPopup:return{...e,loginPopupData:t.payload};case n.SocialActionTypes.closeLoginPopup:return{...e,loginPopupData:null};case n.SocialActionTypes.revealComments:return{...e,isCommentsBlockRevealed:!0};default:return e}})},function(e,t,i){"use strict";i(863),i(864),i(865),i(866),"undefined"!=typeof window&&(window&&window.Ya&&window.Ya.Rum&&window.Ya.Rum.sendTimeMark("3036"),-1!==window.location.search.indexOf("rumdebug")&&i.e(89).then(i.t.bind(null,1233,7)))},function(e,t,i){"use strict";function n(e,t,i){e instanceof HTMLAnchorElement&&(0,r.sendStatEvent)({...t,event:"source_show",item_type:"tag",item_id:(0,l.findTagId)((0,o.fromThematicFeedUrl)(e.href),i),page_type:"publishers_platform"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){const d=(t||document).querySelector("[itemprop=articleBody]");d&&(d.addEventListener("click",function(e,t){return function(i){if(!(i.target instanceof HTMLElement))return;const n=i.target;if(n.dataset.customLog||n.closest('[data-custom-log="true"]'))return;if(n.closest("#content-ending"))return;let a=n;for(;a&&a.parentNode;){if(a instanceof HTMLAnchorElement){const{href:n}=a;if((0,o.isExternalURL)(n)){i.preventDefault();const{serviceAction:t}=a.dataset;Promise.race([(0,s.wait)(c.MAX_REDIRECT_WAIT_TIME),(0,r.sendStatEvent)({...e,event:"action",link:n,place:"layout",service_action:t||void 0})]).catch(console.error).then(()=>{window.open(n,"_blank")})}else(0,o.isThematicFeedUrl)(n)&&t&&(0,r.sendStatEvent)({...e,event:"source_click",item_type:"tag",item_id:(0,l.findTagId)((0,o.fromThematicFeedUrl)(n),t),page_type:"publishers_platform"});i.stopPropagation();break}a=a.parentNode instanceof HTMLElement?a.parentNode:null}}}(e,i)),i&&async function(e,t,i){const o=await(0,a.initIntersectionObserver)((0,a.makeHandleIntersection)(n,[t,i]),{rootMargin:"0% 0%",threshold:1});[...e.querySelectorAll(".hashtag")].forEach(e=>{o.observe(e)})}(d,e,i)),(0,o.isExternalURL)(document.referrer||"")&&(0,r.sendStatEvent)({...e,event:"external_click",link:document.referrer})};var a=i(143),o=i(7),r=i(35),s=i(20);i(732);var l=i(733),c=i(336)},function(e,t,i){"use strict";!function(e){function t(e){return null!==e&&1===e.nodeType}e&&("function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let i=0;for(;t[i]&&t[i]!==this;)++i;return Boolean(t[i])}),"function"!=typeof e.closest&&(e.closest=function(e){let i=this;for(;t(i);){if(i.matches(e))return i;i=i.parentNode}return null}))}("undefined"!=typeof Element?Element.prototype:null)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findTagId=function(e,t){const i=t.find(t=>t.title===e);return i?i.tagId.toString():""}},,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleStatHOC",{enumerable:!0,get:function(){return n.ArticleStatHOC}});var n=i(841)},function(e,t,i){},,,,,,function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"tg--inline",use:"tg--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="tg--inline"><path d="M24.94 6.665l-3.338 15.218c-.13.543-.36.894-.687 1.053-.294.128-.67.064-1.128-.191l-5.055-3.637-2.454 2.297c-.164.16-.294.271-.393.335-.163.096-.376.143-.637.143l.392-5.025 9.373-8.279c.131-.096.164-.175.099-.24-.033-.095-.131-.127-.295-.095a.895.895 0 00-.441.144l-11.582 7.13-5.006-1.531c-.556-.16-.818-.399-.785-.718.032-.319.376-.606 1.03-.861l19.483-7.323c.491-.16.884-.095 1.178.192.295.255.377.718.246 1.388z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"fb--inline",use:"fb--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="fb--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 25v-9.46H7v-4.176h3.5V8.422C10.5 5.596 11.808 3 15.985 3c1.691 0 2.948.163 2.948.163V7.01h-2.712c-1.171 0-1.627.9-1.627 1.991v2.364H19l-.564 4.176h-3.842V25H10.5z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"ok--inline",use:"ok--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="ok--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.956 15.133c-3.32-.011-6.042-2.76-6.023-6.08A6.08 6.08 0 0114.028 3c3.36.01 6.055 2.753 6.039 6.145-.018 3.314-2.758 6-6.111 5.988zm3.016-6.071a2.957 2.957 0 00-2.968-2.963 2.961 2.961 0 00-2.975 2.999 2.957 2.957 0 002.99 2.94 2.95 2.95 0 002.953-2.976zM8.02 18.179c.977.77 2.07 1.221 3.257 1.488l-2.7 2.725c-.275.276-.472.584-.491.988-.029.596.338 1.19.915 1.471.543.266 1.1.182 1.567-.283a203.4 203.4 0 003.097-3.134c.255-.265.394-.322.683-.018.667.704 1.352 1.39 2.038 2.077.334.335.668.67 1 1.007.264.268.562.46.944.486.602.042 1.216-.347 1.49-.938.252-.54.157-1.116-.3-1.581-.85-.867-1.705-1.73-2.56-2.593l-.239-.241c.496-.107 1.006-.235 1.357-.372.965-.377 1.833-.918 2.555-1.665.47-.487.475-1.099.093-1.726-.334-.55-.915-.78-1.538-.62-.32.084-.597.247-.855.447-2.61 1.77-6.183 1.72-8.783-.081a2.824 2.824 0 00-.4-.239c-.722-.343-1.415-.183-1.829.414-.483.698-.422 1.375.19 1.966.125.123.265.231.404.34l.105.082z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"tw--inline",use:"tw--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="tw--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.526 8.705a4.33 4.33 0 001.894-2.39 8.616 8.616 0 01-2.736 1.048A4.298 4.298 0 0018.539 6a4.313 4.313 0 00-4.308 4.318c0 .338.038.668.111.984-3.58-.18-6.755-1.9-8.88-4.512a4.305 4.305 0 00-.583 2.171c0 1.498.76 2.82 1.916 3.594a4.284 4.284 0 01-1.951-.54v.054A4.318 4.318 0 008.3 16.303a4.309 4.309 0 01-1.946.074 4.314 4.314 0 004.025 2.999A8.632 8.632 0 014 21.164C5.907 22.389 8.171 23 10.604 23c7.925 0 12.259-6.476 12.259-12.181 0-.188-.005-.374-.013-.56A8.763 8.763 0 0025 8.026a8.598 8.598 0 01-2.474.68z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"vk--inline",use:"vk--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="vk--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M23.23 16.416c1.502 1.631 2.492 2.96 2.556 3.068.795 1.352-.88 1.455-.88 1.455l-3.204.048s-.69.14-1.596-.5c-1.202-.836-2.33-3.023-3.214-2.743-.89.291-.864 2.263-.864 2.263s.005.345-.195.57c-.222.238-.654.216-.654.216h-1.438s-3.167.27-5.954-2.698c-3.04-3.238-5.722-9.62-5.722-9.62s-.153-.405.01-.61c.19-.226.706-.236.706-.236l3.43-.016s.322.059.554.231c.19.14.3.41.3.41s.553 1.438 1.286 2.73c1.433 2.532 2.102 3.087 2.587 2.818.711-.399.495-3.577.495-3.577s.016-1.158-.358-1.675c-.285-.393-.822-.512-1.064-.544-.195-.027.126-.485.537-.69.616-.307 1.707-.328 2.993-.312 1 .01 1.29.075 1.68.172 1.186.291.785 1.417.785 4.12 0 .868-.152 2.085.459 2.49.263.172.906.026 2.508-2.764.764-1.325 1.333-2.876 1.333-2.876s.126-.28.321-.399c.2-.118.47-.08.47-.08l3.608-.028s1.08-.129 1.26.372c.184.523-.406 1.75-1.881 3.76-2.424 3.296-2.355 3.013-.853 4.645z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"link--inline",use:"link--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="link--inline"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M12.536 5.464a5 5 0 10-7.072 7.072L6.88 13.95a5.001 5.001 0 005.362 1.12l-1.66-1.66a2.993 2.993 0 01-2.288-.874L6.879 11.12A3 3 0 1111.12 6.88l1.415 1.414c.628.628.92 1.466.874 2.288l1.66 1.66a5.001 5.001 0 00-1.12-5.362l-1.414-1.415zM15.464 22.535a5 5 0 107.071-7.07l-1.414-1.415a5.001 5.001 0 00-5.362-1.12l1.66 1.66a2.993 2.993 0 012.288.874l1.414 1.415a3 3 0 11-4.242 4.242l-1.415-1.414a2.992 2.992 0 01-.874-2.288l-1.66-1.66a5.001 5.001 0 001.12 5.362l1.414 1.415z" /><path d="M18.707 17.293l-8-8-1.414 1.414 8 8 1.414-1.414z" /></g></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"vb--inline",use:"vb--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="vb--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.203 3.943c.997.39 1.768.824 2.312 1.303.997.869 1.707 2.201 2.13 3.998.423 1.947.468 4.298.136 7.053-.272 2.186-1.103 3.848-2.493 4.986-.756.6-1.737 1.048-2.946 1.348l-.272.045c-.453.15-1.178.284-2.175.404-1.572.21-3.143.255-4.714.135-.634.689-1.088 1.183-1.36 1.482l-.362.405c-.333.359-.574.599-.725.718a.985.985 0 01-.862.135.686.686 0 01-.407-.36 2.366 2.366 0 01-.136-.493v-2.606c-1.662-.45-2.946-1.318-3.853-2.605-.665-1.019-1.103-2.306-1.314-3.864-.151-.898-.197-2.096-.136-3.593.03-1.588.211-2.935.544-4.043.362-1.228.936-2.231 1.722-3.01.695-.63 1.601-1.138 2.72-1.527.876-.3 1.873-.525 2.99-.674.786-.12 1.587-.18 2.403-.18h.997c2.236.03 4.17.344 5.801.943zm-3.54 8.406c.21 0 .315-.104.315-.31-.06-1.296-.737-1.974-2.03-2.033-.18 0-.285.103-.315.31 0 .176.09.264.27.264.933.06 1.429.56 1.489 1.503 0 .177.09.266.27.266zm.36-2.21c.602.648.887 1.443.857 2.386 0 .207.09.31.27.31.211 0 .317-.089.317-.265.03-1.12-.316-2.063-1.038-2.83-.691-.766-1.668-1.193-2.931-1.281-.18 0-.286.103-.316.31 0 .176.09.264.27.264 1.113.089 1.97.457 2.571 1.106zm2.661 3.27c.21 0 .316-.088.316-.265 0-1.886-.586-3.389-1.759-4.508C17.128 7.546 15.715 7 14.001 7c-.21 0-.315.103-.315.31 0 .176.105.265.316.265 1.533 0 2.796.471 3.788 1.414 1.082 1.032 1.624 2.417 1.624 4.155 0 .177.09.265.27.265zm-1.172 5.217c.36-.266.691-.649.992-1.15.21-.412.15-.766-.18-1.06-.542-.502-1.233-.973-2.075-1.415a.8.8 0 00-.677-.133.746.746 0 00-.496.265l-.45.53a.61.61 0 01-.407.222l-.225.044a4.744 4.744 0 01-1.85-.928 4.679 4.679 0 01-1.172-1.238 5.604 5.604 0 01-.586-1.105l-.18-.486v-.221a.592.592 0 01.225-.398l.54-.398c.151-.118.242-.28.271-.486a.98.98 0 00-.09-.707c-.24-.413-.466-.767-.676-1.061l-.812-.973c-.3-.324-.662-.383-1.082-.177-.512.295-.918.62-1.218.973-.33.471-.436.913-.316 1.326l.27.575c.211.56.527 1.208.948 1.945.42.707.872 1.37 1.353 1.989a11.18 11.18 0 001.894 1.856c.692.53 1.534 1.061 2.526 1.592.902.471 1.609.78 2.12.928.42.147.872.044 1.353-.31z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LazyComponent",{enumerable:!0,get:function(){return n.LazyComponent}});var n=i(1153)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SocialLoginPopupContainerLazy",{enumerable:!0,get:function(){return n.SocialLoginPopupContainerLazy}});var n=i(868)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CloseCrossProps",{enumerable:!0,get:function(){return n.CloseCrossProps}}),Object.defineProperty(t,"CloseCross",{enumerable:!0,get:function(){return n.CloseCross}});var n=i(1110)},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePublication",{enumerable:!0,get:function(){return n.removePublication}});var n=i(907)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Popup",{enumerable:!0,get:function(){return n.Popup}});var n=i(1132)},,function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},,,function(e,t,i){},,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"back-arrow--inline",use:"back-arrow--inline-usage",viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="back-arrow--inline"><path d="M2 14l8-8 1 1-3.86 6H24v2H7.14L11 21l-1 1-8-8z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"magnifier-redesign-icon--inline",use:"magnifier-redesign-icon--inline-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="magnifier-redesign-icon--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 18a9 9 0 117.255-3.673L19.5 18.5l-1 1-4.173-3.245A8.96 8.96 0 019 18zm0-2A7 7 0 109 2a7 7 0 000 14z" fill="#000" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"play--inline",use:"play--inline-usage",viewBox:"0 0 25 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 25 30" id="play--inline"><g filter="url(#play--inline_filter0_d)"><path fill="#fff" d="M23 14L2 26.12V1.88L23 14z" /></g><defs><filter id="play--inline_filter0_d" width="25" height="28.25" x="0" y=".88" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></symbol>'});r.a.add(s),t.default=s},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"star--inline",use:"star--inline-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="star--inline"><path d="M16 8.27v-.54c-2.81-.19-4.44-.6-5.8-1.93C8.87 4.44 8.46 2.81 8.27 0h-.54c-.19 2.81-.6 4.44-1.93 5.8C4.44 7.13 2.81 7.54 0 7.73v.54c2.81.19 4.44.6 5.8 1.93 1.33 1.36 1.74 2.99 1.93 5.8h.54c.19-2.81.6-4.44 1.93-5.8 1.36-1.33 2.99-1.74 5.8-1.93z" /></symbol>'});r.a.add(s),t.default=s},,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleAdLabel=void 0;var o=a(i(2)),r=n(i(0)),s=i(107),l=i(22),c=i(8),d=i(9),u=i(254),p=i(336);i(838);const{bl:m}=(0,d.createBlock)("article-ad-label"),h=(0,r.memo)(({isPartner:e})=>{const{adArticleLabel:t={}}=(0,u.useExperiments)(),i=e?l.PATHS.ADV_FROM_PUB_LABEL:l.PATHS.SUPPORT_NATIVE_ADS,n=e?p.adArticlePartnerLabel.href:t.href,a=e?p.adArticlePartnerLabel.color:t.color,r=e?p.adArticlePartnerLabel.text:t.text;return(0,o.default)(s.SafeLink,{className:m(),target:"_blank",href:n||i,style:{color:a}},void 0,r||(0,c.lang)('e26da378'))});t.ArticleAdLabel=h},function(e,t,i){},,,function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleStatHOC=function({children:e,publicationId:t}){const[i,n]=(0,a.useState)(),c=(0,o.useDispatch)(),d=(0,a.useCallback)(e=>c((0,r.loadStatistic)(e)),[c]);return(0,l.useMounted)(()=>{(0,s.fireOnLoadInMobileOrNow)(()=>{d(t).then(e=>{n(e)})})}),a.default.createElement(a.default.Fragment,null,e({statistic:i}))};var a=n(i(0)),o=i(18),r=i(194),s=i(54),l=i(79)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.images=function(e=a,t){switch(t.type){case n.ImagesActionTypes.addImages:return{...e,...t.images};default:return e}};var n=i(110);const a={}},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(){}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.OwnPublicationControls=void 0;var o=a(i(2)),r=a(i(0)),s=a(i(68)),l=i(631),c=i(465),d=i(9),u=i(8),p=i(7),m=i(32),h=i(27),f=i(309),g=i(46);i(992),i(994);const{bl:b,el:_}=(0,d.createBlock)("own-publication-controls");var v=(0,o.default)(l.ContextMenuDivider,{},0),y=(0,o.default)(l.ContextMenuItemIcon,{},void 0,(0,o.default)("div",{className:"icon_type_bin"})),S=(0,o.default)(l.ContextMenuItemIcon,{},void 0,(0,o.default)("div",{className:"icon_type_bin"}));t.OwnPublicationControls=(({canEdit:e,isEditDisable:t,onEdit:i,openDropPublication:a,openDropUnsavedChanges:d,hasUnpublishedChanges:I,publication:T,mod:P=g.ButtonViewType.blue,textColor:E})=>{if(!e||t)return null;const C={type:T.content.type,white:P===g.ButtonViewType.white},A=T.content.type===h.PublicationContentType.narrative?(0,u.lang)('08c47ddb'):(0,u.lang)('3b2d07db');return(0,o.default)("div",{className:b(C)},void 0,(0,o.default)("div",{className:_("controls",C)},void 0,(0,o.default)(c.MoreButton,{size:m.Sizes.m,white:E===f.PostTextColor.white,buttonClass:_("more-button")},void 0,(0,o.default)(l.SafeLinkContextMenuItem,{onClick:n,href:(0,p.toStatsUrl)(T)},void 0,(0,o.default)(l.ContextMenuItemIcon,{},void 0,(0,o.default)("div",{className:_("statistic-icon")})),(0,o.default)(l.ContextMenuItemContent,{className:_("more-button__item__text"),text:(0,u.lang)('e22901a9')})),e&&v,e&&r.default.createElement(r.default.Fragment,null,I&&(0,o.default)(l.ContextMenuItem,{onClick:d,disabled:!e},1,y,(0,o.default)(l.ContextMenuItemContent,{className:_("remove"),text:(0,u.lang)('ad7d9707')})),(0,o.default)(l.ContextMenuItem,{onClick:a,disabled:!e},2,S,(0,o.default)(l.ContextMenuItemContent,{className:_("remove"),text:(0,u.lang)('9e3da05d')})))),(0,o.default)(s.default,{disabled:!e,viewType:P,size:m.Sizes.m,onClick:i,className:_("edit-btn")},void 0,(0,u.lang)('63cf00c3'))),I&&(0,o.default)("span",{className:_("status",{type:T.content.type})},void 0,A))})},,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NetworkShare",{enumerable:!0,get:function(){return n.NetworkShare}});var n=i(1152)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SocialLoginPopupContainerLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(63).then(i.t.bind(null,1301,7)),loading:()=>null,render:({SocialLoginPopupContainer:e},t)=>a.default.createElement(e,t)});t.SocialLoginPopupContainerLazy=o},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBooleanState=void 0;var n=i(0);t.useBooleanState=(e=>{const[t,i]=(0,n.useState)(e);return[t,(0,n.useCallback)(()=>i(!0),[]),(0,n.useCallback)(()=>i(!1),[]),(0,n.useCallback)(e=>i(t=>(e&&e(!t),!t)),[])]})},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(i(1044))},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWidget=void 0;var n=i(75),a=i(10),o=i(54),r=i(39),s=i(22);const l=(0,a.getLocalWindow)(),c="YaMarketAffiliateLoad";t.createWidget=((e,{widgetType:t=n.YandexMarketWidgetType.MODELS,metrikaReachGoal:i,fallback:a,search:d,rotate:u,lazyLoad:p,...m})=>new Promise((n,h)=>{(0,o.appendScript)(r.yandexMarketWidgetUrl||s.MARKET_SCRIPT_DEFAULT_URL,"script-yandex-market-widget",{type:"text/javascript",onerror:e=>{h(e)}});const f={containerId:e,type:t,fallback:a,rotate:u,metrikaReachGoal:i,lazyLoad:p,params:{...m,...d}};l.YaMarketAffiliate&&n(l.YaMarketAffiliate.createWidget(f));const g=()=>{window.removeEventListener(c,g),n(l.YaMarketAffiliate.createWidget(f))};window.addEventListener(c,g)}))},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConfirmAlert",{enumerable:!0,get:function(){return n.ConfirmAlert}});var n=i(1141)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleAdLabel",{enumerable:!0,get:function(){return n.ArticleAdLabel}});var n=i(837)},,function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.campaignFlight=function(e=o,t){switch(t.type){case a.CampaignFlightActionTypes.hide:return{...e,isOpen:!1};case a.CampaignFlightActionTypes.show:{const{publisherId:i}=t.payload;return{...e,publisherId:i,isOpen:!0}}case a.CampaignFlightActionTypes.setSettings:return{...e,settings:t.payload};case a.CampaignFlightActionTypes.setForecast:return{...e,forecasts:{...e.forecasts,[t.payload.type]:t.payload.data}};case a.CampaignFlightActionTypes.setValues:return{...e,values:t.payload};case a.CampaignFlightActionTypes.preparing:return{...e,isPreparing:t.payload};case a.CampaignFlightActionTypes.setStatus:return{...e,status:t.payload};default:return e}};var n=i(96),a=i(630);const o=(0,n.makeInitialCampaignFlightState)()},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M13.6627 5.53998C13.6627 6.21998 13.5561 6.79331 13.3427 7.25998C13.1294 7.71331 12.8561 8.09998 12.5227 8.41998C12.2027 8.73998 11.8494 9.01331 11.4627 9.23998C11.0894 9.46665 10.7361 9.68665 10.4027 9.89998C10.0827 10.1 9.81607 10.32 9.60273 10.56C9.3894 10.8 9.28273 11.0866 9.28273 11.42V11.82H7.16273V11.44C7.16273 10.84 7.26273 10.3466 7.46273 9.95998C7.66273 9.57331 7.91607 9.24665 8.22273 8.97998C8.5294 8.71331 8.85607 8.47998 9.20273 8.27998C9.5494 8.06665 9.87607 7.84665 10.1827 7.61998C10.4894 7.37998 10.7427 7.10665 10.9427 6.79998C11.1427 6.47998 11.2427 6.06665 11.2427 5.55998C11.2427 5.29331 11.2094 5.03331 11.1427 4.77998C11.0761 4.51331 10.9427 4.27998 10.7427 4.07998C10.5561 3.87998 10.2894 3.71998 9.94273 3.59998C9.59607 3.46665 9.14273 3.39998 8.58273 3.39998C7.90273 3.39998 7.33607 3.47998 6.88273 3.63998C6.4294 3.78665 6.0694 3.94665 5.80273 4.11998V2.19998C6.1094 2.02665 6.51607 1.86665 7.02273 1.71998C7.54273 1.55998 8.1894 1.47998 8.96273 1.47998C9.76273 1.47998 10.4561 1.58665 11.0427 1.79998C11.6294 1.99998 12.1161 2.27998 12.5027 2.63998C12.8894 2.99998 13.1761 3.43331 13.3627 3.93998C13.5627 4.43331 13.6627 4.96665 13.6627 5.53998ZM8.28273 16.12C7.84273 16.12 7.4694 15.9733 7.16273 15.68C6.8694 15.3866 6.72273 15.0266 6.72273 14.6C6.72273 14.1733 6.8694 13.8133 7.16273 13.52C7.4694 13.2133 7.84273 13.06 8.28273 13.06C8.72273 13.06 9.0894 13.2133 9.38273 13.52C9.6894 13.8133 9.84273 14.1733 9.84273 14.6C9.84273 15.0266 9.6894 15.3866 9.38273 15.68C9.0894 15.9733 8.72273 16.12 8.28273 16.12Z' fill='black'/%3E %3C/svg%3E\""},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testDefaultAvatar=void 0,t.testDefaultAvatar=(e=>/https:\/\/avatars.mds.yandex.net\/get-zen_social\/\d+\/[a-z_]+\/orig/.test(e))},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MessengerButtonWrapper=void 0;var o=a(i(2)),r=n(i(0)),s=i(1150),l=i(8),c=i(35);const d=(0,i(10).getLocalWindow)();t.MessengerButtonWrapper=(({messengerGuid:e,isAuthorized:t,nonce:i,size:n,messengerTimeout:a,isMobile:u,publicationItemId:p,publicationId:m,publisherItemId:h,messengerDevUrl:f})=>{const[g,b]=(0,r.useState)(!1),[_,v]=(0,r.useState)(!1),y=()=>{null!==d&&void 0!==d&&d.zenChatWidget||b(!0)};(0,r.useEffect)(()=>{window.setTimeout(()=>{y()},a)},[a]);const S=(0,r.useCallback)(()=>{v(!0),(0,c.sendStatEvent)({event:"messenger_click",item_type:"interface_element",item_id:"7000",parent_id:p,source_type:"publisher",source_id:h,page_type:"publishers_platform",publication_oid:m}),y()},[m,p,h]),I=u?(0,l.lang)('a9d6aca7'):(0,l.lang)('8948c548');return(0,o.default)("div",{onClick:S},void 0,(0,o.default)(s.MessengerButton,{isAuthorized:t,messengerGuid:e,size:n,messengerTimeout:a,buttonText:I,needLoadWidget:g,nonce:i,isClicked:_,messengerDevUrl:f}))})},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='18' height='18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1.644 2.805C1.529 1.528 2.83.61 3.974 1.165l13.099 6.344c1.237.6 1.237 2.383 0 2.982l-13.1 6.345c-1.142.553-2.444-.364-2.33-1.64l.543-6.046c.01-.1.01-.2 0-.3l-.542-6.045zM3.4 3l.315 3.656L2 6.34 3.787 9 2 11.661l1.715-.317L3.4 15 15 10.5V9.254L16.37 9 15 8.746V7.5L3.4 3z' fill='%23000'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1.439 13.775l14.137-2.932L18 9l-2.424-1.843L1.44 4.224C.384 4.006-.388 5.298.207 6.286L1.843 9 .207 11.714c-.595.988.177 2.28 1.232 2.061zM16.37 9L2 11.661 3.786 9 2 6.339 16.37 9z' fill='%23000'/%3E%3C/svg%3E\""},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.publicationUtmConfig=function(e=s){return e};var a=n(i(10));const{publicationUtmLabels:o,resolvedMacroses:r}=a.default.data||{},s={publicationUtmLabels:o,resolvedMacroses:r}},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"plus-m--inline",use:"plus-m--inline-usage",viewBox:"0 0 10 10",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" id="plus-m--inline"><path d="M6 4V0H4v4H0v2h4v4h2V6h4V4H6z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i.n(n),o=i(16),r=i.n(o),s=new a.a({id:"plus-s--inline",use:"plus-s--inline-usage",viewBox:"0 0 8 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8" id="plus-s--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.75.25h-1.5v3h-3v1.5h3v3h1.5v-3h3v-1.5h-3v-3z" /></symbol>'});r.a.add(s),t.default=s},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRefWithUpdate=void 0;var n=i(0);t.useRefWithUpdate=(e=>{const[t,i]=(0,n.useState)(0),a=(0,n.useRef)(e),o=(0,n.useCallback)(e=>{i(t+1),a.current=e},[t]);return{ref:a,setRef:o}})},,,,,,,,,,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.removePublication=function(e){return t=>{const{publication:i,publisher:n,...a}=t,[f,g]=(0,l.useState)(o.NoDrop),b=(0,c.useDispatch)(),_=(0,l.useCallback)(()=>{b((0,d.dropPublication)(i)),(0,m.toPublications)(n)},[b,i,n]),v=(0,l.useCallback)(()=>{b((0,d.dropUnpublishedChanges)(i))},[b,i]),y=(0,l.useMemo)(()=>f===o.DropPublication||f===o.DropUnsavedChanges,[f]),S=(0,l.useMemo)(()=>{const{preview:e}=i.content;return{[o.NoDrop]:"",[o.DropPublication]:e.title?(0,p.lang)('25bb3c3e',[e.title]):(0,p.lang)('d61440b1'),[o.DropUnsavedChanges]:(0,p.lang)('ad7d9707')}[f]},[i.content,f]),I=(0,l.useCallback)(()=>g(o.NoDrop),[]),T=(0,l.useCallback)(()=>g(o.DropPublication),[]),P=(0,l.useCallback)(()=>g(o.DropUnsavedChanges),[]),E=(0,l.useCallback)(()=>{switch(f){case o.DropPublication:return _();case o.DropUnsavedChanges:return v();default:return I()}},[I,_,v,f]);return(0,r.default)(l.default.Fragment,{},void 0,l.default.createElement(e,(0,s.default)({},a,{publisher:n,publication:i,openDropPublication:T,openDropUnsavedChanges:P})),!h.isSSR&&(0,r.default)(u.ConfirmAlert,{isActive:y,onClose:I,onAccept:E,title:S}))}};var o,r=a(i(2)),s=a(i(14)),l=n(i(0)),c=i(18),d=i(93),u=i(879),p=i(8),m=i(156),h=i(10);!function(e){e[e.DropPublication=0]="DropPublication",e[e.DropUnsavedChanges=1]="DropUnsavedChanges",e[e.NoDrop=2]="NoDrop"}(o||(o={}))},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useShallowEqualSelector=function(e){return(0,n.useSelector)(e,n.shallowEqual)};var n=i(18)},function(e,t,i){"use strict";function n(){return Boolean(history&&history.pushState&&history.back)}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({rawContent:e,isMobile:t,store:i,zoomOverlayClass:n}){const a=(0,h.getArticleEl)(Boolean(t)),o=document.querySelector(`.${n||a("zoom-overlay")}`),u=(0,h.getArticleImageEl)(Boolean(t)),p=(0,h.getArticleImageBl)(Boolean(t));e.blocks.forEach(e=>{if(e.type!==l.AtomicBlock.IMAGE)return;const{image:n,images:a,contents:h}=e.data,f=(0,d.getImageData)(n.id);if(f)if(a&&a.length>1){const e=document.getElementById(f.imageName),n=e&&(e.closest(`.${u("gallery")}`)||e.closest(`.${p()}`));if(!n)return;const l=i?(0,r.default)(c.Provider,{store:i},void 0,(0,r.default)(m.CarouselViewerContainer,{images:a,isMobile:!!t,contents:h,zoomOverlay:o})):(0,r.default)(m.CarouselViewer,{images:a,isMobile:!!t,contents:h,zoomOverlay:o});(0,s.render)(l,n)}else if(!t){const e=document.getElementById(f.imageName);e&&o&&new b(e,o,n,t)}})},t.getImageParams=t.ZoomableImage=void 0;var o=a(i(11)),r=a(i(2)),s=(a(i(0)),i(42)),l=i(142),c=i(18),d=i(23),u=i(54),p=i(60),m=i(1293),h=i(660);let f;const g="scale_2400";class b{constructor(e,t,i,a,r=!1){(0,o.default)(this,"zoom",()=>{const{image:e,zoomedEl:t,zoomOverlay:i,zoomed:a,isGallery:o,isMobile:r}=this,s=(0,d.getImageData)(e.id);if(!s)return()=>{};f&&(clearTimeout(f.timer),f.func());const{height:l,width:c,left:u,top:p}=_(s,r),m=t.getBoundingClientRect();this.scrollStart=document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,document.addEventListener("scroll",this.scrollHandler);const g=u-m.left+(o?0:(c-m.width)/2),b=p-m.top+(o?0:(l-m.height)/2),v=o?1:c/m.width,y=(0,h.getArticleEl)(r);o?(i.classList.add(y("zoom-overlay_carousel")),this.doZoomerTransition(t)):i.classList.remove(y("zoom-overlay_carousel")),t.style.transform=`translate(${g}px, ${b}px) scale(${v})`,t.style.zIndex="100",t.style.cursor="zoom-out",i.style.zIndex="100",i.style.transition="opacity 0.2s cubic-bezier(0.42, 0, 0.58, 1)",i.style.opacity="1",i.style.pointerEvents="initial";const S=t.previousElementSibling;S instanceof HTMLElement&&(S.style.backgroundColor="#FCFCFC"),this.zoomed=!a;const{history:I}=window;if(n()){const e=t=>{t.state&&t.state.isZoomedImage||(window.removeEventListener("popstate",e),this.unzoom())};window.addEventListener("popstate",e),I.pushState({isZoomedImage:!0},document.title,location.href)}this.onZoomToggle&&this.onZoomToggle(this.zoomed)}),(0,o.default)(this,"unzoomIfNeeded",()=>{this.zoomed&&this.unzoomByHistory()}),(0,o.default)(this,"unzoom",()=>{const{zoomedEl:e,zoomOverlay:t,zoomed:i,isGallery:n}=this;e.setAttribute("style",`width: ${e.style.width}`),e.style.zIndex="2",t.style.zIndex="2",t.style.transition="opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1)",t.style.opacity="0",t.style.pointerEvents="none";const a=()=>{e.style.zIndex="2",f=!1};f={timer:setTimeout(a,200),func:a},n&&(this.doZoomerTransition(e),e.style.zIndex="2"),document.removeEventListener("scroll",this.scrollHandler),this.zoomed=!i,this.onZoomToggle&&this.onZoomToggle(this.zoomed)}),(0,o.default)(this,"scrollHandler",()=>{const e=document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0;Math.abs(e-this.scrollStart)>80&&this.unzoomByHistory()}),(0,o.default)(this,"swapImageSrc",()=>{const{image:e,zoomedEl:t,isMobile:i}=this,n=(0,d.getImageData)(e.id);if(!n)return;const a=n.meta&&n.meta.origFormat||"",{sizeName:o}=_(n,i),r=(0,d.getAvatarsUrl)(e,o);(0,u.waitImageLoad)(r).then(()=>{const e=t.firstElementChild;if(e instanceof HTMLImageElement&&"GIF"!==a){const i=e.cloneNode();i.src=r,i.srcset="",t.appendChild(i),requestAnimationFrame(()=>{e.parentElement&&e.parentElement.removeChild(e)})}}).catch(()=>{}),this.firstZoom=!1}),(0,o.default)(this,"zoomToggle",()=>{const{zoomed:e}=this;this.firstZoom&&this.swapImageSrc(),e?this.unzoomByHistory():this.zoom()}),this.zoomedEl=e,this.zoomOverlay=t,this.image=i,this.zoomed=!1,this.scrollStart=0,this.firstZoom=!0,this.isMobile=a||!1,this.isGallery=r,e.style.cursor="zoom-in",r||(e.addEventListener("click",this.zoomToggle),t.addEventListener("click",this.unzoomIfNeeded))}doZoomerTransition(e){e.style.transition="none",e.style.opacity="0",setTimeout(()=>{e.style.transition="opacity 0.2s ease",e.style.opacity="1"},20)}unzoomByHistory(){n()&&history.state&&history.state.isZoomedImage?history.back():this.unzoom()}}t.ZoomableImage=b;const _=(e,t)=>{const i=document.documentElement&&document.documentElement.clientHeight||0,n=document.documentElement&&document.documentElement.clientWidth||0,{sizeName:a=g,height:o=0,width:r=0}=v(e,i,n,t);return{sizeName:a,height:o,width:r,left:(n-r)/2,top:(i-o)/2}};t.getImageParams=_;const v=(e,t,i,n)=>{const a=i-150,o=(0,p.get)(e,"sizes.orig"),r=n?0:40;let s,l,c;return o.width/o.height>a/t?(s=(0,d.findClosestBy)("width",a-r,e),c=Math.min(e.sizes[s].width,a-r),l=e.sizes[s].height*c/e.sizes[s].width):(s=(0,d.findClosestBy)("height",t-r,e),l=Math.min(e.sizes[s].height,t-r),c=e.sizes[s].width*l/e.sizes[s].height),{sizeName:s,height:l,width:c}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommentsCount",{enumerable:!0,get:function(){return n.CommentsCount}}),Object.defineProperty(t,"CommentsCounter",{enumerable:!0,get:function(){return a.CommentsCounter}});var n=i(1262),a=i(1263)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ShareList",{enumerable:!0,get:function(){return n.ShareList}}),Object.defineProperty(t,"networkButtonCaptions",{enumerable:!0,get:function(){return n.networkButtonCaptions}});var n=i(1269)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NotificationsPopupContainerLazy",{enumerable:!0,get:function(){return n.NotificationsPopupContainerLazy}});var n=i(984)},,,,,,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsPopupContainerLazy=void 0;var a=n(i(2));n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(56).then(i.t.bind(null,1424,7)),loading:()=>null,render:({NotificationsPopupContainer:e})=>(0,a.default)(e,{})});t.NotificationsPopupContainerLazy=o},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.TelegramShareLargeColor=t.TelegramShareLarge=t.TelegramShareColor=t.TelegramShare=t.WhatsappShareColor=t.WhatsappShare=t.OkShareLargeColor=t.OkShareLarge=t.OkShareColor=t.OkShare=t.CopyLinkShareLarge=t.CopyScaledShare=t.CopyLinkShare=t.CopyShare=t.VkShareLargeColor=t.VkShareLarge=t.VkShareColor=t.VkShare=t.TwitterShareLargeColor=t.TwitterShareLarge=t.TwitterShareColor=t.TwitterShare=t.ViberShareLargeColor=t.ViberShareLarge=t.ViberShareColor=t.ViberShare=t.FacebookShareLargeColor=t.FacebookShareLarge=t.FacebookShareColor=t.FacebookShare=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(165),l=i(9),c=i(7),d=i(301),u=i(988),p=i(989),m=i(379),h=i(31),f=i(32),g=i(287),b=i(22);const _=150,v=300,{bl:y,el:S}=(0,l.createBlock)("share-button");var I=(0,a.default)(s.Spinner,{});class T extends r.default.Component{constructor(e){super(e),(0,o.default)(this,"shareLinkRef",r.default.createRef()),(0,o.default)(this,"handleShareShortLink",e=>{const{url:t}=this.props,{isPending:i}=this.state;i||t&&(e.preventDefault(),this.setState({isPending:!0}),(0,d.getShortPublicationLink)(t).then(e=>{this.setState({urlToShare:e.url},()=>{this.shareLinkRef&&this.shareLinkRef.current&&this.shareLinkRef.current.click(),this.setState({isPending:!1})})}))}),(0,o.default)(this,"handleClick",e=>{const{socialShareShortLink:t}=this.props,{isPending:i}=this.state;this.props.onClick&&!i&&this.props.onClick(e),t&&this.handleShareShortLink(e)}),(0,o.default)(this,"handleCopyLinkClick",e=>{this.props.onClick&&this.props.onClick(e),(0,m.copyToClipboard)(this.props.url||(0,c.getCurrentLocationUrl)()),e.preventDefault()});const{url:t}=e;this.state={isPending:!1,urlToShare:t||""}}getIcon(){return null}getUrl(){return""}render(){const{label:e,size:t="m",isCircle:i=!1,isBig:n=!1,name:o="",className:s,tooltip:l,withOpacity:c}=this.props,{isPending:d}=this.state,u=y({circle:i,name:i&&o,big:!i&&n,"with-opacity":c},s?[s]:[]),p=S("icon",{size:i?"xs":t});return r.default.createElement("a",{className:u,href:this.getUrl(),target:"_blank",onClick:this.handleClick,ref:this.shareLinkRef,"data-tip":!i&&l},(0,a.default)("div",{className:p},void 0,d?I:this.getIcon()),e&&(0,a.default)("span",{className:"share-button_label"},void 0,e))}}(0,o.default)(T,"defaultProps",{title:"",description:"",size:f.Sizes.m});class P extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"fb-w":"fb"})}getUrl(){const{title:e,description:t}=this.props,i=this.state.urlToShare;return(0,c.formatPath)(b.PATHS.SHARE.FB,{},{u:i||(0,c.getCurrentLocationUrl)(),title:e&&(0,h.cropText)(e,_),description:t&&(0,h.cropText)(t,v)})}}t.FacebookShare=P;var E=(0,a.default)(p.ShareIcon,{name:"fb-c"});t.FacebookShareColor=class extends P{getIcon(){return E}},t.FacebookShareLarge=class extends P{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"fb_black",color:e})}},t.FacebookShareLargeColor=class extends P{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"fb_color",color:e})}};class C extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"vb-w":"vb"})}getUrl(){const{title:e}=this.props,t=this.state.urlToShare,i=`${e?(0,h.cropText)(e,_):""} ${t||(0,c.getCurrentLocationUrl)()}`;return(0,c.formatPath)(b.PATHS.SHARE.VB,{},{text:i})}}t.ViberShare=C;var A=(0,a.default)(p.ShareIcon,{name:"vb-c"});t.ViberShareColor=class extends C{getIcon(){return A}},t.ViberShareLarge=class extends C{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"vb_black",color:e})}};var k=(0,a.default)(p.ShareIconLarge,{name:"vb_color"});t.ViberShareLargeColor=class extends C{getIcon(){return k}};class O extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"tw-w":"tw"})}getUrl(){const{title:e}=this.props,t=this.state.urlToShare;return(0,c.formatPath)(b.PATHS.SHARE.TW,{},{url:t||(0,c.getCurrentLocationUrl)(),text:e&&(0,h.cropText)(e,_)})}}t.TwitterShare=O;var L=(0,a.default)(p.ShareIcon,{name:"tw-c"});t.TwitterShareColor=class extends O{getIcon(){return L}},t.TwitterShareLarge=class extends O{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"tw_black",color:e})}};var w=(0,a.default)(p.ShareIconLarge,{name:"tw_color"});t.TwitterShareLargeColor=class extends O{getIcon(){return w}};class D extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"vk-w":"vk"})}getUrl(){const{title:e,image:t}=this.props,i={url:this.state.urlToShare||(0,c.getCurrentLocationUrl)(),title:e&&(0,h.cropText)(e,_)};return t&&(i.image=t.startsWith("//")?`https:${t}`:t),(0,c.formatPath)(b.PATHS.SHARE.VK,{},i)}}t.VkShare=D;var R=(0,a.default)(p.ShareIcon,{name:"vk-c"});t.VkShareColor=class extends D{getIcon(){return R}},t.VkShareLarge=class extends D{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"vk_black",color:e})}},t.VkShareLargeColor=class extends D{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"vk_color",color:e})}};var M=(0,a.default)(u.IconCopy,{});t.CopyShare=class extends T{constructor(...e){super(...e),(0,o.default)(this,"handleClick",this.handleCopyLinkClick)}getIcon(){return M}};var N=(0,a.default)(p.ShareIcon,{name:"link"});class U extends T{constructor(...e){super(...e),(0,o.default)(this,"handleClick",this.handleCopyLinkClick)}getIcon(){return N}}t.CopyLinkShare=U;var x=(0,a.default)(p.ShareIcon,{name:"copy"});t.CopyScaledShare=class extends T{constructor(...e){super(...e),(0,o.default)(this,"handleClick",this.handleCopyLinkClick)}getIcon(){return x}},t.CopyLinkShareLarge=class extends U{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"link",color:e})}};class B extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"ok-w":"ok"})}getUrl(){const{title:e,description:t,image:i}=this.props,n={url:this.state.urlToShare||(0,c.getCurrentLocationUrl)(),title:e&&(0,h.cropText)(e,_),description:t&&(0,h.cropText)(t,v)};return i&&(n.image=i.startsWith("//")?`https:${i}`:i),(0,c.formatPath)(b.PATHS.SHARE.OK,{},n)}}t.OkShare=B;var F=(0,a.default)(p.ShareIcon,{name:"ok-c"});t.OkShareColor=class extends B{getIcon(){return F}},t.OkShareLarge=class extends B{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"ok_black",color:e})}},t.OkShareLargeColor=class extends B{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"ok_color",color:e})}};class H extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"whatsapp-w":"whatsapp"})}getUrl(){const{title:e}=this.props,t=this.state.urlToShare,i=`${e?(0,h.cropText)(e,_):""} ${t||(0,c.getCurrentLocationUrl)()}`;return(0,c.formatPath)(b.PATHS.SHARE.WA,{},{text:i})}}t.WhatsappShare=H;var V=(0,a.default)(p.ShareIcon,{name:"whatsapp-c"});t.WhatsappShareColor=class extends H{getIcon(){return V}};class j extends T{getIcon(){return(0,a.default)(p.ShareIcon,{name:this.props.color===g.Colors.white?"tg-w":"tg"})}getUrl(){const{title:e}=this.props,t=this.state.urlToShare;return(0,c.formatPath)(b.PATHS.SHARE.TG,{},{url:t||(0,c.getCurrentLocationUrl)(),text:e&&(0,h.cropText)(e,_)})}}t.TelegramShare=j;var z=(0,a.default)(p.ShareIcon,{name:"tg-c"});t.TelegramShareColor=class extends j{getIcon(){return z}},t.TelegramShareLarge=class extends j{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"tg_black",color:e})}},t.TelegramShareLargeColor=class extends j{getIcon(){const{color:e}=this.props;return(0,a.default)(p.ShareIconLarge,{name:"tg_color",color:e})}}},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.IconCopy=function(){return o};var a=n(i(2)),o=(n(i(0)),(0,a.default)("svg",{width:"40",height:"40",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,a.default)("g",{fill:"none",fillRule:"evenodd"},void 0,(0,a.default)("path",{d:"M0 0h40v40H0z"}),(0,a.default)("path",{stroke:"#000",strokeWidth:"2",d:"M16 13h12v16H16z"}),(0,a.default)("path",{fill:"#000",d:"M10 7h13v2H10z"}),(0,a.default)("path",{fill:"#000",d:"M10 7h2v17h-2z"}))))},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ShareIcon=t.ShareIconLarge=void 0;var o=a(i(2)),r=n(i(0)),s=i(9),l=a(i(753)),c=a(i(754)),d=a(i(755)),u=a(i(756)),p=a(i(757)),m=a(i(758)),h=a(i(759));i(760),i(525),i(761),i(762),i(763),i(764),i(765),i(766),i(767),i(768),i(769),i(770),i(771),i(772),i(773),i(774),i(775),i(776),i(777),i(778),i(779),i(780),i(781),i(782),i(783);const{bl:f}=(0,s.createBlock)("icon"),g={tg_color:{icon:l.default,fill:"#2FA7D9"},tg_black:{icon:l.default,fill:"#000"},fb_color:{icon:c.default,fill:"#456DB0"},fb_black:{icon:c.default,fill:"#000"},ok_color:{icon:d.default,fill:"#EE820A"},ok_black:{icon:d.default,fill:"#000"},tw_color:{icon:u.default,fill:"#44A5EF"},tw_black:{icon:u.default,fill:"#000"},vk_color:{icon:p.default,fill:"#5281B7"},vk_black:{icon:p.default,fill:"#000"},link:{icon:m.default,fill:"#000"},vb_color:{icon:h.default,fill:"#665EA5"},vb_black:{icon:h.default,fill:"#000"}},b=(0,r.memo)(({name:e,color:t})=>{const{icon:{id:i,viewBox:n},fill:a}=g[e];return(0,o.default)("div",{className:f({},["zen-icon"]),style:{fill:t||a}},void 0,(0,o.default)("svg",{viewBox:n},void 0,(0,o.default)("use",{xlinkHref:`#${i}`})))});t.ShareIconLarge=b,t.ShareIcon=(({name:e})=>(0,o.default)("div",{className:f({type:e},["zen-icon"])}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PublisherControls",{enumerable:!0,get:function(){return n.PublisherControls}}),Object.defineProperty(t,"PublisherControlsOwnProps",{enumerable:!0,get:function(){return n.PublisherControlsOwnProps}}),Object.defineProperty(t,"PublisherControlsProps",{enumerable:!0,get:function(){return n.PublisherControlsProps}});var n=i(991)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.PublisherControls=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(68),l=i(175),c=i(36),d=i(9),u=i(23),p=i(8),m=i(66),h=i(7),f=i(31),g=i(10),b=i(35),_=i(91),v=i(861),y=i(465),S=i(616),I=i(789),T=i(645),P=i(889),E=n(i(998)),C=i(617),A=i(145),k=n(i(1001)),O=n(i(1002)),L=n(i(1003)),w=n(i(1004)),D=n(i(1005)),R=i(183),M=i(328),N=i(309),U=i(27),x=i(51),B=i(46),F=i(32);i(1006);const{bl:H,el:V}=(0,d.createBlock)("publisher-controls"),j=(0,c.isOneOfZenKits)(),z={x:"right",y:"top",shifts:{top:40},shouldOverlap:!0,shouldFlip:!0},G={remove:w.default,edit:L.default,block:k.default,unblock:D.default,complain:O.default,share:"",subscribe:"",unsubscribe:""},$={ru:107,en:129},W={ru:124,en:111};var Y=(0,a.default)(C.TripleDotMenuIcon,{});t.PublisherControls=class extends r.default.Component{constructor(e){super(e),(0,o.default)(this,"handleSocialSubscription",()=>{const{socialsApp:e}=this.props;(null===e||void 0===e?void 0:e.setIsSubscribedToChannel)&&e.setIsSubscribedToChannel(this.isSubscribed)}),(0,o.default)(this,"handleSubscribe",async()=>{const{likePublisher:e,publisher:t,pageType:i,parentItemId:n,parentType:a,openLoginPopup:o,isSocialLoginExperiment:r,publication:s,loadAppPromise:l}=this.props;t&&(r||e({publisherItemId:t.itemId,publicationId:s.id,publicationItemId:s.itemId,isSendZenKit:j,pageType:i,parentId:n,parentType:a}),(0,m.reachGoal)("subscribe_article_button"),l&&await l,this.handleSocialSubscription()),r&&o({action:R.ActionsToPublication.subscribe,objectRecommenderId:t.itemId,objectId:t.id,itemId:b.InterfaceElementToBulkItemIdMap.subscribePublicationHeader,publicationId:s.id,publicationItemId:s.itemId})}),(0,o.default)(this,"handleUnsubscribe",async()=>{const{unlikePublisher:e,publisher:t,pageType:i,parentItemId:n,parentType:a,publication:o,loadAppPromise:r}=this.props;t&&(e({publisherItemId:t.itemId,publicationId:o.id,publicationItemId:o.itemId,isSendZenKit:j,pageType:i,parentId:n,parentType:a}),(0,m.reachGoal)("unsubscribe_article_button"),r&&await r,this.handleSocialSubscription())}),(0,o.default)(this,"handleShowMenu",()=>{this.setState({isShowMenu:!0})}),(0,o.default)(this,"handleHideMenu",()=>{this.setState({isShowMenu:!1})}),(0,o.default)(this,"handleBlockChannel",()=>{const{publisher:e,preferences:t,blockPublisher:i,unblockPublisher:n,pageType:a,parentItemId:o,parentType:r,publication:s}=this.props;if(e){const l={publisherItemId:e.itemId,publicationId:s.id,publicationItemId:s.itemId,isSendZenKit:j,pageType:a,parentId:o,parentType:r};t.subscribeStatus===x.SubscribeStatus.Blocked?n(l):i(l)}this.handleHideMenu()}),(0,o.default)(this,"handleShowComplain",()=>{this.setState({isShowComplainPopup:!0,isShowMenu:!1})}),(0,o.default)(this,"handleCloseComplain",()=>{this.setState({isShowComplainPopup:!1})}),(0,o.default)(this,"handlePointerDown",e=>e.stopPropagation()),(0,o.default)(this,"handleChannelLinkClick",()=>(0,h.resetUrlToOriginal)()),(0,o.default)(this,"handleEditClick",()=>{const{publication:e}=this.props;e&&(location.href=(0,h.toEditUrl)({publication:e}))}),(0,o.default)(this,"handleSubscribeClick",()=>{this.isBlocked?this.handleBlockChannel():this.isSubscribed?this.handleUnsubscribe():this.handleSubscribe()}),(0,o.default)(this,"getButtonSize",()=>{const{publication:e,desktop:t}=this.props;if(!t)return F.Sizes.s;switch((0,A.getPublicationType)(e)){case U.PublicationContentType.article:case U.PublicationContentType.video:case U.PublicationContentType.post:return F.Sizes.m;default:return F.Sizes.xs}}),this.state={isShowComplainPopup:!1,isShowMenu:!1}}componentDidMount(){this.props.fetchPreferences&&this.props.fetchPreferences(),_.rumManager.subscriptionStatusButtonShow()}get isSubscribed(){const{preferences:e}=this.props;return e.subscribeStatus===x.SubscribeStatus.Subscribed}get isBlocked(){const{preferences:e}=this.props;return e.subscribeStatus===x.SubscribeStatus.Blocked}isFixButtonWidth(){const{publication:e}=this.props,t=(0,A.getPublicationType)(e);return t===U.PublicationContentType.article||t===U.PublicationContentType.video||t===U.PublicationContentType.post}getButtonInitialWidth(e){const t=this.isFixButtonWidth()?W:$;return"ru"===e?t.ru:t.en}getSnackMenuItems(){return[{value:(0,p.lang)('645df422'),icon:M.SnackBarIconType.complain,onClick:this.handleShowComplain},{value:this.isBlocked?(0,p.lang)('c40db515'):(0,p.lang)('d080f75c'),icon:this.isBlocked?M.SnackBarIconType.unblock:M.SnackBarIconType.block,onClick:this.handleBlockChannel}]}getMenuItems(){return this.getSnackMenuItems().map(e=>(0,a.default)(S.SnackBar.Item,{value:e.value,icon:e.icon,onClick:e.onClick},e.value))}renderComplainPopup(){const{publisher:e,publication:t,pageType:i,desktop:n,parentItemId:o,parentType:r,addNotification:s}=this.props;return t&&e?(0,a.default)(T.FormComplaintLazy,{onClose:this.handleCloseComplain,onSubmit:this.handleCloseComplain,addNotification:s,publicationItemId:t.itemId,publisherItemId:e.itemId,publicationId:t.id,pageType:i,isMobile:!n,isOpen:!0,parentItemId:o,parentType:r}):null}renderMenu(){const{desktop:e,textColor:t,position:i}=this.props;return e?(0,a.default)(y.MoreButton,{size:F.Sizes.m,buttonClass:V("header-menu"),white:t===N.PostTextColor.white,position:i||z,contextMenuClass:V("context-menu")},void 0,this.getSnackMenuItems().map(e=>(0,a.default)(l.ContextMenuItem,{onClick:e.onClick},e.value,(0,a.default)(l.ContextMenuItemIcon,{},void 0,(0,a.default)("span",{className:V("context-menu-icon"),style:{backgroundImage:`url(${G[e.icon]})`}})),(0,a.default)(l.ContextMenuItemContent,{text:e.value})))):(0,a.default)("div",{className:V("header-menu"),onClick:this.handleShowMenu},void 0,Y)}getButtonStyles(){const{language:e="ru"}=this.props,t=this.getButtonInitialWidth(e);return{width:`${t}px`,maxWidth:`${t}px`}}render(){const{preferences:e,publisher:t,publication:i,desktop:n,withOwnerMenu:o,textColor:l,colorScheme:c,pageType:d,channelUrl:m,hasUnpublishedChanges:h,className:b="",canEdit:_=!1,mod:v=B.ButtonViewType.white,imagesDict:y,avatarsHost:I,width:T,nonce:C,isAuthorized:k,isHeaderMessengerEnabled:O,headerMessengerTimeout:L,messengerDevUrl:w}=this.props,{allowedPrivateMessages:D,messengerGuid:R}=t,{isShowMenu:M,isShowComplainPopup:N}=this.state;if(!t||!i)return null;const{logo:F,favouritesCount:j,name:z}=t,{content:{type:G}}=i,$=e.subscribeStatus===x.SubscribeStatus.Pending,W=new Map([[!n,B.ButtonViewType.border],[n&&(!c||"light-white"===c)&&!this.isSubscribed,B.ButtonViewType.yellow],[n&&(!c||"light-white"===c)&&this.isSubscribed,B.ButtonViewType.regular],[n&&!!c&&"light-white"!==c,B.ButtonViewType.white],[$,B.ButtonViewType.placeholder],[this.isBlocked,B.ButtonViewType.border],[n&&v===B.ButtonViewType.borderLight||v===B.ButtonViewType.border,v]]).get(!0)||B.ButtonViewType.yellow,Y=G===U.PublicationContentType.article||G===U.PublicationContentType.video,X=this.isBlocked?(0,p.lang)('85214c14'):this.isSubscribed?(0,p.lang)('4c39c77a'):(0,p.lang)('215090f7'),Z=(0,f.getNumeral)(j,[(0,p.lang)('e46e1638'),(0,p.lang)('4fa6e8f6'),(0,p.lang)('8b42b998')]),q=(0,f.numberWithSpaces)(j),Q=(0,A.getPublicationType)(i);return r.default.createElement(r.default.Fragment,null,(0,a.default)("div",{className:H({desktop:n,white:"white"===v&&n,"article-or-video":Y,"with-edit":_,type:(0,A.getPublicationType)(i)},[b])},void 0,(0,a.default)("a",{className:V("channel-link"),href:m,onClick:this.handleChannelLinkClick},void 0,(0,a.default)("div",{className:V("channel-icon",{owner:_}),style:(0,u.getAvatarStyle)(F,z,y,I)})),(0,a.default)("div",{className:V("description")},void 0,(0,a.default)("a",{className:V("channel-name",{desktop:n,owner:_&&!o&&n,white:"white"===l}),style:{width:T||"auto"},href:m,onClick:this.handleChannelLinkClick},void 0,z),!_&&Y&&(0,a.default)("div",{className:V("subscribers")},void 0,`${q} ${Z}`),_&&o&&n&&Q!==U.PublicationContentType.post&&(0,a.default)("div",{className:V("buttons")},void 0,(0,a.default)(K,{publication:i,publisher:t,canEdit:_&&n,onEdit:this.handleEditClick,mod:v,hasUnpublishedChanges:Boolean(h),textColor:l,isEditDisable:!1})),(!_||!n)&&(0,a.default)("div",{className:V("buttons")},void 0,(0,a.default)(s.Button,{onClick:this.handleSubscribeClick,viewType:W,size:this.getButtonSize(),disabled:$,style:this.getButtonStyles(),widthType:"wide"},void 0,X),O&&D&&R?(0,a.default)("div",{className:V("messenger-button")},void 0,(0,a.default)(P.MessengerButtonWrapper,{messengerGuid:R,isAuthorized:k,nonce:C,isMobile:!1,size:this.getButtonSize(),messengerTimeout:L,publicationId:i.id,publicationItemId:i.itemId,publisherItemId:t.itemId,messengerDevUrl:w})):null,this.renderMenu()))),!n&&!g.isSSR&&r.default.createElement(r.default.Fragment,null,(0,a.default)(E.default,{publication:i,publisher:t,pageType:d}),(0,a.default)(S.SnackBar,{items:this.getMenuItems(),isVisible:M,onClose:this.handleHideMenu,onPointerDown:this.handlePointerDown},1)),N&&this.renderComplainPopup())}};const K=(0,I.removePublication)(v.OwnPublicationControls)},function(e,t,i){},,function(e,t,i){},,function(e,t,i){},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.FormComplaintLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(45).then(i.t.bind(null,1425,7)),loading:()=>null,render:({FormComplaintHandler:e},t)=>a.default.createElement(e,t)});t.FormComplaintLazy=o},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(23),l=i(8),c=i(7),d=i(36),u=i(347),p=i(9),m=i(616),h=i(521);i(999);const{bl:f,el:g}=(0,p.createBlock)("infinite-narrative-likes");var b=(0,u.FeedbackHOC)(class extends r.default.Component{constructor(e){super(e),(0,o.default)(this,"handleShareClick",()=>this.setState({sharePopupOpened:!0})),(0,o.default)(this,"handleShareClose",()=>this.setState({sharePopupOpened:!1})),(0,o.default)(this,"handleShared",()=>{this.props.clickShareSocial()}),(0,o.default)(this,"handleCopied",()=>{this.setState({linkCopied:!0}),this.handleShared(),setTimeout(()=>{this.setState({linkCopied:!1})},2e3)}),(0,o.default)(this,"handlePointerDown",e=>e.stopPropagation()),this.state={sharePopupOpened:!1,linkCopied:!1}}renderPopupContent(){const{publication:e,publisher:t}=this.props,{linkCopied:i}=this.state;if(!e)return[];const{title:n,snippet:o,image:r}=e.content.preview,u=r?(0,s.getAvatarsUrl)(r,"scale_720"):"",p=`https://${location.host}${(0,c.toViewUrl)(e,t.nickname&&t.nickname.raw)}`;return[(0,a.default)("div",{className:g("share-title")},void 0,"Поделиться"),(0,a.default)("div",{className:g("share-items")},void 0,!(0,d.isIOS)()&&(0,a.default)("div",{className:g("share-button")},void 0,(0,a.default)(h.CopyShare,{label:i?(0,l.lang)('207e74c8'):(0,l.lang)('00d750cb'),size:"l",url:p,onClick:this.handleCopied})),(0,a.default)("div",{className:g("share-button")},void 0,(0,a.default)(h.TwitterShareColor,{label:"Twitter",title:n,description:o,size:"l",url:p,onClick:this.handleShared})),(0,a.default)("div",{className:g("share-button")},void 0,(0,a.default)(h.FacebookShareColor,{label:"Facebook",title:n,description:o,size:"l",url:p,onClick:this.handleShared})),(0,a.default)("div",{className:g("share-button")},void 0,(0,a.default)(h.VkShareColor,{label:(0,l.lang)('007c9083'),title:n,description:o,size:"l",url:p,image:u,onClick:this.handleShared})))]}render(){const{isLiked:e,isDisliked:t,toggleLike:i,toggleDislike:n}=this.props,o={type:"like",active:e,passive:t},r={type:"dislike",active:t,passive:e},{sharePopupOpened:s}=this.state;return(0,a.default)("div",{className:f()},void 0,(0,a.default)("div",{className:g("left-block")},void 0,(0,a.default)("div",{className:g("button",o),onClick:i}),(0,a.default)("div",{className:g("button",r),onClick:n})),(0,a.default)("div",{className:g("button",{type:"share-button"}),onClick:this.handleShareClick}),(0,a.default)(m.SnackBar,{isVisible:s,onClose:this.handleShareClose,onPointerDown:this.handlePointerDown,items:this.renderPopupContent()}))}});t.default=b},function(e,t,i){},,function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9ZM16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9Z' fill='black'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.2929 14.7071L3.29289 4.70711L4.70711 3.29289L14.7071 13.2929L13.2929 14.7071Z' fill='black'/%3E %3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M8.5 10L7.5 4H10.5L9.5 10H8.5Z' fill='black'/%3E %3Cpath d='M10.5 12.5C10.5 13.3284 9.82843 14 9 14C8.17157 14 7.5 13.3284 7.5 12.5C7.5 11.6716 8.17157 11 9 11C9.82843 11 10.5 11.6716 10.5 12.5Z' fill='black'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9ZM16 9C16 12.866 12.866 16 9 16C5.13401 16 2 12.866 2 9C2 5.13401 5.13401 2 9 2C12.866 2 16 5.13401 16 9Z' fill='black'/%3E %3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E %3Cg fill='none' fillRule='evenodd'%3E%3Cpath d='M0 0h24v24H0z' /%3E %3Cpath d='M5.077 15.686l9.797-9.797 3.536 3.536-9.797 9.797a.4.4 0 0 1-.247.115l-3.267.297a.4.4 0 0 1-.434-.434l.297-3.267a.4.4 0 0 1 .115-.247zM15.581 5.182l1.839-1.838a.4.4 0 0 1 .566 0l2.97 2.97a.4.4 0 0 1 0 .565l-1.839 1.839-3.536-3.536z' fill='%23000' /%3E %3C/g%3E %3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18'%3E %3Cpath fill='%23000' fill-rule='evenodd' d='M13.917 5l-.864 10.358a.7.7 0 0 1-.697.642H5.644a.7.7 0 0 1-.697-.642L4.083 5H3.5a.5.5 0 0 1 0-1h11a.5.5 0 1 1 0 1h-.583zM11 4V3H7v1H6V3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-1zM9 7a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-5A.5.5 0 0 1 9 7zM7 7a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-5A.5.5 0 0 1 7 7zm4 0a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-5A.5.5 0 0 1 11 7z' /%3E %3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9ZM16.2 9C16.2 5.02355 12.9764 1.8 9 1.8C5.02355 1.8 1.8 5.02355 1.8 9C1.8 12.9764 5.02355 16.2 9 16.2C12.9764 16.2 16.2 12.9764 16.2 9Z' fill='black'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.29289 8.70707L5.70711 7.29287L8.99999 10.5858L14.7929 4.79289L16.2071 6.20711L8.99998 13.4142L4.29289 8.70707Z' fill='black'/%3E %3C/svg%3E\""},function(e,t,i){},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeTagsContainer=void 0;var n=i(18),a=i(1156),o=i(47),r=i(29),s=i(27);const l=(0,n.connect)(({publication:e,experiments:t})=>{const{commentsDisabledMessageWithSmallMargins:i,revealedTagsLazyCount:n}=t,{swipeToSite:a,tags:l,content:c,commentsFlagState:d,itemId:u,id:p}=e,{type:m}=c,h=m===s.PublicationContentType.video;return{themeTags:l,publicationType:(0,o.getStatContentType)(m),publicationItemId:u,isInterestTagsEnabled:!a,isAfterEmbed:!h&&(0,o.hasPublicationEmbedAtTheEnd)(e),withSmallMargins:i&&d===r.FlagState.off,publicationId:p,revealedTagsLazyCount:n}})(a.SourceThemeTags);t.ThemeTagsContainer=l},,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeToComponent=void 0;var n=i(1048),a=i(1051),o=i(1052),r=i(1054),s=i(550),l=i(1058),c=i(1059),d=i(1062),u=i(654),p=i(1064),m=i(1068),h=i(1072),f=i(1075),g=i(1076),b=i(1080),_=i(1084),v=i(1086),y=i(1090),S=i(1094),I=i(1098),T=i(1102);const P={tw:a.TwitterEmbed,fb:n.FacebookEmbed,vk:l.VkEmbed,"vk-community":d.VkCommunityEmbed,"vk-video":c.VkVideoEmbed,instagram:o.InstagramEmbed,youtube:r.YouTubeEmbed,"yandex-direct":s.YandexDirectEmbed,adfox:u.AdfoxEmbed,"yandex-maps":p.YandexMapsEmbed,"yandex-music":h.YandexMusicEmbed,"yandex-music-playlist":f.YandexMusicPlaylistEmbed,"yandex-wallet-button":g.YandexWalletEmbed,"yandex-wallet-form":g.YandexWalletEmbed,"yandex-market-product":b.YandexMarketEmbed,"yandex-market-product-code":b.YandexMarketEmbed,"yandex-zen-publication":v.YandexZenVideoEmbed,"yandex-zen-video":v.YandexZenVideoEmbed,"yandex-efir":y.YandexEfirEmbed,"github-gist":_.GithubGistEmbed,tinkoff:m.TinkoffEmbed,rutube:S.RuTubeEmbed,kinopoisk:I.KinopoiskEmbed,"yandex-forms":T.YandexFormsEmbed};t.typeToComponent=P},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMarketEmbedData=function(e,t){e.marketWidgetConstructorInfo=t}},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleStat=function({publication:e,statistic:t,isMicroPost:i,statTipPosition:n="bottom",textColor:a="black",isMobile:s,className:l,noTip:y}){const[S,I]=(0,r.useState)(!1),{feedShows:T=0,views:P=0,viewsTillEnd:E=0,sumViewTimeSec:C=0}=t||{},{hasNativeAds:A,requestedPublishTimeIso:k,addTime:O=0,content:{type:L},activeOnAdFlight:w}=e,D="string"==typeof l?[l]:l,R=e.content.type===h.PublicationContentType.article,M=v({mobile:Boolean(s),micro:Boolean(i),narrative:L===h.PublicationContentType.narrative,color:a,article:R},D),N=(0,c.isNarrative)(e)&&k?(0,d.getDelayedPublicationDescriptionText)({requestedPublishTimeIso:k,addTime:O,full:!0})||"":(0,u.toHumanDate)(O),U=Boolean(k),x=(e,t,i)=>(0,o.default)("div",{className:_("counts-wrapper")},void 0,e&&(0,o.default)("span",{className:_("icon",{type:`${e}-${i}`})}),(0,o.default)("span",{className:_("count")},void 0,t));(0,r.useEffect)(()=>{t&&I(!0)},[t]);const B=(0,r.useMemo)(()=>s||i?e=>`${e}`:(e,t)=>`${e} ${(0,d.getNumeral)(t,f,!0)}`,[s,i]),F=()=>e.content.type===h.PublicationContentType.narrative&&!s;return(0,o.default)("div",{className:M},void 0,(0,o.default)("div",{className:_("ad-label-slot")},void 0,(A||w)&&(0,o.default)(m.ArticleAdLabel,{isPartner:w})),(0,o.default)("div",{className:_("date-container",{delayed:U})},void 0,(0,o.default)("span",{className:_("date")},void 0,N.replace(" "," "))),(0,o.default)("div",{className:_("info",{loaded:S}),onClick:()=>void 0},void 0,(()=>{const e=P>100,t=T>100;let s="",l="";const c=(0,d.getShortStatText)(P,g,b),m=(0,d.getShortStatText)(E,g,b),h=B((0,d.getShortStatText)(T,g,b),T);if(i){if(t)return x(void 0,h,a)}else if(e)return s=(0,u.toPassedTheTime)(parseInt(String(C/(E||1)))),l=B(m,E),r.default.createElement(r.default.Fragment,null,x(F()?void 0:"book",l,a),!F()&&x("clock",s,a),y||(0,o.default)(p.default,{className:_("tip",{position:n}),viewsText:c,viewsTillEndText:m,viewsTillEnd:E,views:P,midTime:s}))})()))},t.viewsTillEndTexts=void 0;var o=a(i(2)),r=n(i(0)),s=i(9),l=i(8),c=i(47),d=i(31),u=i(20),p=a(i(1112)),m=i(880),h=i(27);i(970);const f=[(0,l.lang)('5a3bb617'),(0,l.lang)('400ccbaf'),(0,l.lang)('9684fab0')];t.viewsTillEndTexts=f;const g=(0,l.lang)('6ea5f454'),b=` ${(0,l.lang)('87e1c52e')}`,{el:_,bl:v}=(0,s.createBlock)("article-stat")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statPixels=function(e=o,t){switch(t.type){case n.StatPixelsType.init:{const{pixels:e,publicationType:i}=t.payload;return{isVisible:!1,isNarrative:i===a.PublicationContentType.narrative,statPixels:e}}case n.StatPixelsType.showPopup:return{...e,isVisible:!0};case n.StatPixelsType.saved:return{...e,statPixels:t.payload};case n.StatPixelsType.closePopup:return{...e,isVisible:!1};case n.StatPixelsType.clearData:return{isVisible:!1,isNarrative:!1,statPixels:{publicationId:"",active:!1,pixels:{}}};default:return e}};var n=i(185),a=i(27);const o={isVisible:!1,isNarrative:!1,statPixels:{publicationId:"",active:!1,pixels:{}}}},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ZenTag=t.ZenTagViewType=void 0;var a=n(i(14)),o=n(i(2)),r=n(i(0)),s=i(9);i(1158);let l;t.ZenTagViewType=l,function(e){e.regular="regular",e.black="black",e.bold="bold"}(l||(t.ZenTagViewType=l={}));const{bl:c,el:d}=(0,s.createBlock)("zen-tag-publishers");t.ZenTag=(({title:e,href:t,onClick:i,viewType:n=l.regular,isBoldOnNarrowScreen:s=!1,...u})=>r.default.createElement("a",(0,a.default)({},u,{className:c({type:n,"bold-on-narrow-screen":s}),href:t,onClick:i}),(0,o.default)("span",{className:d("title")},void 0,e)))},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.user=function(e=null){return e}},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MessengerContainer=void 0;var o=a(i(2)),r=n(i(0)),s=i(35),l=i(637),c=a(i(1142)),d=i(629);const u=(0,i(10).getLocalWindow)(),p=(0,r.memo)(({nonce:e,isAuthorized:t,headerMessengerTimeout:i,messengerDevUrl:n,messengerUnreadUrl:a,statSourceId:p})=>{const[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),b=a||"https://yandex.ru/messenger/api/unread_count",_=(0,r.useMemo)(()=>new c.default({url:b,callback:e=>{(null===e||void 0===e?void 0:e.value)&&g(e.value)},chatId:""}),[b]);(0,d.useUnmount)(()=>{var e;null===u||void 0===u||null===(e=u.zenChatWidget)||void 0===e||e.destroy(),null===u||void 0===u||delete u.zenChatWidget});const v=(0,r.useCallback)(()=>{null!==u&&void 0!==u&&u.zenChatWidget||(h(!0),_.stop())},[_]);(0,r.useEffect)(()=>{_.start(),window.setTimeout(()=>{v()},i)},[_,i,v]);const y=(0,r.useCallback)(()=>{(0,s.sendStatEvent)({event:"messenger_click",item_type:"interface_element",item_id:s.InterfaceElementToBulkItemIdMap.profileMessengerHeaderClick,source_type:"publisher",source_id:p,page_type:"publishers_platform"}),v()},[v,p]);return(0,o.default)("div",{onClick:y},void 0,(0,o.default)(l.Messenger,{devUrl:n,isAuthorized:t,nonce:e,needLoadWidget:m,chatUnreadCount:f,unreadUrl:b}))});t.MessengerContainer=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Notifier",{enumerable:!0,get:function(){return n.Notifier}});var n=i(1146)},function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HeaderPopup",{enumerable:!0,get:function(){return o.HeaderPopup}}),Object.defineProperty(t,"HeaderPopupItem",{enumerable:!0,get:function(){return o.HeaderPopupItem}}),Object.defineProperty(t,"HeaderPopupEnterItem",{enumerable:!0,get:function(){return o.HeaderPopupEnterItem}}),Object.defineProperty(t,"HeaderPopupExitItem",{enumerable:!0,get:function(){return o.HeaderPopupExitItem}}),t.LinkHeaderPopupExitItem=t.LinkHeaderPopupEnterItem=t.LinkHeaderPopupItem=t.SafeLinkHeaderPopupExitItem=t.SafeLinkHeaderPopupEnterItem=t.SafeLinkHeaderPopupItem=void 0;var a=i(107),o=n(i(286));const r=(0,o.createHeaderPopupItem)(a.SafeLink);t.SafeLinkHeaderPopupItem=r;const s=(0,o.createHeaderPopupEnterItem)(a.SafeLink);t.SafeLinkHeaderPopupEnterItem=s;const l=(0,o.createHeaderPopupExitItem)(a.SafeLink);t.SafeLinkHeaderPopupExitItem=l;const c=(0,o.createHeaderPopupItem)("a");t.LinkHeaderPopupItem=c;const d=(0,o.createHeaderPopupEnterItem)("a");t.LinkHeaderPopupEnterItem=d;const u=(0,o.createHeaderPopupExitItem)("a");t.LinkHeaderPopupExitItem=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeaderItem",{enumerable:!0,get:function(){return n.HeaderItem}}),Object.defineProperty(t,"createHeaderItem",{enumerable:!0,get:function(){return n.createHeaderItem}}),Object.defineProperty(t,"SafeLinkHeaderItem",{enumerable:!0,get:function(){return a.SafeLinkHeaderItem}}),Object.defineProperty(t,"RouterLinkHeaderItem",{enumerable:!0,get:function(){return a.RouterLinkHeaderItem}}),Object.defineProperty(t,"LinkHeaderItem",{enumerable:!0,get:function(){return a.LinkHeaderItem}}),Object.defineProperty(t,"betterCreateHeaderItem",{enumerable:!0,get:function(){return a.betterCreateHeaderItem}}),Object.defineProperty(t,"RouterLinkHeaderItemAutoClose",{enumerable:!0,get:function(){return a.RouterLinkHeaderItemAutoClose}}),Object.defineProperty(t,"SmartLinkHeaderItem",{enumerable:!0,get:function(){return a.SmartLinkHeaderItem}}),Object.defineProperty(t,"TextHeaderItem",{enumerable:!0,get:function(){return a.TextHeaderItem}});var n=i(171),a=i(1147)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableRezenModal=void 0;var a=n(i(2)),o=n(i(0)),r=n(i(76)),s=i(10),l=(0,a.default)(o.default.Fragment,{});const c=s.isSSR?()=>l:(0,r.default)({loader:async()=>(await i.e(60).then(i.t.bind(null,1180,7))).RezenModalWrapper,loading:()=>null});t.LoadableRezenModal=c},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.checkAppButtonTimeout=t.closeAppButton=t.setAppButtonVisibility=t.APP_BUTTON_TIMEOUT_KEY=t.SET_APP_BUTTON_TIMEOUT=t.SET_APP_BUTTON_VISIBILITY=void 0;var a=n(i(374));const o="SET_APP_BUTTON_VISIBILITY";t.SET_APP_BUTTON_VISIBILITY=o;const r="SET_APP_BUTTON_TIMEOUT";t.SET_APP_BUTTON_TIMEOUT=r;const s="app-btn-tmt2";t.APP_BUTTON_TIMEOUT_KEY=s;const l=e=>({type:o,isVisible:e});t.setAppButtonVisibility=l,t.closeAppButton=(()=>(e,t)=>{const{appButtonCloseTimeout:i}=t().experiments,n=Date.now()+i,o=Math.ceil(i/1e3/60/60/24);a.default.set(s,n.toString(),{expires:o}),e(l(!1))}),t.checkAppButtonTimeout=(()=>{const e=Number(a.default.get(s))||0;return(e=>({type:r,isTimeout:e}))(Boolean(e&&e>Date.now()))})},,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.platformTitles=t.createProductLinkMetaData=t.getProductLinkPlatform=void 0;var n=i(523),a=i(8),o=i(92),r=i(75);const s={[r.ProductPlatform.market]:/https:\/\/(www\.)?market\.yandex\.ru\/((product|catalog|brands)--([a-zA-Z0-9]|-)*\/[0-9]*(\/list)?|search)(\?\S*)?/,[r.ProductPlatform.beru]:/https:\/\/(www\.)?beru\.ru\/((product|catalog)\/([a-zA-Z0-9]|-)*\/[0-9]*(\/list)?|(search|freedelivery|special\/bonusy))(\?\S*)?/,[r.ProductPlatform.joom]:/https:\/\/(www\.)?joom\.com\/[a-z]{2}\/(products\/[a-zA-Z0-9]{24}|search\/(c\.)?[0-9-]+)(\/|(\?\S*))?/};t.getProductLinkPlatform=(e=>{try{const t=new URL(e).toString(),i=(0,n.entriesOf)(s).find(([,e])=>e.test(t));if(i)return i[0]}catch(e){}}),t.createProductLinkMetaData=(e=>({type:o.LinkMetaDataType.productPreview,payload:e}));const l={[r.ProductPlatform.beru]:(0,a.lang)('53f11787'),[r.ProductPlatform.market]:(0,a.lang)('cb10f2bc'),[r.ProductPlatform.joom]:(0,a.lang)('c932adc4')};t.platformTitles=l},function(e,t,i){"use strict";function n(e="zenadservices.net"){const t=e||c.default.advHostname;return"localhost"===t?`https://localhost${location.port?`:${location.port}`:""}`:"zenadservices.net"!==t?`https://${t.replace("yandex.ru","yandex.net")}`:"https://zenadservices.net"}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getIframeHost=n,t.default=t.AdaptiveIframe=void 0;var o=a(i(11)),r=i(20),s=i(13),l=i(31),c=a(i(39)),d=i(35);i(876);var u=i(22);class p{constructor(e){(0,o.default)(this,"handleMessageFromIframe",({data:e,origin:t})=>{if(this.iframe&&e.id===this.id&&t===this.iframeHost&&("set-height"!==e.type||this.isBad||(this.iframe.style.height=`${e.height}px`,this.iframe.style.backgroundColor="transparent"),"check-ad-content"===e.type&&e.adContent&&function(e){const{htmlEncoded:t}=e.data||{};if(t){const e=decodeURIComponent(t);return(0,s.postData)(u.PATHS.CHECK_AD_CONTENT,{contentHtml:e}).then(e=>e.result).catch(e=>"unknown")}return Promise.resolve("unknown")}(e.adContent).then(e=>{"bad"===e&&this.iframe&&(this.isBad=!0,this.iframe.classList.add("adaptive-iframe_hiding"),(0,r.wait)(1e3).then(r.raf).then(()=>this.iframe&&this.iframe.classList.add("adaptive-iframe_hidden")))}),"send-embed-stats"===e.type)){const{publisherItemId:t,publicationItemId:i,publicationId:n}=this.config;if(t&&i&&n){const a={event:e.eventName,source_id:t,source_type:"publisher",page_type:"publishers_platform",item_id:i,item_type:"native",publication_oid:n,service_action:e.embedType};(0,d.sendStatEvent)(a)}}}),this.config=e,this.id=(0,l.getRandomString)(),this.iframeHost=e.iframeHost||n()||"zenadservices.net",this.iframeSrc=`${this.iframeHost}/custom-adv/safeframe`,this.isBad=!1,this.createIFrame()}createIFrame(){if("undefined"==typeof window)return;const{iframeContainerId:e,iframeHtml:t,virtualNode:i}=this.config,n=window._articleContainer||document.documentElement;if(!n)return;let a=n.querySelector(`#${e}`);if(!a&&i&&(a=i.querySelector(`#${e}`)),!a)throw new Error(`No container with id "${e}"`);const o={id:this.id,html:t};this.iframe=document.createElement("iframe"),this.iframe.className="adaptive-iframe",this.iframe.setAttribute("frameborder","no"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("allowtransparency","true"),this.iframe.setAttribute("hidefocus","true"),this.iframe.setAttribute("tabindex","-1"),this.iframe.setAttribute("marginwidth","0"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("src",this.iframeSrc),this.iframe.setAttribute("name",encodeURIComponent(JSON.stringify(o))),this.config.allowFullScreen&&this.iframe.setAttribute("allowfullscreen",""),this.iframe.style.height=this.config.isFullHeight?"100%":`${this.config.minHeight}px`,a.appendChild(this.iframe),window.addEventListener("message",this.handleMessageFromIframe)}}t.AdaptiveIframe=p;var m=p;t.default=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexMarketWidget",{enumerable:!0,get:function(){return n.YandexMarketWidget}});var n=i(1204)},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookEmbed=void 0;var a=n(i(11)),o=n(i(102));i(1049),t.FacebookEmbed=class extends o.default{constructor(...e){super(...e),(0,a.default)(this,"type","facebook"),(0,a.default)(this,"minHeight",290)}getHtml(){return"fb"===this.props.data.type?`\n                <div class='fb-post' data-href='${this.props.data.postUrl}' data-width='auto'></div>\n                <script src='https://connect.facebook.net/ru_RU/sdk.js'><\/script>\n                <script>\n                    FB.init({\n                      appId            : '1852327555029823',\n                      autoLogAppEvents : true,\n                      xfbml            : true,\n                      version          : 'v2.9'\n                    });\n\n                    FB.AppEvents.logPageView();\n\n                    var el = document.querySelector('.fb-post');\n                    $sf.watchElementSize(el, {\n                        watchFirstChildren: true,\n                        cb: function() {\n                            // fix for mobile\n                            if (el.firstChild) {\n                                el.firstChild.style.backgroundColor = '#fff';\n                            }\n                        }\n                    });\n                <\/script>\n            `:""}}},function(e,t,i){},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.TwitterEmbed=void 0;var a=n(i(11)),o=n(i(102));t.TwitterEmbed=class extends o.default{constructor(...e){super(...e),(0,a.default)(this,"type","twitter")}getHtml(){return"tw"===this.props.data.type?`\n                <div id='tweet' style='margin-top: -10px'></div>\n                <script src='https://platform.twitter.com/widgets.js'><\/script>\n                <script>\n                    twttr.widgets\n                        .createTweet(\n                            '${function(e){const t=e.match(r);return t&&t[1]}(this.props.data.postUrl)||""}',\n                            document.getElementById('tweet')\n                        )\n                        .then(function(el) {\n                            $sf.setIframeHeight(el.offsetHeight);\n                            $sf.watchElementSize(el);\n                        });\n                <\/script>\n            `:""}};const r=/status(?:es)?\/(\d+)/},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InstagramEmbed",{enumerable:!0,get:function(){return n.InstagramEmbed}});var n=i(1053)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.InstagramEmbed=void 0;var a=n(i(11)),o=n(i(102));t.InstagramEmbed=class extends o.default{constructor(...e){super(...e),(0,a.default)(this,"type","instagram"),(0,a.default)(this,"minHeight",400)}getHtml(){return"instagram"===this.props.data.type?`\n                <blockquote style='width: 100%' class="instagram-media" data-instgrm-version="7" data-instgrm-captioned>\n                    <a href='${this.props.data.postUrl}'> </a>\n                </blockquote>\n                <script src="https://platform.instagram.com/en_US/embeds.js"><\/script>\n                <script>\n                    instgrm.Embeds.process();\n\n                    setTimeout(function() {\n                        var el = document.querySelector('.instagram-media');\n                        $sf.watchElementSize(el, {\n                            cb: function() {\n                                el.style.margin = 0;\n                                el.style.width = 'calc(100% - 2px)';\n                            }\n                        });\n                    }, 3000);\n                <\/script>\n            `:""}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YouTubeEmbed",{enumerable:!0,get:function(){return n.YouTubeEmbed}});var n=i(1055)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(52),l=i(10),c=i(9);i(1056);const{bl:d,el:u}=(0,c.createBlock)("youtube-embed");t.YouTubeEmbed=class extends r.Component{shouldComponentUpdate(){return!1}render(){const e=this.getIFrameUrl();return(0,o.default)("div",{className:d()},void 0,(0,o.default)("div",{className:u("placeholder")}),(0,o.default)("iframe",{className:u("iframe"),src:e,frameBorder:"0",allowFullScreen:!0}))}getIFrameUrl(){const e={modestbranding:0,controls:1,rel:0,showinfo:1,enablejsapi:1,origin:l.isSSR?"":window.location.origin};return(0,s.buildUrl)(this.props.data.postUrl.trim(),e)}}},function(e,t,i){},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.VkEmbed=void 0;var a=n(i(11)),o=n(i(102));t.VkEmbed=class extends o.default{constructor(...e){super(...e),(0,a.default)(this,"type","vk"),(0,a.default)(this,"minHeight",400)}getHtml(){if("vk"===this.props.data.type){const{hash:e,ownerId:t,postId:i}=this.props.data;return`\n                <div id='vk-post'></div>\n                <script src="https://vk.com/js/api/openapi.js?146"><\/script>\n                <script>\n                    VK.Widgets.Post('vk-post', '${t}', '${i}', '${e}', {})\n                    $sf.watchElementSize(document.getElementById('vk-post'));\n                <\/script>\n            `}return""}}},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.VkVideoEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(1060);const{bl:l,el:c}=(0,s.createBlock)("vk-video-post");t.VkVideoEmbed=class extends r.Component{shouldComponentUpdate(){return!1}render(){const{hash:e,ownerId:t,postId:i,width:n,height:a}=this.props.data;return(0,o.default)("div",{className:l()},void 0,(0,o.default)("div",{style:{paddingTop:`${a/n*100}%`}},void 0,(0,o.default)("iframe",{className:c("iframe"),src:`https://vk.com/video_ext.php?oid=${t}&id=${i}&hash=${e}`,allowFullScreen:!0})))}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"VkCommunityEmbed",{enumerable:!0,get:function(){return n.VkCommunityEmbed}});var n=i(1063)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.VkCommunityEmbed=void 0;var a=n(i(11)),o=i(102);t.VkCommunityEmbed=class extends o.BaseEmbed{constructor(...e){super(...e),(0,a.default)(this,"type","vk-community"),(0,a.default)(this,"minHeight",190)}getHtml(){if("vk-community"===this.props.data.type){const{groupId:e,params:t}=this.props.data;return`\n                <style>\n                    #vk-groups, iframe {\n                        max-width: 100%;\n                    }\n                </style>\n                <div id='vk-groups'></div>\n                <script src="https://vk.com/js/api/openapi.js"><\/script>\n                <script>\n                    VK.Widgets.Group("vk-groups", ${t}, '${e}');\n                    $sf.watchElementSize(document.getElementById('vk-groups'));\n                <\/script>\n            `}return""}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexMapsEmbed",{enumerable:!0,get:function(){return n.YandexMapsEmbed}});var n=i(1065)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexMapsEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(1066);const{bl:l}=(0,s.createBlock)("yandex-maps-iframe");t.YandexMapsEmbed=class extends r.Component{shouldComponentUpdate(){return!1}render(){const{id:e}=this.props.data;return(0,o.default)("iframe",{src:`https://www.yandex.ru/map-widget/v1/-/${e}`,className:l()})}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TinkoffEmbed",{enumerable:!0,get:function(){return n.TinkoffEmbed}});var n=i(1069)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.TinkoffEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(1070);const{bl:l}=(0,s.createBlock)("tinkoff-embed");t.TinkoffEmbed=class extends r.Component{render(){const{url:e}=this.props.data;return(0,o.default)("iframe",{src:e,className:l(),referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms"})}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexMusicEmbed",{enumerable:!0,get:function(){return n.YandexMusicEmbed}});var n=i(1073)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexMusicEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(741);const{bl:l}=(0,s.createBlock)("yandex-music-iframe");t.YandexMusicEmbed=class extends r.Component{shouldComponentUpdate(){return!1}render(){const{album:e,track:t,params:i,height:n,width:a}=this.props.data;let r="https://music.yandex.ru/iframe/#";r+=t?`track/${t}/${e}/${i}`:`album/${e}/${i}`;const s={};return n&&(s.height=`${n}`),a&&(s.width=`${a}`),(0,o.default)("iframe",{src:r,style:s,className:l({type:t?"track":"album"})})}}},,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexMusicPlaylistEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(741);const{bl:l}=(0,s.createBlock)("yandex-music-iframe");t.YandexMusicPlaylistEmbed=class extends r.Component{shouldComponentUpdate(){return!1}render(){const{user:e,id:t,params:i,height:n,width:a}=this.props.data,r={};return n&&(r.height=`${n}`),a&&(r.width=`${a}`),(0,o.default)("iframe",{src:`https://music.yandex.ru/iframe/#playlist/${e}/${t}/${i}`,style:r,className:l({type:"playlist"})})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexWalletEmbed",{enumerable:!0,get:function(){return n.YandexWalletEmbed}});var n=i(1077)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexWalletEmbed=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(1078);const l={"yandex-wallet-button":"button-widget","yandex-wallet-form":"shop-widget"},{bl:c,el:d}=(0,s.createBlock)("yandex-wallet-iframe");t.YandexWalletEmbed=class extends r.Component{shouldComponentUpdate(){return!1}componentDidMount(){const e=document.getElementById(`iframe-yandex-wallet-form_${this.props.blockKey}`);e&&(e.style.minHeight="235px")}render(){const{params:e,height:t,width:i,type:n}=this.props.data,a={};return t&&(a.height=`${t}`),i&&(a.width=`${i}`),(0,o.default)("div",{className:`${c()} article-block`},void 0,(0,o.default)("iframe",{src:`https://money.yandex.ru/quickpay/${l[n]}?${e}`,style:a,className:d("iframe")}))}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexMarketEmbed",{enumerable:!0,get:function(){return n.YandexMarketEmbed}});var n=i(1081)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexMarketEmbed=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(9),l=i(39),c=i(1045),d=i(877),u=i(35),p=i(75);i(1082);const{bl:m}=(0,s.createBlock)("yandex-market-block"),h={[p.YandexMarketWidgetGoal.SHOW]:"embed_show",[p.YandexMarketWidgetGoal.CLICK]:"embed_click"};t.YandexMarketEmbed=class extends r.default.Component{constructor(...e){super(...e),(0,o.default)(this,"sendEvent",(e,t)=>{const{statData:i}=this.props;if(i){const{publicationId:n,publicationItemId:a,publisherItemId:o}=i;o&&a&&n&&(0,u.sendStatEvent)({event:e,source_id:o,source_type:"publisher",page_type:"publishers_platform",item_id:a,item_type:"native",publication_oid:n,service_action:`yandex-market-product:${t}`})}})}get id(){return`yandex_market_${this.props.blockKey}`}isWidgetInvalid(){const{data:{widgetType:e,searchType:t}}=this.props;return e===p.YandexMarketWidgetType.BERU_MODELS||Boolean(t)}componentDidMount(){var e;const{blockKey:t,isEditor:i,data:{type:n,marketWidgetConstructorInfo:a,constructed:o,widgetName:r,...s}}=this.props,c={...s,themeId:s.themeId||l.yandexMarketDefaultThemeId,clid:s.clid||l.yandexMarketDefaultClid,linkToMarket:null===a||void 0===a?void 0:a.linkToMarketEnabled,fallback:!1},u=null===a||void 0===a?void 0:a.widgetEditStatus;if(!(i||(null===a||void 0===a?void 0:a.available)||u===p.MarketWidgetEditStatus.CODE)||this.isWidgetInvalid())return;const m=null===a||void 0===a?void 0:a.marketClid,f=null===a||void 0===a?void 0:null===(e=a.marketLinkIdByWidgetId)||void 0===e?void 0:e[t];u===p.MarketWidgetEditStatus.CONSTRUCTOR&&m&&f&&(c.vid=f,c.clid=m,i||(c.metrikaReachGoal=(e=>{const t=h[e];t&&this.sendEvent(t,f)}))),(0,d.createWidget)(this.id,c)}render(){const{isMobile:e,data:{type:t,...i}}=this.props;return(0,a.default)(c.YandexMarketWidget,{className:`${m({mobile:e})} article-block`,containerId:this.id,withWidgetInit:!1,config:{...i,clid:i.clid||l.yandexMarketDefaultClid,themeId:i.themeId||l.yandexMarketDefaultThemeId},customLog:!0})}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GithubGistEmbed",{enumerable:!0,get:function(){return n.GithubGistEmbed}});var n=i(1085)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.GithubGistEmbed=void 0;var a=n(i(11)),o=i(102);t.GithubGistEmbed=class extends o.BaseEmbed{constructor(...e){super(...e),(0,a.default)(this,"type","github-gist"),(0,a.default)(this,"minHeight",350)}getHtml(){const{data:{nickname:e,id:t}}=this.props;return`\n            <script src="https://gist.github.com/${e}/${t}.js"><\/script>\n            <script>\n                var links = document.querySelectorAll('a');\n                links.forEach(function(link) {\n                    link.setAttribute('target', '_blank');\n                });\n                var gist = document.querySelector('.gist-file');\n                $sf.setIframeHeight(gist.offsetHeight);\n            <\/script>\n        `}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexZenVideoEmbed",{enumerable:!0,get:function(){return n.YandexZenVideoEmbed}});var n=i(1087)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexZenVideoEmbed=void 0;var a=n(i(2)),o=n(i(0)),r=i(7),s=i(9),l=i(10),c=i(23);i(1088);var d=i(22);const{bl:u,el:p}=(0,s.createBlock)("zen-video-embed");t.YandexZenVideoEmbed=class extends o.default.Component{shouldComponentUpdate(){return!1}getIFrameUrl(){const{data:e,avatarsHost:t}=this.props,{stream:i,previewUrl:n,previewImageData:a}=e;let o;a?o=(0,c.formatAvatarsUrl)(a,"scale_1200",{avatarsHost:t}):n&&(o=function(e,t){let i;if(l.isSSR)try{i=new URL(e).hostname}catch(e){i="avatars.mdst.yandex.net"}else{const t=document.createElement("a");t.href=e,i=t.hostname}return e.replace(i,t)}(n,t));const s={stream_url:i,preview:o};return(0,r.formatPath)(d.PLAYER_IFRAME_URL,{},s)}render(){const e=this.getIFrameUrl();return(0,a.default)("div",{className:u()},void 0,(0,a.default)("iframe",{className:p("iframe"),src:e,frameBorder:"0"}))}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexEfirEmbed",{enumerable:!0,get:function(){return n.YandexEfirEmbed}});var n=i(1091)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexEfirEmbed=void 0;var a=n(i(2)),o=n(i(0)),r=i(9),s=i(7);i(1092);const{bl:l,el:c}=(0,r.createBlock)("yandex-efir-embed");t.YandexEfirEmbed=class extends o.default.Component{shouldComponentUpdate(){return!1}render(){const{data:e}=this.props,{stringParams:t}=e,i=(0,s.formatPath)(`https://frontend.vh.yandex.ru/player/${t}`,{},{from_block:"zen:article:widget",from:"zen:article"});return(0,a.default)("div",{className:l()},void 0,(0,a.default)("iframe",{src:i,className:c("iframe"),frameBorder:"0",allowFullScreen:!0}))}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RuTubeEmbed",{enumerable:!0,get:function(){return n.RuTubeEmbed}});var n=i(1095)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.RuTubeEmbed=void 0;var a=n(i(11)),o=i(9),r=n(i(102));i(1096);const{bl:s,el:l}=(0,o.createBlock)("rutube-embed");t.RuTubeEmbed=class extends r.default{constructor(...e){super(...e),(0,a.default)(this,"type","rutube"),(0,a.default)(this,"isFullHeight",!0),(0,a.default)(this,"allowFullScreen",!0)}getHtml(){const{postUrl:e}=this.props.data,t=`https://rutube.ru/play/embed/${e}`;return`\n            <style>\n                .rutube-embed__iframe {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                }\n            </style>\n            <div class="${s()}">\n                <div class="${l("placeholder")}"></div>\n                <iframe\n                    class="${l("iframe")}"\n                    src="${t}"\n                    frameBorder="0"\n                    allowFullScreen\n                />\n            </div>\n        `}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"KinopoiskEmbed",{enumerable:!0,get:function(){return n.KinopoiskEmbed}});var n=i(1099)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.KinopoiskEmbed=void 0;var a=n(i(11)),o=i(102),r=i(220);i(1100);var s;!function(e){e.mobile="mobile",e.desktop="desktop"}(s||(s={})),t.KinopoiskEmbed=class extends o.BaseEmbed{constructor(...e){super(...e),(0,a.default)(this,"type",r.EmbedType.Kinopoisk),(0,a.default)(this,"minHeight",350)}getHtml(){const{data:e,isMobile:t}=this.props;return`\n            <style>\n                .kinopoisk-embed {\n                    position: absolute;\n                    border: 0;\n                    width: 100%;\n                    height: 100%;\n                }\n            </style>\n            <script>\n                var iframe = document.createElement('iframe');\n                iframe.className = 'kinopoisk-embed';\n                iframe.setAttribute('src', '${`${e.postUrl}?deviceType=${t?s.mobile:s.desktop}`}');\n                iframe.setAttribute('name', window.name);\n                document.body.appendChild(iframe);\n                \n                window.addEventListener('message', ({data}) => {\n                    if (data.type === 'set-height') {\n                        $sf.setIframeHeight(data.height)\n                    }\n                })\n            <\/script>  \n        `}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YandexFormsEmbed",{enumerable:!0,get:function(){return n.YandexFormsEmbed}});var n=i(1103)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexFormsEmbed=void 0;var a=n(i(11)),o=i(102),r=i(220);i(1104),t.YandexFormsEmbed=class extends o.BaseEmbed{constructor(...e){var t,i,n;super(...e),(0,a.default)(this,"type",r.EmbedType.YandexForms),(0,a.default)(this,"minHeight",350),(0,a.default)(this,"publisherItemId",(null===(t=this.props.statData)||void 0===t?void 0:t.publisherItemId)||""),(0,a.default)(this,"publicationItemId",(null===(i=this.props.statData)||void 0===i?void 0:i.publicationItemId)||""),(0,a.default)(this,"publicationId",(null===(n=this.props.statData)||void 0===n?void 0:n.publicationId)||"")}getHtml(){const{data:{formId:e}}=this.props;return`\n            <script src="https://yastatic.net/q/forms-frontend-ext/_/embed.js"><\/script>\n            <iframe\n                src='${`https://forms.yandex.ru/u/${e}/?iframe=1&is_commercial=true`}'\n                frameborder="0"\n                name="ya-form-${e}"\n                width="100%"\n            >\n            </iframe> \n            <script>\n                 var form = document.querySelector('iframe');\n                 $sf.setIframeHeight(form.offsetHeight);\n                 $sf.watchElementSize(form);\n                 \n                 var iFrameData = JSON.parse(decodeURIComponent(window.name));\n                 var iFrameId = iFrameData.id;\n                 \n                 var formRendered = false;\n                 \n                 var handleMesssage = ({data}) => {\n                      var parsedData = {};\n                     \n                      try {\n                           parsedData = JSON.parse(data);\n                      } catch (e) {\n                           return;\n                      }\n                      if (parsedData.message === 'sent') {\n                           window.parent.postMessage({\n                                id: iFrameId,\n                                type: 'send-embed-stats',\n                                embedType: 'yandex_forms',\n                                eventName: 'embed_click',\n                            }, '*');\n                      } else if (!formRendered && parsedData['iframe-height']) {\n                           window.parent.postMessage({\n                                id: iFrameId,\n                                type: 'send-embed-stats',\n                                embedType: 'yandex_forms',\n                                eventName: 'embed_show',\n                           }, '*');\n                           formRendered = true;\n                      }\n                 };\n                 window.addEventListener('message', handleMesssage)\n            <\/script>\n        `}}},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomElement=t.getElemBySelector=t.getElemByClass=t.getElemById=t.SelectorType=void 0;let n;t.SelectorType=n,function(e){e[e.class=0]="class",e[e.id=1]="id",e[e.other=2]="other"}(n||(t.SelectorType=n={}));const a=e=>document.getElementById(e);t.getElemById=a;const o=e=>document.querySelector((e=>`.${e}`)(e));t.getElemByClass=o;const r=e=>document.querySelector(e);t.getElemBySelector=r,t.getDomElement=((e,t=n.other)=>{switch(t){case n.id:return a(e);case n.class:return o(e);case n.other:default:return r(e)}})},,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CloseCross=void 0;var o=a(i(2)),r=n(i(0)),s=i(9),l=i(32);i(878);const c=(0,r.memo)(({onClose:e,className:t="",size:i=l.Sizes.m,white:n=!1})=>(0,o.default)("div",{className:(0,s.getBlockClass)("close-cross",{white:n,black:!n,size:i},[t]),onClick:e}));t.CloseCross=c},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(i(1113))},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.viewsValues=void 0;var a=n(i(2)),o=(n(i(0)),i(9)),r=i(8),s=i(31);i(968),i(969);const l=[(0,r.lang)('4901651b'),(0,r.lang)('96705d78'),(0,r.lang)('b81753ee')];t.viewsValues=l;const c=[(0,r.lang)('5a3bb617'),(0,r.lang)('400ccbaf'),(0,r.lang)('9684fab0')],{bl:d,el:u}=(0,o.createBlock)("article-stat-tip");t.default=(({viewsText:e,viewsTillEndText:t,viewsTillEnd:i,views:n,midTime:o,className:p="",isShowViewsTillEnd:m=!0})=>(0,a.default)("div",{className:d({},[p])},void 0,(0,a.default)("div",{className:u("item")},void 0,(0,a.default)("span",{className:u("value")},void 0,e," ",(0,s.getNumeral)(n,l,!0),". "),(0,r.lang)('d9edd56a')),(0,a.default)("div",{className:u("item")},void 0,(0,a.default)("span",{className:u("value")},void 0,t," ",(0,s.getNumeral)(i,c,!0),", ",n?(i/n*100).toFixed(0):0,"%. "),(0,r.lang)('924ff1d3')),m&&(0,a.default)("div",{className:u("item")},void 0,(0,a.default)("span",{className:u("value")},void 0,o)," ",(0,r.lang)('f8042733'))))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionOnIntersectionWrapper",{enumerable:!0,get:function(){return n.ActionOnIntersectionWrapper}});var n=i(1220)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadInterestSuggested=t.loadPublisherSuggested=t.SimilarArticlesActions=void 0;var n=i(13),a=i(52),o=i(22);let r;t.SimilarArticlesActions=r,function(e){e.PUBLISHER_SUGGESTED_LOADED="PUBLISHER_SUGGESTED_LOADED",e.INTEREST_SUGGESTED_LOADED="INTEREST_SUGGESTED_LOADED"}(r||(t.SimilarArticlesActions=r={})),t.loadPublisherSuggested=((e=3)=>(t,i)=>{const{publication:{itemId:s,publisherItemId:l},statData:{clid:c,deviceId:d}}=i(),u=(0,a.buildUrl)(o.PATHS.SUGGESTED.PUBLISHER_PUBLICATIONS,{publication_id:s,publisher_id:l,limit:e,device_id:d,clid:c});return(0,n.loadData)(u).then(e=>{t({type:r.PUBLISHER_SUGGESTED_LOADED,data:e})}).catch(e=>{})}),t.loadInterestSuggested=(e=>(t,i)=>{const{publication:{itemId:s},statData:{clid:l,deviceId:c}}=i(),d=(0,a.buildUrl)(o.PATHS.SUGGESTED.INTEREST_PUBLICATIONS,{item_id:s,device_id:c,clid:l});return(0,n.loadData)(d).then(i=>{const n=e&&e<i.items.length?{...i,items:i.items.slice(0,e)}:i;t({type:r.INTEREST_SUGGESTED_LOADED,data:n})}).catch(e=>{})})},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=function({visible:e,className:t="",onClose:i,children:n,bg:s="light",title:l,theme:c="normal",onAfterOpen:d,isShowClose:u,whiteCross:p=!1,overlayClassName:m="",shouldReturnFocusAfterClose:h}){const f=[t,"popup",`popup_${c}`],g=["popup__overlay",`popup__overlay_color_${s}`,m];return(0,a.default)(o.default,{isOpen:e,onRequestClose:i,onAfterOpen:d,contentLabel:"popup",className:f.join(" "),overlayClassName:g.join(" "),closeTimeoutMS:200,shouldReturnFocusAfterClose:h},void 0,(0,a.default)("div",{className:["popup__content",`popup__content_${c}`].join(" ")},void 0,l&&(0,a.default)("h3",{className:["popup__title",`popup__title_${c}`].join(" ")},void 0,l),u&&(0,a.default)(r.CloseCross,{white:p,className:"popup__close",onClose:i}),n))};var a=n(i(2)),o=(n(i(0)),n(i(548))),r=i(786);i(884)},,,,,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MoreButton=void 0;var o=a(i(2)),r=n(i(0)),s=a(i(68)),l=i(175),c=i(226),d=i(9),u=i(32),p=i(46);i(885);const{el:m,bl:h}=(0,d.createBlock)("zen-publishers-more-button"),f={x:"right",y:"top",shifts:{bottom:40},shouldOverlap:!0,shouldFlip:!1},g=(0,r.memo)(({children:e,className:t="",position:i=f,size:n=u.Sizes.m,buttonClass:a="",white:c=!1,onClick:d,contextMenuClass:g=""})=>(0,o.default)(l.ContextMenuPopup,{className:m("popup",{},[t]),position:i,renderTrigger:({containerRef:e,toggle:t,isOpen:i})=>r.default.createElement(s.default,{ref:e,size:n,onClick:e=>{"function"==typeof d&&d(i,e),t()},className:h({active:i,white:c},[a]),viewType:p.ButtonViewType.transparent,type:"button"})},void 0,(0,o.default)(l.ContextMenu,{className:g},void 0,e)),(0,c.propsAreEqual)(["children"]));t.MoreButton=g,g.displayName="MoreButton"},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmAlert=function(e){const{isActive:t,title:i,onClose:n,onAccept:o,yes:m=(0,c.lang)('5b9d1cdb'),no:h=(0,c.lang)('4f16d1cd')}=e;return(0,a.default)(r.Popup,{visible:t,onClose:n,className:p(),shouldReturnFocusAfterClose:!0},void 0,(0,a.default)("p",{className:u("text")},void 0,i),(0,a.default)("div",{className:u("controls")},void 0,(0,a.default)(s.Button,{size:d.Sizes.m,viewType:l.ButtonViewType.transparent,onClick:o},void 0,m),(0,a.default)(s.Button,{viewType:l.ButtonViewType.transparent,size:d.Sizes.m,onClick:n},void 0,h)))};var a=n(i(2)),o=(n(i(0)),i(9)),r=i(791),s=i(68),l=i(46),c=i(8),d=i(32);i(886);const{el:u,bl:p}=(0,o.createBlock)("confirm-alert-popup")},,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Notifier=void 0;var a=n(i(2)),o=(n(i(0)),i(18)),r=i(9),s=n(i(76)),l=i(39);i(882),i(747),i(985);const{el:c}=(0,r.createBlock)("common-zen-notifier"),d=(0,o.connect)(e=>({user:e.profile.user}))(function(e){const{withNoBottomMargin:t=!1}=e;if(!l.commentsEnabled)return null;const i={"with-no-bottom-margin":t};return(0,a.default)("div",{className:c("container",i)},void 0,p)});t.Notifier=d;const u=(0,s.default)({loader:()=>i.e(50).then(i.bind(null,1638)),loading:()=>null,render(e){const{Notifier:t}=e;return(0,a.default)(t,{apiHost:"https://cloud-api.yandex.ru/zen_gnc/",baseUrl:"https://yandex.ru/global-notifications",serviceDatabaseId:".pub.notifier@notification_services",iframeVersion:"stable",loaderVersion:"v0.0.2",className:c("container"),popupProps:{motionless:!0,hiding:"false"}})}}),p=(0,a.default)(u,{})},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SmartLinkHeaderItem=t.RouterLinkHeaderItemAutoClose=t.betterCreateHeaderItem=t.TextHeaderItem=t.LinkHeaderItem=t.RouterLinkHeaderItem=t.SafeLinkHeaderItem=void 0;var o=a(i(2)),r=a(i(14)),s=n(i(0)),l=i(107),c=i(486),d=i(171),u=i(105),p=i(12);i(986);const m=(0,d.createHeaderItem)(l.SafeLink);t.SafeLinkHeaderItem=m;const h=(0,d.createHeaderItem)(c.Link);t.RouterLinkHeaderItem=h;const f=(0,d.createHeaderItem)("a");t.LinkHeaderItem=f;const g=(0,d.createHeaderItem)("span");t.TextHeaderItem=g;const b=(0,p.bevis)("header-item");t.betterCreateHeaderItem=(e=>(0,s.forwardRef)(({className:t,isOpened:i,...n},a)=>(0,o.default)(d.HeaderItemType.Consumer,{},void 0,l=>(0,o.default)("div",{className:(0,u.mix)(b({type:l,"is-opened":i}),t)},void 0,s.default.createElement(e,(0,r.default)({ref:a},n)))))),t.RouterLinkHeaderItemAutoClose=(({close:e,...t})=>s.default.createElement(h,(0,r.default)({onClick:()=>e&&e()},t))),t.SmartLinkHeaderItem=(({to:e,...t})=>s.default.createElement(f,(0,r.default)({},t,{href:e})))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublisherControlsContainer=void 0;var n=i(18),a=i(48),o=i(127),r=i(990),s=i(267);const l=(0,n.connect)(e=>{const{language:t,config:i,experiments:n,profile:a,images:o}=e,{avatarsHost:r}=i,{user:s}=a,{subscribeLoginPopupMessage:l,isHeaderMessengerEnabled:c,headerMessengerTimeout:d,messengerDevUrl:u}=n,p=Boolean(l&&!s),m=void 0!==s;return"infiniteNarrative"in e&&e.infiniteNarrative&&e.infiniteNarrative.viewerList?{viewerList:e.infiniteNarrative.viewerList,language:t,imagesDict:o,avatarsHost:r,isSocialLoginExperiment:p,isAuthorized:m,isHeaderMessengerEnabled:c,headerMessengerTimeout:d,messengerDevUrl:u}:{language:t,imagesDict:o,avatarsHost:r,isSocialLoginExperiment:p,isAuthorized:m,isHeaderMessengerEnabled:c,headerMessengerTimeout:d,messengerDevUrl:u}},{addNotification:a.addNotification,openLoginPopup:o.openLoginPopup},(e,t,i)=>{const{language:n,imagesDict:a,avatarsHost:o,isSocialLoginExperiment:r,isAuthorized:s,isHeaderMessengerEnabled:l,headerMessengerTimeout:c,messengerDevUrl:d}=e,{index:u=-1}=i;if(e.viewerList&&Array.isArray(e.viewerList)&&e.viewerList[u]){const{publisher:p,publication:m}=e.viewerList[u];return{...i,publisher:p,publication:m,language:n,imagesDict:a,avatarsHost:o,isSocialLoginExperiment:r,isAuthorized:s,isHeaderMessengerEnabled:l,headerMessengerTimeout:c,messengerDevUrl:d,...t}}return{...i,language:n,imagesDict:a&&Object.keys(a).length>0?a:void 0,avatarsHost:o,isSocialLoginExperiment:r,isAuthorized:s,isHeaderMessengerEnabled:l,headerMessengerTimeout:c,messengerDevUrl:d,...t}})((0,s.SocialsAppHOC)(r.PublisherControls));t.PublisherControlsContainer=l},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SnackBar=void 0;var o=a(i(11)),r=a(i(2)),s=n(i(0)),l=i(9);i(996);const{el:c,bl:d}=(0,l.createBlock)("snack-bar");class u extends s.PureComponent{constructor(...e){super(...e),(0,o.default)(this,"handleClose",()=>{this.props.onClose()}),(0,o.default)(this,"setOverlayRef",e=>this.overlayElement=e)}componentDidMount(){this.overlayElement&&this.props.onPointerDown&&this.overlayElement.addEventListener("pointerdown",this.props.onPointerDown)}render(){const{isVisible:e,items:t}=this.props,i={"is-visible":e};return[s.default.createElement("div",{className:c("overlay",i),onClick:this.handleClose,ref:this.setOverlayRef,key:0}),(0,r.default)("div",{className:d()},1,(0,r.default)("div",{className:c("content",i)},void 0,t))]}}t.SnackBar=u,(0,o.default)(u,"Item",function(e){const{value:t,icon:i,onClick:n}=e;return(0,r.default)("div",{className:c("item"),onClick:n},void 0,(0,r.default)("div",{className:c("icon",{type:i})}),(0,r.default)("div",{className:c("text")},void 0,t))})},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MessengerButton=void 0;var o=a(i(2)),r=n(i(0)),s=i(529),l=i(637),c=a(i(68)),d=i(10),u=i(79),p=i(46),m=a(i(890));const h="undefined"!=typeof window?window:null;t.MessengerButton=(({isClicked:e,messengerGuid:t,isAuthorized:i,nonce:n,size:a,buttonText:f,needLoadWidget:g,messengerDevUrl:b})=>{const[_,v]=(0,r.useState)(null);(0,u.useMounted)(()=>{const e=document.querySelector(l.MESSENGER_MOUNT_SELECTOR);e&&v(e)});const y=(0,r.useCallback)(()=>{if(e){var i;null===h||void 0===h||null===(i=h.zenChatWidget)||void 0===i||i.showChat({guid:t})}},[t,e]),S={collapsedDesktop:"never",autocloseable:!0,serviceId:36,theme:_?"legacy":"hidden"};_&&(S.mountNode=_),b&&(S.iframeUrl=b,S.iframeUrlParams={config:"development"}),i||(S.unreadUrl=""),(0,s.useMessenger)({widgetOptions:S,nonce:n,needLoadWidget:g,createCallback:y});const I=(0,r.useCallback)(()=>{var e;return null===h||void 0===h?void 0:null===(e=h.zenChatWidget)||void 0===e?void 0:e.showChat({guid:t})},[t]);return(0,o.default)(c.default,{size:a,viewType:d.isSSR?p.ButtonViewType.placeholder:p.ButtonViewType.regular,widthType:p.ButtonWidthTypes.wide,icon:m.default,onClick:I,disabled:d.isSSR},void 0,f)})},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkShare=void 0;var a=n(i(0)),o=i(521);const r={monochrome:{fb:o.FacebookShare,vk:o.VkShare,ok:o.OkShare,tw:o.TwitterShare,tg:o.TelegramShare,whatsapp:o.WhatsappShare,link:o.CopyLinkShare,vb:o.ViberShare},color:{whatsapp:o.WhatsappShareColor,fb:o.FacebookShareColor,vk:o.VkShareColor,ok:o.OkShareColor,tw:o.TwitterShareColor,tg:o.TelegramShareColor,link:o.CopyLinkShare,vb:o.ViberShareColor},monochromeLarge:{fb:o.FacebookShareLarge,vk:o.VkShareLarge,ok:o.OkShareLarge,tw:o.TwitterShareLarge,tg:o.TelegramShareLarge,whatsapp:o.WhatsappShare,link:o.CopyLinkShareLarge,vb:o.ViberShareLarge},colorLarge:{whatsapp:o.WhatsappShareColor,fb:o.FacebookShareLargeColor,vk:o.VkShareLargeColor,ok:o.OkShareLargeColor,tw:o.TwitterShareLargeColor,tg:o.TelegramShareLargeColor,link:o.CopyLinkShareLarge,vb:o.ViberShareLargeColor}};t.NetworkShare=(({isColored:e,networkName:t,withLargeIcons:i=!1,...n})=>{let o;return(o=i?e?r.colorLarge[t]:r.monochromeLarge[t]:e?r.color[t]:r.monochrome[t])?a.default.createElement(o,n):null})},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.LazyComponent=function({getImportStatement:e,loadingComponent:t,getRenderedComponent:i,skipInShadowWebview:n,...a}){const{ref:o,setRef:v}=(0,f.useRefWithUpdate)(null),{promise:y,resolve:S}=(0,u.useResolvablePromise)();(0,h.useMounted)(()=>{n&&(0,l.isShadowWebView)()||g.isSSR?v(null):v((0,s.default)({loader:async()=>(await(0,b.waitUntilPageVisible)(),y&&await y,e()),loading:()=>null!==t&&void 0!==t?t:null,render:i}))});const{observableElement:I=null,observerRootMargin:T,loadTimeout:P,isReadyToLoad:E=!1}=(0,d.useStrategyVariables)(a),C=(0,r.useCallback)(()=>{S()},[S]);(0,p.useIntersectionObserver)({observableElement:I,onIntersect:C,rootMargin:T,shouldDisconnectOnIntersecting:!0}),(0,r.useEffect)(()=>{void 0!==P&&(0,m.wait)(P).then(S)},[P,S]),(0,r.useEffect)(()=>{E&&S()},[E,S]);const A=o.current;if(!A)return _;const k=(0,c.omit)(a,["observableElement","observerRootMargin","loadTimeout","isReadyToLoad"]);return r.default.createElement(A,k)};var o=a(i(2)),r=n(i(0)),s=a(i(76)),l=i(36),c=i(184),d=i(1154),u=i(1155),p=i(633),m=i(20),h=i(79),f=i(895),g=i(10),b=i(54),_=(0,o.default)(r.default.Fragment,{})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStrategyVariables=void 0,t.useStrategyVariables=(e=>{let t,i;"observableElement"in e&&(t=e.observableElement,i=e.observerRootMargin);let n;"loadTimeout"in e&&(n=e.loadTimeout);let a;return"isReadyToLoad"in e&&(a=e.isReadyToLoad),{observableElement:t,observerRootMargin:i,loadTimeout:n,isReadyToLoad:a}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResolvablePromise=void 0;var n=i(0);t.useResolvablePromise=(()=>{var e;const t=(0,n.useRef)(void 0);return{promise:(0,n.useRef)(new Promise(e=>{void 0===t.current&&(t.current=(()=>{e()}))})).current,resolve:null!==(e=t.current)&&void 0!==e?e:()=>{}}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SourceThemeTags",{enumerable:!0,get:function(){return n.SourceThemeTags}}),Object.defineProperty(t,"ThemeTagsLayout",{enumerable:!0,get:function(){return n.ThemeTagsLayout}});var n=i(1157)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SourceThemeTags=t.ThemeTagsLayout=void 0;var o=a(i(2)),r=a(i(11)),s=n(i(0)),l=i(9),c=i(1027),d=i(7),u=i(120),p=i(99),m=i(35),h=i(143);i(1160);const{el:f,bl:g}=(0,l.createBlock)("theme-tags");class b extends s.PureComponent{constructor(...e){super(...e),(0,r.default)(this,"innerWrapper",s.default.createRef()),(0,r.default)(this,"state",{moreTagsCount:0,isTagsBlockRevealed:!1}),(0,r.default)(this,"componentDidMount",()=>{const{shouldCollapseTags:e,revealedTagsLazyCount:t}=this.props;e&&!t&&this.calculateMoreTagsCount()}),(0,r.default)(this,"calculateMoreTagsCount",()=>{let e=0;if(!this.innerWrapper.current)return;const t=this.innerWrapper.current.getBoundingClientRect().width,i=Array.from(this.innerWrapper.current.children).map(e=>e.getBoundingClientRect().width),n=i.reduce((e,t)=>e+t+14,0);if(n>t){let a=n;for(;a+65>t;){const t=i.pop();if(!t)break;a-=t+14,e++}this.setState({moreTagsCount:e})}}),(0,r.default)(this,"getThematicFeedUrl",e=>this.props.shouldProtectFromRedirects?(0,u.appendNoRedirect)((0,d.toThematicFeedUrl)(e)):(0,d.toThematicFeedUrl)(e)),(0,r.default)(this,"handleTagClick",e=>{this.props.onClick&&this.props.onClick(e)}),(0,r.default)(this,"handleRevealButtonClick",()=>{this.setState({isTagsBlockRevealed:!0})}),(0,r.default)(this,"renderTag",e=>({tagId:t,title:i,alias:n})=>(0,o.default)("div",{className:f("interest-tag",{"no-wrap":e})},t,(0,o.default)(c.ZenTag,{title:i,href:this.getThematicFeedUrl(n),onClick:()=>this.handleTagClick(t),target:"_blank"},t)))}render(){const{themeTags:e,isMobile:t=!1,isAfterEmbed:i=!1,withSmallMargins:n,publicationType:a,shouldCollapseTags:r,revealedTagsLazyCount:l}=this.props;if(!e.length)return null;let c=null;const{moreTagsCount:d,isTagsBlockRevealed:u}=this.state,m=l&&e.length<=l;if(!r||u||m)c=(0,o.default)("div",{className:f("grid",{"no-margin":r&&t})},void 0,e.map(this.renderTag(!1)));else{let i=e.length>d?d:e.length-3;l&&(i=e.length-l);const n=e.slice(0,e.length-i);c=s.default.createElement("div",{className:f("inner-wrapper",{"allow-wrap":0!==i}),ref:this.innerWrapper},n.map(this.renderTag(0===i)),i>0&&(0,o.default)("button",{type:"button",className:f("more-button",{mobile:t}),onClick:this.handleRevealButtonClick},void 0,(0,p.formatMessage)('08256526',{count:i})))}return s.default.createElement("section",{ref:this.props.containerRef,className:g({mobile:t,"after-embed":i,"min-margin":n,narrative:"narrative_card"===a,article:"native"===a,"no-margin":r})},c)}}t.ThemeTagsLayout=b,t.SourceThemeTags=class extends s.Component{constructor(...e){super(...e),(0,r.default)(this,"containerRef",s.default.createRef()),(0,r.default)(this,"handleShow",()=>{const{publicationType:e,themeTags:t,publicationItemId:i,publicationId:n}=this.props;(0,m.sendStatEvents)(t.map(({tagId:t})=>({event:"source_show",origin_id:i,origin_type:e,item_type:"interest",item_id:t.toString(),source_type:"publisher",publication_oid:n})))}),(0,r.default)(this,"handleClick",e=>{const{publicationType:t,publicationItemId:i,publicationId:n}=this.props;(0,m.sendStatEvent)({event:"source_click",origin_id:i,origin_type:t,item_type:"tag",item_id:e.toString(),source_type:"publisher",publication_oid:n})})}async componentDidMount(){this.observer=await(0,h.initIntersectionObserver)((0,h.makeHandleIntersection)(this.handleShow),{rootMargin:"0% 0%",threshold:[1]});const{current:e}=this.containerRef;e&&this.observer.observe(e)}render(){const{themeTags:e,isMobile:t=!1,isInterestTagsEnabled:i,isAfterEmbed:n,shouldProtectFromRedirects:a,withSmallMargins:r,publicationType:s,mobileArticleBottomRedisign:l,revealedTagsLazyCount:c}=this.props;return i?(0,o.default)(b,{themeTags:e,isMobile:t,onClick:this.handleClick,containerRef:this.containerRef,isAfterEmbed:n,shouldProtectFromRedirects:a,withSmallMargins:r,publicationType:s,shouldCollapseTags:l,revealedTagsLazyCount:c}):null}}},function(e,t,i){},,function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ZenHeaderContainer=void 0;var a=i(18),o=i(375),r=i(61),s=n(i(10)),l=i(1193);const c=(0,a.connect)(e=>{const{profile:{publisher:t,user:i},experiments:n,smsPopup:a,language:o}=e,{isOpen:r}=a,l=null!==o&&void 0!==o?o:s.default.language;return{user:i,publisher:t,tld:"ru"===l?"ru":"com",isNewArticleShare:n&&n.useNewViewInSocials,isDesktopArticleHeaderPlaceholderExp:n&&n.isDesktopArticleHeaderPlaceholderExp,isDesktopArticleHeaderPlaceholderV0Exp:n&&n.isDesktopArticleHeaderPlaceholderV0Exp,isSmsPopupOpen:r,language:l,messengerUnreadUrl:n&&n.messengerUnreadUrl}},{setSmsPopupOpen:o.setSmsPopupOpen,loadUser:r.loadUser})(l.ZenHeader);t.ZenHeaderContainer=c},,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CarouselArrow",{enumerable:!0,get:function(){return n.CarouselArrow}}),Object.defineProperty(t,"CarouselArrowColor",{enumerable:!0,get:function(){return n.CarouselArrowColor}}),Object.defineProperty(t,"CarouselArrowPosition",{enumerable:!0,get:function(){return n.CarouselArrowPosition}});var n=i(1342)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommonPublicationStatus",{enumerable:!0,get:function(){return n.CommonPublicationStatus}}),Object.defineProperty(t,"CommonPublicationStatusProps",{enumerable:!0,get:function(){return n.CommonPublicationStatusProps}});var n=i(1394)},,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Mittens",{enumerable:!0,get:function(){return n.Mittens}}),Object.defineProperty(t,"MittenType",{enumerable:!0,get:function(){return n.MittenType}});var n=i(1264)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LikesCount",{enumerable:!0,get:function(){return n.LikesCount}}),Object.defineProperty(t,"LikesCountMinimal",{enumerable:!0,get:function(){return a.LikesCountMinimal}});var n=i(1265),a=i(1268)},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.isPublisherBelongToUser=function(){return a.default.data.isOwner},t.isMicroPost=function(){return!(!a.default||!a.default.data)&&a.default.data.isMicroPost};var a=n(i(10))},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.articleReducer=void 0;var a=i(59),o=i(526),r=i(1270),s=i(1271),l=i(530),c=n(i(728)),d=i(729),u=i(371),p=i(527),m=n(i(456)),h=i(503),f=i(721),g=i(843),b=i(711),_=n(i(528)),v=n(i(531)),y=i(332),S=n(i(505)),I=i(471),T=n(i(1272)),P=n(i(483)),E=n(i(484)),C=i(473),A=i(619),k=i(1026),O=i(891),L=i(1273),w=i(883),D=i(1029);const R=(0,a.combineReducers)({accessData:o.accessData,url:C.url,preferences:v.default,feedback:h.feedback,publisher:I.publisher,profile:y.profile,publication:S.default,notification:_.default,similarArticles:T.default,experiments:m.default,statData:E.default,comments:c.default,social:d.social,config:u.config,featureConfig:p.featureConfig,smsPopup:P.default,zenUserData:A.zenUserData,appButton:s.appButton,language:b.language,header:f.header,images:g.images,clients:l.clients,statPixels:k.statPixels,adArticle:r.adArticle,publicationUtmConfig:O.publicationUtmConfig,articleFeedback:L.articleFeedback,campaignFlight:w.campaignFlight,user:D.user});t.articleReducer=R},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ZenHeader",{enumerable:!0,get:function(){return n.ZenHeader}});var n=i(1274)},function(e,t,i){},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='16' height='14' viewBox='0 0 16 14' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath fill='%23000' d='M10 0h2v14h-2V0zM0 0h8v14H0V0zm2 2v10h4V2H2zm12-2h2v14h-2V0z' /%3E %3C/g%3E %3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='28' height='28' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M5 21h18v2H5z'/%3E%3Ccircle cx='14' cy='12' r='6' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd' transform='translate(-1 -1)'%3E %3Ccircle cx='9' cy='9' r='7' stroke='%23000' stroke-width='2' /%3E %3Cpath stroke='%23000' stroke-linecap='square' stroke-width='2' d='M4.5 13.5l9.055-9.055' /%3E %3C/g%3E %3C/svg%3E\""},function(e,t,i){},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YANDEX_ZEN_PUBS_OFFER=t.YANDEX_COVID19=t.YANDEX_MONEY_QUICKPAY=t.YANDEX_FORMS_MAIN=t.CAPTCHA_URL=t.TERMS_OF_USE=t.PASSPORT_EMAILS=void 0,t.PASSPORT_EMAILS="https://passport.yandex.ru/profile/emails/list",t.TERMS_OF_USE="https://yandex.ru/legal/zen_termsofuse/",t.CAPTCHA_URL="https://ext.captcha.yandex.net/image",t.YANDEX_FORMS_MAIN="https://forms.yandex.ru/admin/myforms",t.YANDEX_MONEY_QUICKPAY="https://money.yandex.ru/quickpay/",t.YANDEX_COVID19="https://yandex.ru/covid19",t.YANDEX_ZEN_PUBS_OFFER="https://yandex.com/legal/zen_publishersoferta_ch/"},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.YandexMarketWidget=void 0;var o=a(i(2)),r=n(i(0)),s=i(79),l=i(877);const c=(0,r.memo)(({className:e,containerId:t,config:i,onWidgetInit:n,withWidgetInit:a,customLog:r})=>((0,s.useMounted)(()=>{a&&(0,l.createWidget)(t,i).then(e=>{null===n||void 0===n||n(e)}).catch(e=>{null===n||void 0===n||n()})}),(0,o.default)("div",{"data-custom-log":r,id:t,className:e})),()=>!0);t.YandexMarketWidget=c},,,,,function(e,t,i){"use strict";function n({disabled:e,adBlock:t,adContent:i,block:n,themeTags:a,isAdArticle:o}){const r=n&&n.embedData&&n.embedData.data;r&&(r.type===f.EmbedType.Direct?(i?(r.blockId=i.blockId,r.data=i.data):t&&t.rsyaAdData&&(r.blockId=t.rsyaAdData.blockId,r.statId=t.rsyaAdData.statId),a&&(r.themeTags=a),r.disabled=e,r.isAdArticle=o):r.type===f.EmbedType.Adfox&&t&&t.adfoxAdData&&(r.frameId=t.adfoxAdData.frameId,r.ownerId=t.adfoxAdData.ownerId,r.params=t.adfoxAdData.params,r.isAdArticle=o,r.disabled=e))}function a(e,t){if(0===e.entityRanges.length&&0===e.inlineStyleRanges.length)return[{text:e.text,styleData:{isBold:!1,isItalic:!1,isUnderline:!1,isStrike:!1,isLink:!1,linkHref:"",isUnstyledHashTag:!1}}];const i=o(e,t),n=r(i),a=[],c=new Map;for(let e=0;e<n.length;e++){const t=n[e],{point:o,ref:r}=t,l=[r];let d=n[e+1];for(;d&&d.point===o;)e+=1,l.push(d.ref),d=n[e+1];if(!d)break;for(const e of l){const t=c.get(e)||0;c.set(e,t+1)}const u=s(c,i);a.push({startPoint:o,endPoint:d.point,styleData:u})}return l(e.text,a)}function o(e,t){return e.entityRanges.map(e=>({key:e.key,offset:e.offset,length:e.length,style:"unstyled",url:t[e.key].data.url,meta:t[e.key].data.meta,type:t[e.key].type})).concat(e.inlineStyleRanges||[],{offset:0,length:e.text.length,style:"unstyled"})}function r(e){const t=Array(e.length);let i=0;return e.forEach(({offset:e,length:n},a)=>{t[i++]={point:e,ref:a},t[i++]={point:e+n,ref:a}}),t.sort((e,t)=>e.point-t.point)}function s(e,t){const i={isBold:!1,isItalic:!1,isUnderline:!1,isStrike:!1,isLink:!1,linkHref:"",isUnstyledHashTag:!1};for(const[n,a]of e){const e=t[n];a<2&&(function(e,t){e.isBold=e.isBold||t===m.DraftStyle.bold,e.isItalic=e.isItalic||t===m.DraftStyle.italic,e.isStrike=e.isStrike||t===m.DraftStyle.strike,e.isUnderline=e.isUnderline||t===m.DraftStyle.underline}(i,e.style),e.type===h.Entity.LINK&&(i.isLink=!0,i.linkHref=e.url,i.meta=e.meta)),e.type===h.Entity.HASHTAG_TEXT&&(i.isUnstyledHashTag=!0)}return i}function l(e,t){const i=t.length,n=new Array(i);let a=0;for(let r=0;r<i;r++){const{startPoint:i,endPoint:s,styleData:l}=t[r],c=i+a;let d="",p=c,m=s+a;for(var o=c;o<m;){const t=(0,u.fixedCharAt)(e,o);if(t&&1!==t.length){const i=t.length,n=i-1,r=o+i;d+=e.slice(p,r),p=r,o+=i,a+=n,m+=n}else o++}d+=e.substring(p,m),n[r]={text:d,styleData:l}}return n}function c(e,t,i){const n=(0,d.getImageData)(e.id,t);if(!n)return;const a=n.sizes.scale_1200||{width:600,height:600},o=e=>(0,d.formatAvatarsUrl)(n,e,i);return{id:e.id,orig:o("orig"),url:o("scale_600"),urlX1m:o("scale_360"),urlX1_5m:o("scale_540"),urlX2m:o("scale_720"),urlX1:o("scale_600"),urlX2:o("scale_1200"),imageName:n.imageName,mainColor:(0,d.getAvatarsColor)(e,t),height:a.height,width:a.width,isGif:Boolean(n.meta&&"GIF"===n.meta.origFormat)}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertToRenderPublication=function({contentState:e,imagesDict:t,options:i,hasRightAdBlock:o,adData:r,adContent:s,themeTags:l,marketWidgetConstructorInfo:d,isAdArticle:u,isEdaIntegration:m=!1}){const h=[],_=[];let v;for(let n=0;n<e.blocks.length;n++){const o=e.blocks[n],r=0===n||e.blocks[n-1].type!==o.type;v&&!r||(v={type:o.type,items:[]},h.push(v));const s=i.isLazy&&n>=b,l=Boolean(o.type===g.AtomicImage&&o.data&&(o.data.image||o.data.images)),{data:u}=o;if(!u)continue;const{image:m,images:y,contents:S}=u,I=y&&y.length>0?[m,...y.slice(1)]:[m];let T=!1;const P=l?I.reduce((e,n)=>{const a=S&&S[n.id],o=c(n,t,i);return o?(o.isGif&&(T=!0),e.concat({content:a,...o})):e},[]):[],E=function(e,{iframeHost:t}){const i=e.data&&e.data.embedData;if(i)return{iframeHost:t,data:i}}(o,i),C={type:o.type,key:o.key,isLazy:s,isMobile:i.isMobile,imagesData:P,imageData:P&&P[0],embedData:E,og:i.og,entities:a(o,e.entityMap),hasLazyGif:n>=i.blocksWithNonLazyGifsCount&&T,avatarsHost:i.avatarsHost};E&&([f.EmbedType.Adfox,f.EmbedType.Direct].includes(E.data.type)?_.push(C):E.data.type===f.EmbedType.YandexMarketProduct&&(0,p.initMarketEmbedData)(E.data,d)),v.items.push(C)}const[y,S]=_.reverse();if(r||s){const{topAdv:e,bottomAdv:t}=r||{},{topBlock:i,bottomBlock:a}=s||{};n({disabled:o||m,adBlock:e,adContent:i,block:S,themeTags:l,isAdArticle:u}),n({disabled:m,adBlock:t,adContent:a,block:y,themeTags:l,isAdArticle:u})}return{groups:h}},t.getEntities=a,t.getStyleEntities=o,t.getSections=r,t.getStyleData=s,t.getStyledTextBlocks=l,t.toImageData=c,t.getImageSources=function({imageData:e,isMobile:t}){if(!e)return null;const{isGif:i}=e;let n,a,o;return i?(n=e.orig,o=e.url,a=void 0):t?(n=e.urlX1,a=`${e.urlX1} 1x, ${e.urlX2} 2x`):(n=e.urlX2,a=""),{src:n,srcSet:a,previewSrc:o}},t.BlockType=void 0;var d=i(23),u=i(31),p=i(1024),m=i(92),h=i(142),f=i(220);let g;t.BlockType=g,function(e){e.Unstyled="unstyled",e.HeaderTwo="header-two",e.HeaderThree="header-three",e.Blockquote="blockquote",e.UnorderedListItem="unordered-list-item",e.OrderedListItem="ordered-list-item",e.AtomicImage="atomic:image",e.AtomicEmbed="atomic:embed",e.AtomicAd="atomic:ad",e.Opinion="opinion",e.Marker="marker",e.InterestTags="interest-tags"}(g||(t.BlockType=g={}));const b=5},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalRoutes=void 0,i(0);let n;t.ModalRoutes=n,function(e){e.Channels="/channels",e.Subs="/subs",e.Blocked="/blocked",e.Search="/search",e.About="/about",e.Passport="PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY"}(n||(t.ModalRoutes=n={}))},,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleStat",{enumerable:!0,get:function(){return n.ArticleStat}});var n=i(1025)},function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.ActionOnIntersectionWrapper=function({children:e,onIntersect:t,className:i}){const n=(0,a.useRef)(null);return(0,o.useMounted)(()=>{const e=(0,r.initIntersectionObserver)(([e],i)=>{n.current&&e.isIntersecting&&(i.unobserve(n.current),t())},{threshold:0,rootMargin:"0px"}).then(e=>(n.current&&e.observe(n.current),e));return()=>{e.then(e=>{e&&e.disconnect()})}}),a.default.createElement("div",{ref:n,className:i},e)};var a=n(i(0)),o=i(79),r=i(143)},,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleAlert",{enumerable:!0,get:function(){return n.ArticleAlert}}),Object.defineProperty(t,"ArticleAlertIcon",{enumerable:!0,get:function(){return n.ArticleAlertIcon}});var n=i(1242)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAdArticle=function({publisherId:e,adArticleId:t,adFlightId:i,rid:s}){return l=>(0,n.fetchPublicationData)({publisherId:e,publicationId:t,flightId:i,rid:s}).then(e=>{const{data:{images:t}}=e;return l((0,a.addImagesFromMap)(t)),(0,o.addImagesToDict)(t),l({type:r.adArticleDataLoaded,payload:{data:e}}),e}).catch(()=>void 0)},t.AdArticleActionType=void 0;var n=i(301),a=i(110),o=i(23);let r;t.AdArticleActionType=r,(r||(t.AdArticleActionType=r={})).adArticleDataLoaded="AD_ARTICLE_DATA_LOADED"},,,,,,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleAlert=function(e){const{children:t,containerClassName:i="",icon:n=r.Attention,isMobile:o}=e;return(0,a.default)("div",{className:s({isMobile:o,type:n},[i])},void 0,(0,a.default)("span",{className:l("icon",{type:n})}),(0,a.default)("div",{},void 0,t))},t.ArticleAlertIcon=void 0;var a=n(i(2)),o=(n(i(0)),i(9));i(1243);let r;t.ArticleAlertIcon=r,function(e){e.Attention="attention",e.Info="info",e.Covid19="covid19"}(r||(t.ArticleAlertIcon=r={}));const{bl:s,el:l}=(0,o.createBlock)("article-alert")},function(e,t,i){},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CallToActionLazy=void 0;var a=n(i(14)),o=n(i(0)),r=i(1246),s=i(784);t.CallToActionLazy=(e=>{const{callToLinkData:t,isMobile:n}=e,l=(0,r.useCallToActionType)({callToLinkData:t,isMobile:n});return l?o.default.createElement(s.LazyComponent,(0,a.default)({getRenderedComponent:({CallToActionContainer:e},t)=>o.default.createElement(e,t),getImportStatement:()=>i.e(23).then(i.t.bind(null,1771,7)),skipInShadowWebview:!0,loadTimeout:500,c2aType:l},e)):null})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCallToActionType=void 0;var n=i(18),a=i(313),o=i(27);t.useCallToActionType=(({callToLinkData:e,isMobile:t})=>{const{canWrite:i}=(0,a.useAccess)();return(0,n.useSelector)(n=>{const{experiments:a}=n,{isArticleCallToActionEnabled:r,articleCallToSubscribe:s,mobileArticleCallToSubscribe:l}=a,{isEnabled:c}=s||{},{isEnabled:d}=l||{};return r&&e?o.PublicationCallToActionType.link:(t?d:c)&&!i?o.PublicationCallToActionType.subscribe:null})})},,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsCount=void 0;var o=a(i(2)),r=n(i(0)),s=i(83),l=i(8),c=i(31),d=i(9);i(1162);const{bl:u,el:p}=(0,d.createBlock)("comments-count"),m=[(0,l.lang)('fb58245b'),(0,l.lang)('fe6a747e'),(0,l.lang)('2d5f8851')],h=(0,r.memo)(e=>{const{commentsCount:t,onClick:i,isLoaded:n}=e,a=(0,c.getNumeral)(t,m);return(0,o.default)("div",{className:u({loaded:n}),onClick:i},void 0,(0,o.default)("span",{className:p("icon")}),(0,o.default)("span",{className:p("count")},void 0,(0,s.addNoBreakingSpaces)(`${t||(0,l.lang)('524f8a97')}&nbsp;${a}`)))});t.CommentsCount=h},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsCounter=void 0;var o=a(i(2)),r=n(i(0)),s=i(1008),l=i(9);i(1163);const{bl:c}=(0,l.createBlock)("comments-counter"),d=(0,r.memo)(e=>{const{commentsCount:t,onClick:i=(()=>{}),isLoaded:n,isNarrative:a,color:r}=e,l={loaded:n,narrative:a};return(0,o.default)("div",{className:c(l),onClick:i},void 0,(0,o.default)(s.CommentsIcon,{viewType:"border",count:t,withPlusIfZero:!0,backgroundColor:r}))});t.CommentsCounter=d},function(e,t,i){"use strict";function n(){}var a=i(3),o=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Mittens=t.MittenType=void 0;var r=o(i(2)),s=a(i(0)),l=i(346),c=i(9),d=i(32);i(1164);let u;t.MittenType=u,function(e){e.light="light",e.default="default"}(u||(t.MittenType=u={}));const{bl:p,el:m}=(0,c.createBlock)("mittens"),h=(0,s.memo)(({isLiked:e,isDisliked:t,isVertical:i,onLike:a,onDislike:o,hasReverseOrder:c,mittenSize:u=d.Sizes.l,type:h,areAnimated:f})=>{const g={vertical:i,size:u,type:h},b=(0,s.useRef)(null),_=u===d.Sizes.s?d.Sizes.m:u,v=(0,r.default)("div",{className:m("mitten",{like:!0,...g}),onClick:n},void 0,s.default.createElement(l.Mitten,{className:m("mitten-button",{animated:f}),size:_,onClick:a,type:"like",state:e?"active":"passive",ref:b,iconClassName:m("icon",{size:u,type:h,passive:!e})})),y=(0,r.default)("div",{className:m("mitten",{dislike:!0,...g}),onClick:n},void 0,(0,r.default)(l.Mitten,{className:m("mitten-button",{animated:f}),onClick:o,type:"dislike",state:t?"active":"passive",size:_,iconClassName:m("icon",{size:u,type:h,passive:!t})}));return(0,r.default)("div",{className:p(g)},void 0,c?y:v,(0,r.default)("div",{className:m("divider",g)}),c?v:y)});t.Mittens=h},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.LikesCount=void 0;var o=a(i(2)),r=a(i(11)),s=n(i(0)),l=a(i(318)),c=a(i(168)),d=a(i(259)),u=i(540),p=i(1266),m=i(83),h=i(87),f=i(284),g=i(8),b=i(9),_=i(32);i(1166);const v=2,y=14,S=3,{bl:I,el:T}=(0,b.createBlock)("likes-count"),P={NORMAL:22,MOBILE:18,SMALL:12,NARRATIVE:20},E=300;class C extends s.PureComponent{constructor(...e){super(...e),(0,r.default)(this,"state",{isPopupOpen:!1,avatarUrls:[]}),(0,r.default)(this,"countBlockRef",s.default.createRef()),(0,r.default)(this,"setVisiblePopup",(0,h.debounce)(()=>{this.setState({isPopupOpen:!0})},500)),(0,r.default)(this,"handleMouseEnter",()=>{this.setVisiblePopup()}),(0,r.default)(this,"handleMouseLeave",()=>{this.setVisiblePopup.cancel(),this.setState({isPopupOpen:!1})}),(0,r.default)(this,"setNewLikers",(0,f.throttle)(e=>{this.setState({avatarUrls:e})},1.1*E))}updateAvatarUrls(e){const{size:t,isLiked:i,isMobile:n,userAvatarUrl:a,otherUsersAvatarUrls:o,numberOfAvatars:r}=e,s=r||(t===_.Sizes.s||n?v:S),l=(i?[...o,a]:o).slice(-s);this.setNewLikers(l)}componentWillReceiveProps(e){this.updateAvatarUrls(e)}componentDidMount(){this.updateAvatarUrls(this.props)}render(){const{size:e,position:t,likesCount:i,isLiked:n,isMobile:a,hasOnlyUnauthorizedLikes:r,onClick:h,isLoaded:f,otherTopLikers:b,currentUser:v,isNarrative:S}=this.props,{avatarUrls:C}=this.state,A=n?[v,...b]:b,k=new Map([[a&&!i,(0,g.lang)('e2062b80')],[!a&&!i&&e===_.Sizes.s,(0,g.lang)('913afa31')],[!a&&!i&&e===_.Sizes.m,(0,g.lang)('9546e95e')],[n&&(i<=1||!i)&&e!==_.Sizes.s,(0,g.lang)('71510d8a')],[n&&(0===i||!i)&&e===_.Sizes.s,`1&nbsp;${(0,g.lang)('6175da7d')}`],[!(!i||n&&i<=1&&e!==_.Sizes.s),`${i}&nbsp;${(0,g.lang)('6175da7d')}`]]),O=!a&&e===_.Sizes.s&&!n&&(r||!i),L={size:e,mobile:a,onelike:C.length<=1,position:t};let w=S?P.NARRATIVE:P.NORMAL;a?w=P.MOBILE:e===_.Sizes.s&&(w=P.SMALL);const D=C.length>0?C.length*w+y:0,R="right"===t&&e===_.Sizes.s?null:D;return s.default.createElement(s.default.Fragment,null,(0,o.default)("div",{className:I({loaded:f,narrative:S,"no-likes":!i}),onClick:h,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,(0,o.default)(l.default,{transitionName:`likes-count__avatar_${n?"liked":"unliked"}`,transitionEnter:!0,transitionEnterTimeout:E,transitionLeave:!0,transitionLeaveTimeout:E,component:"div",className:T("avatars",L),style:{width:R}},void 0,C.length>0?C.map((e,t)=>(0,o.default)("div",{className:T("avatar",L),style:{left:w*(C.length-t-1)}},e,(0,o.default)(c.default,{src:e,isUploadable:!1}))):O&&(0,o.default)("div",{className:T("avatar",{...L,"unknown-user":!0})},void 0,(0,o.default)("div",{className:T("unknown-user",L)},"placeholder"))),s.default.createElement("span",{className:T("count",L),ref:this.countBlockRef},(0,m.addNoBreakingSpaces)(k.get(!0)||""))),A.length>0&&(0,o.default)(d.default,{className:T("tip-popup"),containerClassName:T("tip-block"),targetElem:this.countBlockRef.current,isOpen:this.state.isPopupOpen&&!a,side:u.PopupElementSide.bottom,position:u.PopupElementPosition.center,withCloseButton:!1,withTail:!1,isWhiteBackground:!1},void 0,(0,o.default)(p.LikersList,{likers:A,likesCount:i})))}}t.LikesCount=C,(0,r.default)(C,"defaultProps",{otherUsersAvatarUrls:[],otherTopLikers:[],currentUser:{}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LikersList",{enumerable:!0,get:function(){return n.LikersList}});var n=i(1267)},function(e,t,i){"use strict";function n(e){return(0,o.default)("div",{className:l("item")},void 0,e.name)}var a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.LikersList=function({likers:e,likesCount:t}){if(!e)return null;const i=t-e.length;return(0,o.default)("div",{className:s()},void 0,e.map(e=>(0,o.default)(n,{name:e.name},e.uid)),i>0&&(0,o.default)("span",{className:l("more")},void 0,"и еще ",i))};var o=a(i(2)),r=(a(i(0)),i(9));i(1165);const{bl:s,el:l}=(0,r.createBlock)("likers-list")},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.LikesCountMinimal=void 0;var a=n(i(2)),o=(n(i(0)),n(i(168))),r=i(9),s=i(8),l=i(31);i(1167);const{bl:c,el:d}=(0,r.createBlock)("likes-count-minimal");t.LikesCountMinimal=(({likesCount:e,isLiked:t,userAvatarUrl:i,otherUsersAvatarUrls:n,onClick:r,isLoaded:u})=>{if(0===e&&!t)return null;const p=((e,t,i)=>i&&""!==e?[e,...t.slice(-1).reverse()]:t.slice(-2).reverse())(i,n,t),m=t&&0===e?1:e,h=m>1e4?(0,l.getStatText)(e,` ${(0,s.lang)('6ea5f454')}`,` ${(0,s.lang)('87e1c52e')}`):m;return(0,a.default)("div",{className:c({visible:u}),onClick:r},void 0,(0,a.default)("div",{className:d("avatars")},void 0,p.map((e,t)=>(0,a.default)("div",{className:d("avatar"),style:{zIndex:p.length-t}},t,(0,a.default)(o.default,{src:e,isUploadable:!1},e)))),(0,a.default)("span",{className:d("count")},void 0,h))})},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ShareList=t.networkButtonCaptions=void 0;var o=a(i(2)),r=a(i(11)),s=n(i(0)),l=a(i(259)),c=i(9),d=i(8),u=i(867),p=i(87),m=i(29),h=i(32);i(1168);const{bl:f,el:g}=(0,c.createBlock)("share-list"),b={[m.ShareType.fb]:(0,d.lang)('009347de'),[m.ShareType.vk]:(0,d.lang)('007c9083'),[m.ShareType.ok]:(0,d.lang)('9710924f'),[m.ShareType.tw]:(0,d.lang)('37242f98'),[m.ShareType.tg]:(0,d.lang)('44e6ec07'),[m.ShareType.whatsapp]:(0,d.lang)("social_networks.whatapps"),[m.ShareType.link]:(0,d.lang)('c5526e59'),linkCopied:(0,d.lang)('207e74c8'),[m.ShareType.vb]:(0,d.lang)('fcc6949f')};t.networkButtonCaptions=b,t.ShareList=class extends s.Component{constructor(...e){super(...e),(0,r.default)(this,"state",{currentIcon:void 0,linkCopied:!1,isVisiblePopup:!1}),(0,r.default)(this,"domRefs",{}),(0,r.default)(this,"popupRef",s.default.createRef()),(0,r.default)(this,"closePopup",()=>{this.setState({currentIcon:void 0,linkCopied:!1,isVisiblePopup:!1})}),(0,r.default)(this,"setVisiblePopup",(0,p.debounce)(()=>{this.setState({isVisiblePopup:!0})},500)),(0,r.default)(this,"openPopup",e=>{this.setState({currentIcon:e,isVisiblePopup:!1}),this.setVisiblePopup()}),(0,r.default)(this,"handleCopied",()=>{this.setState({linkCopied:!0},()=>this.updatePopupPosition())})}updatePopupPosition(){this.popupRef.current&&this.popupRef.current.recalculatePosition()}render(){const{icons:e,url:t,description:i,color:n,isCircle:a,isMobile:r,itemClass:c,onClick:d,itemClassPrefix:p,containerClassName:m,withLargeIcons:_=!1,isNarrative:v,image:y,title:S,isColored:I,socialShareShortLinkExperiment:T}=this.props,{linkCopied:P,isVisiblePopup:E}=this.state,C=this.state.currentIcon,A="link"===C;let k=C&&b[C];return A&&P&&(k=b.linkCopied),(0,o.default)("div",{className:f()},void 0,(0,o.default)("div",{className:m},void 0,e.map(e=>s.default.createElement("div",{key:e,className:g("network",{type:e,mobile:r},[c,p?`${p}_type_${e}`:""]),onMouseEnter:()=>this.openPopup(e),ref:t=>this.domRefs[e]=t,onMouseLeave:this.closePopup,onClick:A?this.handleCopied:void 0},(0,o.default)(u.NetworkShare,{networkName:e,name:e,url:t,title:S,description:i,image:y,onClick:d,isMobile:r,color:n,isCircle:a,isColored:I,withLargeIcons:_,size:_?h.Sizes.xl:h.Sizes.m,withOpacity:v,socialShareShortLink:T})))),r||(0,o.default)(l.default,{className:g("top-popup"),containerClassName:g("tip-block"),targetElem:C?this.domRefs[C]:void 0,isOpen:!!C&&E,side:"top",position:"center",withCloseButton:!1,withTail:!1,isWhiteBackground:!1,close:this.closePopup,setPopupBaseRef:this.popupRef},void 0,k))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adArticle=function(e=a,t){switch(t.type){case n.AdArticleActionType.adArticleDataLoaded:return{...e,data:t.payload.data};default:return e}};var n=i(1232);const a={}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appButton=function(e=a,t){switch(t.type){case n.SET_APP_BUTTON_VISIBILITY:{const{isVisible:i}=t;return{...e,isVisible:i}}case n.SET_APP_BUTTON_TIMEOUT:{const{isTimeout:i}=t;return{...e,isTimeout:i}}default:return e}};var n=i(1036);const a={isTimeout:!0,isVisible:!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=a,t){switch(t.type){case n.SimilarArticlesActions.PUBLISHER_SUGGESTED_LOADED:return{...e,publisherSuggested:[...e.publisherSuggested,...t.data.items.map(e=>({...e,itemId:e.item_id,publisherItemId:e.publisher_item_id}))]};case n.SimilarArticlesActions.INTEREST_SUGGESTED_LOADED:return{...e,interestSuggested:[...t.data.items.map(e=>({...e,itemId:e.item_id,publisherItemId:e.publisher_item_id}))],interest:t.data.interest};default:return e}};var n=i(1115);const a={publisherSuggested:[],interestSuggested:[]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.articleFeedback=function(e=n){return e};const n={questionsMap:{},initialQuestion:void 0}},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ZenHeader=void 0;var a=n(i(14)),o=n(i(2)),r=n(i(11)),s=n(i(0)),l=i(1031),c=i(669),d=i(672),u=i(1030),p=i(1032),m=i(1033),h=i(1275),f=i(1210),g=i(1034),b=i(1277),_=i(9),v=i(8),y=i(36),S=i(7),I=i(10),T=i(35),P=i(284),E=i(888),C=n(i(1195)),A=n(i(887)),k=n(i(1196)),O=n(i(1197));i(1198);var L=i(22);(0,b.patchNotifier)();const w=(0,y.isIE11)(),{bl:D,el:R}=(0,_.createBlock)("zen-header"),M=(0,m.betterCreateHeaderItem)(l.Notifier),N=(0,m.betterCreateHeaderItem)(u.MessengerContainer);var U=(0,o.default)("div",{className:"with-notifier"},void 0,(0,o.default)(M,{isOpened:!1,withNoBottomMargin:!1}));t.ZenHeader=class extends s.default.Component{constructor(...e){super(...e),(0,r.default)(this,"state",{rezenModalRoute:"/",inDotsElementsCount:0,hasScrollOffset:!1}),(0,r.default)(this,"handleWindowScroll",(0,P.throttle)(()=>{const{hasScrollOffset:e}=this.state;0===window.pageYOffset&&e?this.setState({hasScrollOffset:!1}):window.pageYOffset>0&&!e&&this.setState({hasScrollOffset:!0})},100)),(0,r.default)(this,"handleClose",()=>{this.openModal("/")}),(0,r.default)(this,"handleClickRegistration",e=>{const{publisher:t}=this.props;e.preventDefault(),(0,T.sendStatEvent)({event:"auth_click",place:"publisher_header",item_id:T.InterfaceElementToBulkItemIdMap.signUpHeader,item_type:"interface_element",source_type:"publisher",source_id:t&&t.itemId}),(0,S.openRegistrationPage)({headerLogin:"sign_up"})}),(0,r.default)(this,"handleClickLogin",e=>{const{publisher:t}=this.props;e.preventDefault(),(0,T.sendStatEvent)({event:"auth_click",place:"publisher_header",item_id:T.InterfaceElementToBulkItemIdMap.signInHeader,item_type:"interface_element",source_type:"publisher",source_id:t&&t.itemId}),(0,S.openAuthPage)({headerLogin:"sign_in"})}),(0,r.default)(this,"openModal",e=>this.setState({rezenModalRoute:e})),(0,r.default)(this,"openBlocked",()=>this.openModal(f.ModalRoutes.Blocked)),(0,r.default)(this,"openAbout",()=>this.openModal(f.ModalRoutes.About)),(0,r.default)(this,"openPassport",()=>this.openModal(f.ModalRoutes.Passport))}componentDidMount(){window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}componentWillUnmount(){window.removeEventListener("scroll",this.handleWindowScroll)}get authorizedProfileConfig(){const{user:e,isNewArticleShare:t,isHeaderAvatarUploadable:i}=this.props,n=e&&e.displayName||e&&e.login||(0,v.lang)('47539a7f'),a=e&&e.avatar&&e.avatar.avatarUrl||(0,S.getDefaultAvatarUrl)({});return{isAuthorized:!0,isUploadable:i&&(0,E.testDefaultAvatar)(a),onOpenPassportModal:this.openPassport,name:n,avatar:a,renderItems:()=>s.default.createElement(s.default.Fragment,null,t&&(0,o.default)(p.SafeLinkHeaderPopupItem,{hideNofollow:!1,hideNoopener:!1,href:(0,S.toUserProfile)(),icon:k.default},void 0,(0,v.lang)('043e95b4')),(0,o.default)(p.SafeLinkHeaderPopupItem,{hideNofollow:!1,hideNoopener:!1,href:L.PATHS.LOGIN_PAGE,icon:C.default},void 0,(0,v.lang)('b88ffe03')),(0,o.default)(p.HeaderPopupItem,{onClick:this.openBlocked,icon:O.default},void 0,(0,v.lang)('b51dc837')),(0,o.default)(p.HeaderPopupItem,{onClick:this.openAbout,icon:A.default},void 0,(0,v.lang)('925b281d'))),renderExitItem:()=>(0,o.default)(p.LinkHeaderPopupExitItem,{href:(0,S.toLogoutUrl)()||""},void 0,(0,v.lang)('82117155'))}}get profileConfig(){const{user:e}=this.props;return e?this.authorizedProfileConfig:void 0}unauthorizedProfileButtons(){return s.default.createElement(s.default.Fragment,null,(0,o.default)("button",{className:R("right-link"),onClick:this.handleClickRegistration},void 0,(0,v.lang)('e72a3591')),(0,o.default)("button",{className:R("right-link"),onClick:this.handleClickLogin},void 0,(0,v.lang)('8a053021')))}profile2(){const{profileConfig:e}=this;return e&&e.isAuthorized?s.default.createElement(d.ProfileButton,(0,a.default)({},e,{iconSize:40})):this.unauthorizedProfileButtons()}headerRightItems(){const{noNotifier:e=!1,user:t,nonce:i,isHeaderMessengerEnabled:n,headerMessengerTimeout:a,messengerDevUrl:r,messengerUnreadUrl:l}=this.props;return s.default.createElement(s.default.Fragment,null,(0,o.default)("div",{className:R("messenger-stub")},void 0,n?(0,o.default)(N,{isAuthorized:void 0!==t,nonce:i,isOpened:!1,className:R("no-opacity"),headerMessengerTimeout:a,messengerDevUrl:r,messengerUnreadUrl:l}):null),(!w||!e)&&U,this.profile2())}headerItems(){const{isDesktopArticleHeaderPlaceholderExp:e,isDesktopArticleHeaderPlaceholderV0Exp:t,language:i}=this.props;return(0,o.default)(h.SearchDropdown,{language:i,isDesktopArticleHeaderPlaceholderExp:e,isDesktopArticleHeaderPlaceholderV0Exp:t})}render(){const{tld:e,pageType:t,language:i,loadUser:n,loadAppPromise:a}=this.props,{hasScrollOffset:r}=this.state,s={lang:i,tld:e},l="article"===t;return(0,o.default)("div",{className:D({article:l})},void 0,!I.isSSR&&(0,o.default)(g.LoadableRezenModal,{language:i,route:this.state.rezenModalRoute,onClose:this.handleClose,loadUser:n,loadAppPromise:a,withPromoNewSearch:!0}),(0,o.default)(c.Header2,{logo:s,shadowOpacity:r?1:0,items:this.headerItems(),rightItems:this.headerRightItems(),height:72}))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SearchDropdown",{enumerable:!0,get:function(){return n.SearchDropdown}});var n=i(1276)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchDropdown=void 0;var o=a(i(2)),r=n(i(0)),s=i(264),l=i(9),c=i(10),d=i(8),u=i(32);i(1194);const p=(0,d.lang)('7cd1f5f9'),m=(0,d.lang)('fc96ad9f'),h=(0,d.lang)('7d38059d'),{bl:f}=(0,l.createBlock)("search-dropdown");t.SearchDropdown=(({isDesktopArticleHeaderPlaceholderExp:e,isDesktopArticleHeaderPlaceholderV0Exp:t,language:n})=>{const[a,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{c.isSSR||i.e(60).then(i.t.bind(null,1180,7)).then(({loadRezenBundle:e})=>e(n)).then(({DesktopSearchDropdown:e})=>l(()=>e)).catch(console.warn)},[n]);const d=e?t?h:m:p;return null===a||c.isSSR?(0,o.default)("div",{className:f()},void 0,(0,o.default)(s.SearchDropdown,{value:"",placeholder:d,size:u.Sizes.xl,isUnfolded:!1})):(0,o.default)(a,{},void 0,({value:e,isUnfolded:t,onChange:i,onClear:n,onClose:a,onFocus:r,onBlur:l,searchResultsElement:c})=>(0,o.default)("div",{className:f()},void 0,(0,o.default)(s.SearchDropdown,{size:u.Sizes.xl,value:e,placeholder:d,isUnfolded:t,onChange:i,onClear:n,onClose:a,onFocus:r,onBlur:l},void 0,c)))})},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.patchNotifier=function(){o.default.declMod({target:"anchor"},{block:"popup2",_calcBestDrawingParams:function(e){let{anchor:t}=e;const i=this.__base.apply(this,arguments);t=a.default.findDOMNode(this._getAnchorDomNode(t));const n=this._getFirstFixedParent(t);if(n){let e=0,t=0;const n=this._getFirstFixedParent(this._scope);if(n){const i=n.getBoundingClientRect(),{left:a}=i,{top:o}=i;e=a,t=o}i.left-=window.pageXOffset-e,i.top-=window.pageYOffset-t}return this._style.popup.position=n?"fixed":"",i}})};var a=n(i(42)),o=n(i(37))},,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Sticky",{enumerable:!0,get:function(){return n.Sticky}});var n=i(1675)},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CarouselViewer",{enumerable:!0,get:function(){return n.CarouselViewer}}),Object.defineProperty(t,"CarouselViewerContainer",{enumerable:!0,get:function(){return n.CarouselViewerContainer}});var n=i(1389)},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PublicationStatus",{enumerable:!0,get:function(){return n.PublicationStatus}}),Object.defineProperty(t,"PublicationStatusProps",{enumerable:!0,get:function(){return n.PublicationStatusProps}}),Object.defineProperty(t,"CommonPublicationStatus",{enumerable:!0,get:function(){return a.CommonPublicationStatus}}),Object.defineProperty(t,"CommonPublicationStatusProps",{enumerable:!0,get:function(){return a.CommonPublicationStatusProps}});var n=i(1393),a=i(1179)},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parameterizedPositionAd",{enumerable:!0,get:function(){return n.parameterizedPositionAd}});var n=i(1412)},,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleCommentsObserver",{enumerable:!0,get:function(){return n.ArticleCommentsObserver}});var n=i(1586)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleRecommenderContainerLazy",{enumerable:!0,get:function(){return n.ArticleRecommenderContainerLazy}});var n=i(1587)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SubscribeStatusHoc",{enumerable:!0,get:function(){return n.SubscribeStatusHoc}});var n=i(1588)},,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Hashtag",{enumerable:!0,get:function(){return n.Hashtag}}),Object.defineProperty(t,"HashStar",{enumerable:!0,get:function(){return a.HashStar}}),Object.defineProperty(t,"TextHashtag",{enumerable:!0,get:function(){return o.TextHashtag}}),Object.defineProperty(t,"Tag",{enumerable:!0,get:function(){return r.Tag}});var n=i(1682),a=i(1685),o=i(1688),r=i(1689)},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return n.Carousel}});var n=i(1339)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Carousel=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(9),l=n(i(649)),c=i(23),d=i(1340),u=i(1177),p=i(1343);i(1289);const m=600,{bl:h,el:f}=(0,s.createBlock)("carousel");t.Carousel=class extends r.default.Component{constructor(e){super(e),(0,o.default)(this,"state",{currentIndex:0,dragging:!1,offsetX:0,hasTransition:!0,width:m,height:700}),(0,o.default)(this,"carouselListBlock",r.default.createRef()),(0,o.default)(this,"prevSlide",()=>{const{currentIndex:e}=this.state;0!==e?this.changeCurrentIndex(-1):this.restoreSliderPosition()}),(0,o.default)(this,"nextSlide",()=>{const{currentIndex:e}=this.state,{images:t}=this.props;e>=t.length-1?this.restoreSliderPosition():this.changeCurrentIndex(1)}),(0,o.default)(this,"handleKeyDown",e=>{const{isZoomable:t,onClose:i}=this.props;if(t)switch(e.key){case"ArrowLeft":this.prevSlide();break;case"ArrowRight":this.nextSlide();break;case"Escape":i&&i()}}),(0,o.default)(this,"handleDrag",e=>{const{width:t}=this.state,{images:i}=this.props,n=this.carouselListBlock.current;if(!n)return;const a=Math.max(-t*i.length+t/2,Math.min(t/2,1*e.deltaX-this.state.currentIndex*t));n.style.transform=`translate(${a}px, 0px)`}),(0,o.default)(this,"handleDragEnd",e=>{const{deltaX:t}=e,{width:i}=this.state;this.setState({dragging:!1});const n=Math.ceil(Math.abs(t/i));t>i*(1/15)?this.changeCurrentIndex(-n):t<1/15*-i?this.changeCurrentIndex(n):this.changeCurrentIndex(0)}),(0,o.default)(this,"handleDragStart",()=>{this.setState({dragging:!0})}),(0,o.default)(this,"handleClick",()=>{const{dragging:e}=this.state,{onClick:t}=this.props;!e&&t&&t()}),(0,o.default)(this,"updateSize",()=>{const{forceWidth:e,forceHeight:t,maxWidth:i=m}=this.props,{width:n,height:a}=e&&t?{width:e,height:t}:this.getCarouselSize(this.maxImage,i);this.setState({width:n,height:a},()=>this.restoreSliderPosition())});const{maxImage:t,images:i}=e;this.maxImage=t||(0,c.getImageScaledWithMaxHeight)(i)}changeCurrentIndex(e){const{onSlide:t,images:i}=this.props,{width:n}=this.state,a=this.carouselListBlock.current;if(!a)return;const o=Math.min(Math.max(0,this.state.currentIndex+e),i.length-1),r=o*n;a.style.transform=`translate(${-r}px, 0px)`,this.setState({currentIndex:o},()=>t&&t(this.state.currentIndex))}restoreSliderPosition(){this.changeCurrentIndex(0)}initGestures(){const{current:e}=this.carouselListBlock,{isEditor:t}=this.props;e&&!t&&new l.default({el:e,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,allowPanY:!0,startDragOnPointerDown:!1})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.initGestures(),this.updateSize()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){e.forceWidth===this.props.forceWidth&&e.forceHeight===this.props.forceHeight&&e.maxWidth===this.props.maxWidth||(this.setState({hasTransition:!1}),setTimeout(()=>{this.setState({hasTransition:!0})},500),this.updateSize()),this.props.maxImage&&this.props.maxImage!==this.maxImage&&(this.maxImage=this.props.maxImage)}getCarouselSize(e,t){const{width:i,height:n}=e?e.sizes.orig:{width:m,height:700};return{height:Math.max(180,Math.min(700,Math.min(n,n/(i/t)))),width:t}}getImageTitle(e){const{contents:t}=this.props;return t?t[e]:""}getWindowImages(e,t,i){const n=Math.max(0,t-Math.floor((i-1)/2)),a=Math.min(t+Math.ceil((i-1)/2)+1,e.length);return{windowImages:e.slice(n,a),startFrom:n,endTo:a}}handleMouseDown(e){e.preventDefault()}render(){const{images:e,isMobile:t,isZoomable:i,maxWidth:n=m,preloadImages:o=6,imagesDataDict:s,isEditor:l,isDisableDrag:g}=this.props,{currentIndex:b,hasTransition:_,dragging:v}=this.state,y=e[0],S=(0,c.getImageData)(y.id,s),{width:I,height:T}=this.state,P=Math.floor(I),E=Math.floor(T),C=i&&S?(0,c.findClosestBy)("width",n,S):"scale_1200",{windowImages:A,startFrom:k}=this.getWindowImages(e,b,o),O=i?u.CarouselArrowColor.white:u.CarouselArrowColor.black;return(0,a.default)("figcaption",{className:h({zoom:i,mobile:t}),style:{width:P,height:E},draggable:l},void 0,(0,a.default)("div",{className:f("outer")},void 0,r.default.createElement("div",{className:f("list"),ref:this.carouselListBlock,style:{width:I*e.length,transition:v||!_?"":"transform 0.5s ease"}},(0,a.default)("div",{className:f("inner"),onClick:this.handleClick},void 0,A.map((e,t)=>e&&(0,a.default)(d.CarouselItem,{size:C,positionX:I*(k+t),image:e,disableTransition:v||!_,title:this.getImageTitle(e.id),maxWidth:I,imagesDataDict:s,isDisableDrag:g},e.id))))),t||(0,a.default)("div",{className:f("arrows"),onMouseDown:this.handleMouseDown},void 0,(0,a.default)(p.CarouselArrowsList,{onNextSlide:this.nextSlide,onPrevSlide:this.prevSlide,color:O,images:e,currentSlideIndex:b})))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CarouselItem",{enumerable:!0,get:function(){return n.CarouselItem}});var n=i(1341)},function(e,t,i){"use strict";function n(e){const{size:t,image:i,width:n,height:a,title:o,imagesDataDict:l,isDisableDrag:d}=e,p=(0,s.useCallback)(e=>{d&&e.preventDefault()},[d]);if(t){const e=(0,c.getAvatarsUrl)(i,t,l);return(0,r.default)("img",{className:u("image"),role:"presentation",draggable:!d,src:e,alt:o,width:n,height:a,onMouseDown:p})}const m=(0,c.getAvatarsUrl)(i,"scale_600",l),h=(0,c.getAvatarsUrl)(i,"scale_1200",l);return(0,r.default)("img",{className:u("image"),role:"presentation",draggable:!d,src:m,srcSet:`${m} 1x, ${h} 2x`,alt:o,width:n,height:a,onMouseDown:p})}var a=i(3),o=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselItem=function(e){const{maxWidth:t,image:i,positionX:a,disableTransition:o,size:s,title:l,imagesDataDict:u,isDisableDrag:p}=e,m=(0,c.getImageData)(i.id,u);if(!m||!m.sizes)return null;const{width:h,height:f}=m.sizes.orig;return(0,r.default)("div",{className:d({transition:!o}),style:{transform:`translateX(${Math.floor(a)}px)`,width:Math.ceil(t)}},void 0,(0,r.default)(n,{width:h,height:f,size:s,image:i,title:l,imagesDataDict:u,isDisableDrag:p}))};var r=o(i(2)),s=a(i(0)),l=i(9),c=i(23);i(1287);const{bl:d,el:u}=(0,l.createBlock)("carousel-item")},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselArrow=function(e){const{direction:t,disabled:i,color:n,onClick:a}=e,[s,d]=(0,r.useState)(i);return(0,r.useEffect)(()=>{s&&!i&&d(!1)},[s,i]),(0,o.default)("button",{className:l({[t]:!0,disabled:i,color:n,hidden:s&&i}),onClick:a,onMouseMove:()=>{!s&&i&&d(!0)}},void 0,(0,o.default)("i",{className:c("icon")}))},t.CarouselArrowColor=t.CarouselArrowPosition=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(1288);const{bl:l,el:c}=(0,s.createBlock)("carousel-arrow");let d;t.CarouselArrowPosition=d,function(e){e.left="left",e.right="right"}(d||(t.CarouselArrowPosition=d={}));let u;t.CarouselArrowColor=u,function(e){e.white="white",e.black="black"}(u||(t.CarouselArrowColor=u={}))},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselArrowsList=function(e){const{images:t,color:i,onPrevSlide:n,onNextSlide:s,currentSlideIndex:l}=e,c=0===l,d=l>=t.length-1;return o.default.createElement(o.default.Fragment,null,(0,a.default)(r.CarouselArrow,{onClick:n,disabled:c,direction:r.CarouselArrowPosition.left,color:i}),(0,a.default)(r.CarouselArrow,{onClick:s,disabled:d,direction:r.CarouselArrowPosition.right,color:i}))};var a=n(i(2)),o=n(i(0)),r=i(1177)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CarouselNavs",{enumerable:!0,get:function(){return n.CarouselNavs}});var n=i(1345)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselNavs=function(e){const{onStartEditor:t,onDeleteCarousel:i,currentSlideIndex:n,countCarouselImages:o,isEditor:c}=e,d=`${n+1} ${(0,r.lang)('86a77153')} ${o||1}`;return(0,a.default)("div",{className:s({editor:c})},void 0,(0,a.default)("div",{className:l("column")},void 0,o>1&&(0,a.default)("div",{className:l("counter")},void 0,d),c&&(0,a.default)("button",{onClick:t,className:l("button")},void 0,(0,r.lang)('9c2debfa'))),(0,a.default)("div",{className:l("column")},void 0,c&&(0,a.default)("button",{onClick:i,className:l("remove-button"),title:(0,r.lang)('c0b1a55f')})))};var a=n(i(2)),o=(n(i(0)),i(9)),r=i(8);i(1290);const{bl:s,el:l}=(0,o.createBlock)("carousel-navs")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselViewerContainer=t.CarouselViewer=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(18),l=i(9),c=i(1390),d=i(1338),u=i(1344),p=i(23),m=i(912);i(1295);const{bl:h,el:f}=(0,l.createBlock)("carousel-viewer");class g extends r.default.PureComponent{constructor(e){super(e),(0,o.default)(this,"carouselViewerRef",r.default.createRef()),(0,o.default)(this,"carouselRef",r.default.createRef()),(0,o.default)(this,"state",{currentIndex:0,maxWidth:void 0,isZoomable:!1,disableZoom:!0}),(0,o.default)(this,"handleOverlayClick",({screenX:e})=>{const{zoomOverlay:t}=this.props,i=t?t.offsetWidth/2:0,n=this.carouselRef.current;n&&(e>i?n.nextSlide():n.prevSlide())}),(0,o.default)(this,"updateMaxWidth",()=>{const{isMobile:e}=this.props,t=this.carouselViewerRef.current;this.imgParamsForZoom=(0,m.getImageParams)(this.maxImageForZoom,e),t&&this.setState({maxWidth:t.clientWidth})}),(0,o.default)(this,"zoomToggle",e=>{const{zoomOverlay:t}=this.props;this.setState({isZoomable:e}),t&&(e?t.addEventListener("click",this.handleOverlayClick):t.removeEventListener("click",this.handleOverlayClick)),this.updateMaxWidth()}),(0,o.default)(this,"onSlide",e=>this.setState({currentIndex:e})),(0,o.default)(this,"handleSlideClick",()=>{this.zoomableImage&&this.zoomableImage.zoomToggle()}),(0,o.default)(this,"handleOnClose",()=>{this.zoomableImage&&this.zoomableImage.unzoomByHistory()});const{images:t,imagesDataDict:i,isMobile:n}=e;this.maxImage=(0,p.getImageScaledWithMaxHeight)(t,i),this.maxImageForZoom=(0,p.getImageWithMaxWidth)(t,i),this.imgParamsForZoom=(0,m.getImageParams)(this.maxImageForZoom,n)}initZoomable(){const{zoomOverlay:e,isMobile:t}=this.props,i=this.carouselViewerRef.current;i&&e&&!t&&(this.zoomableImage=new m.ZoomableImage(i,e,this.maxImageForZoom,t,!0),this.zoomableImage.onZoomToggle=this.zoomToggle)}componentDidMount(){window.addEventListener("resize",this.updateMaxWidth),this.updateMaxWidth(),this.initZoomable()}componentWillUnmount(){window.removeEventListener("resize",this.updateMaxWidth)}render(){const{isMobile:e,images:t,contents:i,imagesDataDict:n}=this.props,{currentIndex:o,isZoomable:s,maxWidth:l}=this.state,p=t[o],m=s?this.imgParamsForZoom.width:void 0,g=s?this.imgParamsForZoom.height:void 0,b=m&&g?{width:m,height:g}:{};return r.default.createElement("div",{className:h(),style:b,ref:this.carouselViewerRef},(0,a.default)(u.CarouselNavs,{currentSlideIndex:o,countCarouselImages:t.length,isEditor:!1}),r.default.createElement(d.Carousel,{images:t,onSlide:this.onSlide,isMobile:e,onClose:this.handleOnClose,maxWidth:l,forceWidth:m,forceHeight:g,isZoomable:s,isDisableDrag:!0,imagesDataDict:n,onClick:this.handleSlideClick,maxImage:this.maxImage,isEditor:!1,ref:this.carouselRef}),s||(0,a.default)("figcaption",{itemProp:"caption",className:f("caption",{mobile:e})},void 0,(0,a.default)(c.AutoHeightTransitionBlock,{},void 0,i[p.id])))}}t.CarouselViewer=g;const b=(0,s.connect)(e=>({imagesDataDict:e.images||{}}))(g);t.CarouselViewerContainer=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AutoHeightTransitionBlock",{enumerable:!0,get:function(){return n.AutoHeightTransitionBlock}});var n=i(1391)},function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.AutoHeightTransitionBlock=function({children:e,transitionBlockClassName:t}){const[i,n]=(0,r.useBooleanState)(!1),[l,p]=(0,r.useBooleanState)(!1),m=(0,a.useRef)(null),h=(0,a.useRef)(null);return(0,a.useEffect)(()=>{h.current&&m.current&&(h.current.style.height=`${m.current.scrollHeight}px`)},[e,i,l]),(0,o.useMounted)(()=>{var e,t;null===u||void 0===u||null===(e=u.fonts)||void 0===e||null===(t=e.ready)||void 0===t||t.then(()=>{n()})}),(0,s.useIntersectionObserver)({observableElement:h.current,onIntersect:p,rootMargin:"0px 0px 500px 0px",shouldDisconnectOnIntersecting:!0}),a.default.createElement("div",{className:c({},[t||""]),ref:h},a.default.createElement("div",{ref:m,className:d("inner-block")},e))};var a=n(i(0)),o=i(79),r=i(873),s=i(633),l=i(9);i(1294);const{bl:c,el:d}=(0,l.createBlock)("auto-height-transition-block"),u="undefined"!=typeof document?document:void 0},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.PublicationStatus=function({publication:{addTime:e,requestedPublishTimeIso:t},colorScheme:i,isMobile:n,isProcessing:l,currentTimestamp:c}){let d=(0,o.getDelayedPublicationDescriptionText)({requestedPublishTimeIso:t,addTime:e,currentTimestamp:c,full:!0});return!d&&l&&(d=(0,r.lang)('f0eaefad')),d?(0,a.default)(s.CommonPublicationStatus,{text:d,colorScheme:i,isMobile:n,withEmptyStat:!e}):null};var a=n(i(2)),o=(n(i(0)),i(31)),r=i(8),s=i(1179)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CommonPublicationStatus=function({text:e,isMobile:t,withEmptyStat:i,colorScheme:n}){const o={mobile:t,"empty-stat":i};return n&&(o[n]=!0),(0,a.default)("div",{className:r(o)},void 0,e)};var a=n(i(2)),o=(n(i(0)),i(9));i(1395);const{bl:r}=(0,o.createBlock)("publication-status")},function(e,t,i){},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e.map(e=>{let t;if(e.classList.contains(l)){const i=e.firstElementChild;t=i?r.some(e=>i.classList.contains(e))?"social-embed":s.some(e=>i.classList.contains(e))?"ad":"simple":"simple"}else t="simple";return{type:t,tagName:e.tagName,getBottom:()=>e.getBoundingClientRect().bottom}})}function a(e,t){let i,n;for(let a=0;a<e.length;a++){const o=e[a],r=e[a+1],s=o.getBottom()>=t;if(void 0===i&&s&&r&&(i=a+1),(!r||"BLOCKQUOTE"!==r.tagName)&&!["H2","H3","H4"].includes(o.tagName)&&(!r||"social-embed"!==r.type)&&s&&"ad"!==o.type){r&&"ad"!==r.type&&(n=a+1);break}}return{to:n,possibleTo:i}}function o(e=1,t=0,i=!1){const o=document.querySelector(i?".article_article-ad":".article, .article-mobile");if(!o)return;const r=window.innerHeight,s=o.getBoundingClientRect(),l=function(e,t){return e>=0?Math.min(e,t-1):Math.max(t+e,0)}(e,Math.floor(s.height/r)),u=[...o.querySelectorAll(".article-render__block, .article-render-mobile__block")],p=u.filter(e=>e.querySelector(".yandex-direct-embed, .adfox-embed"));if(0===p.length)return;let m;if(i){const e=document.getElementsByClassName("article__bottom-embed_ad");e.length>0&&(m=e[0])}else m=document.getElementById(c);if(m&&m.appendChild(p.slice(-1)[0]),!(p.length>1||u[u.length-1]!==p[0]))return;const[h]=p,f=r*l+t/100*(r-(h.getBoundingClientRect().height||d)),{to:g,possibleTo:b}=a(n(u),f);if(g){const{parentNode:e}=u[g];e&&e.insertBefore(h,u[g])}else if(b){const{parentNode:e}=u[b];e&&e.insertBefore(h,u[b])}}Object.defineProperty(t,"__esModule",{value:!0}),t.domBlocksToRepresentation=n,t.getReplaceInfo=a,t.default=o,t.parameterizedPositionAd=function(e,t=!1){if(e){const{articleMobileTopBlockParams:i}=e.params;if(i){const{screenPosition:e,topToBottomPositionInPercents:n}=i;return void o(e,n,t)}}o(void 0,void 0,t)};const r=["facebook-embed","twitter-embed","instagram-embed","vk-embed"],s=["yandex-direct-embed","adfox-embed"],l="article-block-embed",c="article__bottom-embed",d=337},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleCommentsObserver=function({waitTillCanLoadSocials:e,allowLoadSocials:t,isMobile:n,shouldScroll:a,loadAppPromise:d,elementsToWatch:u,shouldRenderComments:p}){const[m,h]=(0,r.useState)(!1),{ref:f,setRef:g}=(0,l.useRefWithUpdate)(null),b=f.current;(0,r.useEffect)(()=>{e.then(()=>h(!0))});const _=(0,r.useCallback)(e=>{!b&&e&&g(e)},[b,g]);return r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{ref:_}),b&&(0,o.default)(s.LazyComponent,{getImportStatement:()=>i.e(7).then(i.t.bind(null,1028,7)).then(e=>(t(),e)),getRenderedComponent:({ArticleCommentsContainer:e},t)=>r.default.createElement(e,t),skipInShadowWebview:!1,observableElement:b,observerRootMargin:`0px 0px ${c}px 0px`,isReadyToLoad:m,isMobile:n,shouldScroll:a,loadAppPromise:d,elementsToWatch:u,shouldRenderComments:p}))};var o=a(i(2)),r=n(i(0)),s=i(784),l=i(895);const c=2e3},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRecommenderContainerLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(15).then(i.t.bind(null,2495,7)),loading:()=>null,render:({ArticleRecommenderContainer:e},t)=>a.default.createElement(e,t)});t.ArticleRecommenderContainerLazy=o},function(e,t,i){"use strict";var n=i(3);Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeStatusHoc=void 0;var a=n(i(0)),o=i(18),r=i(79),s=i(132),l=i(51);const c=(0,a.memo)(({children:e})=>{const t=(0,o.useDispatch)(),i=(0,o.useSelector)(e=>{const{preferences:{subscribeStatus:t}}=e;return t});return(0,r.useMounted)(()=>{i===l.SubscribeStatus.Pending&&t((0,s.fetchPreferences)())}),a.default.createElement(a.default.Fragment,null,e&&e(i))});t.SubscribeStatusHoc=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageStoreData=function(e){return e}},,,,,,,,,,,,,,,function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleLeftBlockContainer=void 0;var n=i(18),a=i(23),o=i(47),r=i(1607),s=i(267),l=i(27);const c=(0,n.connect)((e,t)=>{const{publication:i,comments:{totalLikesCount:n,totalCommentsCount:r,userAvatarUrl:s,socialsDataLoaded:c,otherUsersAvatars:d,hasOnlyUnauthorizedLikes:u,otherTopLikers:p,currentUser:m},experiments:{socialsNewArticleSide:h,useNewViewInSocials:f,turnOffComments:g,socialShareShortLink:b}}=e,{commentsEnabled:_}=t,{content:v}=i,{title:y,image:S,snippet:I}=v.preview;return{title:y,imageUrl:S?(0,a.getAvatarsUrl)(S,"scale_720"):"",withSocials:!(0,o.publicationIsNarrative)(i),userAvatarUrl:s,otherUsersAvatars:d,socialsDataLoaded:c,useNewViewInSocials:f,socialsRightBlock:h,socialShareShortLinkExperiment:b,hasOnlyUnauthorizedLikes:u,description:I,likesCount:n,commentsCount:r,otherTopLikers:p,currentUser:m,isVideo:v.type===l.PublicationContentType.video,commentsEnabled:!!_&&!g}})((0,s.SocialsAppHOC)(r.ArticleLeftBlock));t.ArticleLeftBlockContainer=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleLeftBlock",{enumerable:!0,get:function(){return n.ArticleLeftBlock}}),Object.defineProperty(t,"ArticleLeftBlockView",{enumerable:!0,get:function(){return n.ArticleLeftBlockView}});var n=i(1608)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleLeftBlock=t.ArticleLeftBlockView=void 0;var o=a(i(2)),r=n(i(0)),s=i(9),l=i(1286),c=i(347),d=i(1645),u=i(27);i(1611),i(1613);const{el:p}=(0,s.createBlock)("article-left-block"),m=({socialsRightBlock:e,isLiked:t,isDisliked:i,commentsEnabled:n,imageUrl:a,title:s,description:c,publication:m,currentUser:h,shareUrl:f,likesCount:g,userAvatarUrl:b,otherUsersAvatars:_,clickShareSocial:v,toggleLike:y,toggleDislike:S,commentsCount:I,hasOnlyUnauthorizedLikes:T,scrollToComments:P,onOpenLikersPopup:E,socialsDataLoaded:C,parentElement:A,paddingBottom:k,isVideo:O,suggestedUpperBlock:L,suggestedBottomBlock:w,rightBlockHeight:D="100%",socialShareShortLinkExperiment:R,allowLoadSocials:M,loadAppPromise:N})=>{const U=(0,r.useRef)(null),x=U.current,B=(0,r.useMemo)(()=>{if(!x||!L)return"calc(100% - 500px)";const e=L.getBoundingClientRect().height,t=w?w.getBoundingClientRect().height+80:0,i=x.getBoundingClientRect().height;return`calc(${D} - ${e+t+16-i}px)`},[L,w,x,D]),F=Boolean(h&&h.uid),{itemId:H,publisherItemId:V,content:{type:j}}=m,z=(0,r.useMemo)(()=>()=>j===u.PublicationContentType.post?92:(u.PublicationContentType.article,232),[j]),G=(0,r.useCallback)(async()=>{M&&M(),N&&await N,E()},[E,M,N]);return(0,o.default)("div",{className:p("cropped"),style:{height:B}},void 0,r.default.createElement(l.Sticky,{className:p("sticky"),ref:U,position:{top:z()}},(0,o.default)(d.SocialsLeftBlock,{socialsRightBlock:e,hasOnlyUnauthorizedLikes:T,shareUrl:f,title:s,description:c,itemId:H,publisherItemId:V,imageUrl:a,userAvatarUrl:b,otherUsersAvatars:_,likesCount:g,commentsCount:I,commentsEnabled:n,isLiked:t,isDisliked:i,toggleLike:y,toggleDislike:S,clickShareSocial:v,onOpenLikersPopup:G,scrollToComments:()=>P(!0),socialsDataLoaded:C,parentElement:A,paddingBottom:k,isVideo:O,isAuthorized:F,socialShareShortLinkExperiment:R})))};t.ArticleLeftBlockView=m;const h=(0,c.FeedbackHOC)(m);t.ArticleLeftBlock=h},,,function(e,t,i){},,function(e,t,i){},,function(e,t,i){"use strict";i(1616),i(1618),i(1620)},function(e,t,i){},,function(e,t,i){},,function(e,t,i){},,,,,,,,,,,function(e,t,i){},,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleAlertListContainer=void 0;var n=i(18),a=i(2436);const o=(0,n.connect)(e=>{const{publication:{maybeFake:t,alcoholTobaccoMentioned:i,hasNativeAds:n,covid19Mentioned:a}}=e;return{maybeFake:null!==t&&void 0!==t&&t,alcoholTobaccoMentioned:i,hasNativeAds:n,covid19Mentioned:null!==a&&void 0!==a&&a}})(a.ArticleAlertList);t.ArticleAlertListContainer=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CountdownWrapper",{enumerable:!0,get:function(){return n.CountdownWrapper}});var n=i(2440)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleScrollToSiteLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(17).then(i.t.bind(null,2709,7)),loading:()=>null,render:({ArticleScrollToSiteContainer:e},t)=>a.default.createElement(e,t)});t.ArticleScrollToSiteLazy=o},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleFeedbackContainer=void 0;var a=n(i(2)),o=(n(i(0)),i(911)),r=i(2441),s=i(47);t.ArticleFeedbackContainer=(({isMobile:e,observableElement:t,hideTriggerElement:i})=>{const{initialQuestion:n,questionsMap:l,publicationItemId:c,publicationType:d}=(0,o.useShallowEqualSelector)(e=>{const{articleFeedback:{initialQuestion:t,questionsMap:i},publication:{itemId:n,content:{type:a}}}=e;return{initialQuestion:t,questionsMap:i,publicationItemId:n,publicationType:(0,s.getStatContentType)(a)}});return n&&l[n]?(0,a.default)(r.ArticleFeedbackObserver,{isMobile:e,initialQuestion:n,questionsMap:l,observableElement:t,hideTriggerElement:i,publicationItemId:c,publicationType:d}):null})},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.SocialsLeftBlock=void 0;var o=a(i(2)),r=a(i(11)),s=n(i(0)),l=i(1186),c=i(1187),d=i(2451),u=i(9),p=i(29),m=i(32);i(1647);const{bl:h,el:f}=(0,u.createBlock)("socials-left-block");t.SocialsLeftBlock=class extends s.default.Component{constructor(...e){super(...e),(0,r.default)(this,"container",(0,s.createRef)()),(0,r.default)(this,"state",{isSocialsBlockExpanded:!1,isVisible:!1}),(0,r.default)(this,"handleLike",()=>{const{isLiked:e,toggleLike:t}=this.props,i=t(p.LikePlace.leftBlock);e||i||this.setState({isSocialsBlockExpanded:!0})}),(0,r.default)(this,"handleDislike",()=>{this.props.toggleDislike()}),(0,r.default)(this,"updateVisibilityState",()=>{const{parentElement:e,paddingBottom:t,isVideo:i=!1}=this.props;if(i)return void this.setState({isVisible:!0});const n=this.container.current;if(n&&e){const{height:i}=e.getBoundingClientRect(),{height:a}=n.getBoundingClientRect();this.setState({isVisible:i>=a+56+t+10})}})}componentDidMount(){this.updateVisibilityState()}componentDidUpdate(e){e.parentElement!==this.props.parentElement&&this.updateVisibilityState()}render(){const{socialsRightBlock:e,isLiked:t,isDisliked:i,hasOnlyUnauthorizedLikes:n,likesCount:a,userAvatarUrl:r,otherUsersAvatars:u,shareUrl:p,title:g,description:b,imageUrl:_,paddingBottom:v,clickShareSocial:y,onOpenLikersPopup:S,commentsCount:I,commentsEnabled:T,scrollToComments:P,socialsDataLoaded:E,socialShareShortLinkExperiment:C}=this.props,{isSocialsBlockExpanded:A,isVisible:k}=this.state;return s.default.createElement("div",{className:h({visible:k}),style:{paddingBottom:v&&`${v}px`},ref:this.container},(0,o.default)("div",{className:f("likes")},void 0,(0,o.default)(l.Mittens,{isLiked:t,isDisliked:i,isVertical:!0,onLike:this.handleLike,onDislike:this.handleDislike,mittenSize:m.Sizes.m,hasReverseOrder:!1,type:l.MittenType.default,areAnimated:!1}),(0,o.default)("div",{className:f("counter")},void 0,(0,o.default)(c.LikesCountMinimal,{isLiked:t,likesCount:a,userAvatarUrl:r,otherUsersAvatarUrls:u,hasOnlyUnauthorizedLikes:n,onClick:S,isLoaded:E}))),(0,o.default)("div",{className:f("share")},void 0,(0,o.default)(d.ShareLeftBlock,{isSocialsLoaded:E,commentsEnabled:T,commentsCount:I,shareUrl:p,title:g,description:b,imageUrl:_,networks:e,isSocialsBlockExpanded:A,onCommentsClick:P,onShareSocialClick:y,socialShareShortLinkExperiment:C})))}}},function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e.getBoundingClientRect().height}function a(e){return e.getBoundingClientRect().top}function o(e){return e.getBoundingClientRect().bottom}function r(e,t,i){return o(i)-n(e)<=a(t)}function s(e,t,i){const r=function(t,i){return a(e)<=a(i)}(0,i),s=function(e,t,r){return a(i)+n(e)>=o(t)}(e,t);return r?s?o(t)-n(e):0:void 0}function l(e,t,i){const n=function(t,i,n){return o(e)>=o(n)}(0,0,i),a=r(e,t,i);return n&&!a?0:void 0}function c(e,t,i){i&&(p(t,i),i.addEventListener(e,t))}function d(e,t,i){i&&i.removeEventListener(e,t)}function u(e,t){c("scroll",e,t)}function p(e,t){d("scroll",e,t)}function m(e){return e===window.document.body?window.document:e}var h=i(3),f=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Sticky=t.StickyLegacy=void 0;var g=f(i(2)),b=f(i(14)),_=f(i(11)),v=h(i(0)),y=i(9),S=i(36),I=i(10);i(1631);const{bl:T}=(0,y.createBlock)("sticky-container");class P extends v.default.PureComponent{constructor(...e){super(...e),(0,_.default)(this,"el",v.default.createRef()),(0,_.default)(this,"lighthouseEl",v.default.createRef()),(0,_.default)(this,"viewportEl",null),(0,_.default)(this,"state",{isSticky:!1,style:{top:"auto",bottom:"auto"}}),(0,_.default)(this,"handleResize",()=>{this.handleScroll(),this.initViewport()}),(0,_.default)(this,"initViewport",()=>{const{scrollableEl:e}=this.props;e&&(this.destroyViewport(),this.viewportEl=function(e,t="div"){const i=window.document.createElement(t);return i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.zIndex="-9",i.style.pointerEvents="none",e.appendChild(i)}(e))}),(0,_.default)(this,"handleScroll",()=>{const{position:e}=this.props,t=this.el.current,i=this.getContainerEl(),o=this.lighthouseEl.current;if(!(t&&i&&this.viewportEl&&o))return;const c=function(e,t,i,o){const c=(...e)=>e.every(e=>o&&"number"==typeof o[e]);switch(!0){case function(t,i){return n(e)>=n(i)}(0,t):return{};case c("top","bottom"):return{top:r(e,t,i)?a(t):s(e,t,i),bottom:l(e,t,i)};case c("bottom"):return{top:r(e,t,i)?a(t):void 0,bottom:l(e,t,i)};case c("top"):return{top:s(e,t,i)};default:throw new Error("Position is required")}}(this.state.isSticky?o:t,i,this.viewportEl,e),d=function(e){return Object.values(e).some(e=>"number"==typeof e)}(c),u=d?`${t.getBoundingClientRect().width}px`:void 0;this.setState({style:{width:u,...c},isSticky:d})})}componentDidUpdate(e){const{scrollableEl:t}=this.props;t!==e.scrollableEl&&(u(this.handleScroll,m(t)),this.initViewport())}componentDidMount(){const{scrollableEl:e}=this.props;e&&!I.isSSR&&(u(this.handleScroll,m(e)),function(e){c("resize",e,window)}(this.handleResize),requestAnimationFrame(()=>{this.handleScroll(),this.initViewport()}),setTimeout(()=>{this.handleScroll(),this.initViewport()},100))}componentWillUnmount(){const{scrollableEl:e}=this.props;this.destroyViewport(),p(this.handleScroll,m(e)),function(e){d("resize",e,window)}(this.handleResize)}destroyViewport(){this.viewportEl&&function(e){const t=e.parentElement;t&&t.removeChild(e)}(this.viewportEl)}getContainerEl(){const e=this.el.current;return e?this.props.containerEl||e.parentElement:this.props.containerEl}getStyle(){const{style:e={}}=this.props;return{...e,...this.state.style,position:this.state.isSticky?"fixed":void 0}}getLighthouseStyle(){if(this.el.current&&this.state.isSticky)return{height:`${n(this.el.current)}px`}}render(){const{as:e="div",className:t,containerEl:i,scrollableEl:n,position:a,isLegacy:o,children:r,...s}=this.props;return(0,g.default)(v.default.Fragment,{},void 0,v.default.createElement(e,{ref:this.lighthouseEl,className:t,style:this.getLighthouseStyle()}),v.default.createElement(e,(0,b.default)({},s,{ref:this.el,className:t,style:this.getStyle()}),r))}}t.StickyLegacy=P,(0,_.default)(P,"defaultProps",{scrollableEl:I.isSSR?void 0:window.document.body,as:"div",style:{}});const E=(0,v.forwardRef)((e,t)=>{const{as:i="div",isLegacy:n=(0,S.isIE11)(),style:a={},className:o,children:r,position:s}=e,l=o?[o]:[];return n?v.default.createElement(P,e,r):v.default.createElement(i,{className:T({},l),style:{...s,...a},ref:t},r)});t.Sticky=E},,,,function(e,t,i){},,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Hashtag=void 0;var a=n(i(2)),o=(n(i(0)),i(9)),r=i(31),s=i(7),l=i(1333);i(1683);const{bl:c,el:d}=(0,o.createBlock)("hashtag");t.Hashtag=(({title:e,children:t})=>{const i=(0,s.toThematicFeedUrl)((0,r.replaceOtherSpacesToNormalSpace)(e).toLowerCase());return(0,a.default)("a",{className:c(),target:"_blank",href:i},void 0,(0,a.default)(l.HashStar,{classNames:[d("hash")]},void 0,"#"),(0,a.default)(l.Tag,{classNames:[d("tag")]},void 0,t))})},function(e,t,i){},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.HashStar=void 0;var a=n(i(2)),o=(n(i(0)),i(9));i(1686);const{bl:r,el:s}=(0,o.createBlock)("hash-star");t.HashStar=(({children:e,classNames:t=[]})=>(0,a.default)("span",{className:r()},void 0,(0,a.default)("span",{className:s("hash",{},t)},void 0,e)))},function(e,t,i){},,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.TextHashtag=void 0;var o=a(i(2));const r=(0,n(i(0)).memo)(({children:e})=>(0,o.default)("span",{},void 0,e));t.TextHashtag=r},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;var o=a(i(2)),r=n(i(0)),s=i(9);i(1679);const{bl:l,el:c}=(0,s.createBlock)("tag"),d=(0,r.memo)(({classNames:e,children:t})=>(0,o.default)("span",{className:l({},e)},void 0,(0,o.default)("span",{className:c("link")},void 0,t)));t.Tag=d},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MixedEmbed=function(e){const{data:t,blockKey:i,virtualNode:n,isMobile:r,isEditor:s,avatarsHost:l,iframeHost:c,statData:d}=e,u=o.typeToComponent[t.type];return u?(0,a.default)(u,{virtualNode:n,data:t,blockKey:i,iframeHost:c,isMobile:r,isEditor:s,avatarsHost:l,statData:d}):null};var a=n(i(2)),o=(n(i(0)),i(1023))},,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleRender",{enumerable:!0,get:function(){return n.ArticleRender}});var n=i(1711)},function(e,t,i){"use strict";function n({block:e,setRefToRenderBlock:t,isLoaded:i,isMobile:n,config:r,embeddedTagsSet:s,statsData:l}){const{type:c,entities:d}=e,p=A(n);switch(c){case f.BlockType.Unstyled:return(0,u.default)("p",{className:p("unstyled")},void 0,o(d,r,s));case f.BlockType.HeaderTwo:return(0,u.default)("h2",{className:p("h2")},void 0,o(d,r,s));case f.BlockType.HeaderThree:return(0,u.default)("h3",{className:p("h3")},void 0,o(d,r,s));case f.BlockType.Blockquote:return(0,u.default)("blockquote",{className:p("quote")},void 0,o(d,r,s));case f.BlockType.UnorderedListItem:case f.BlockType.OrderedListItem:return(0,u.default)("li",{className:p("li")},void 0,o(d,r,s));case f.BlockType.AtomicImage:return m.default.createElement(g.ArticleImage,{className:p("image"),block:e,renderBlockEntities:e=>o(e.entities,r,s),ref:i=>i&&t(i,e),isLoaded:i,isMobile:n});case f.BlockType.AtomicEmbed:return(0,u.default)(a,{block:e,isMobile:n,statsData:l});case f.BlockType.Marker:return O;default:return(0,u.default)("div",{},void 0,e.type)}}function a({block:e,isMobile:t,statsData:i}){if(!e.embedData)return null;const n=A(t);return(0,u.default)("div",{className:n("embed")},void 0,(0,u.default)(v.MixedEmbed,{data:e.embedData.data,blockKey:e.key,iframeHost:e.embedData.iframeHost,isMobile:t,isEditor:!1,avatarsHost:e.avatarsHost,statData:i}))}function o(e,t,i){const n=e.length;return e.map((e,a)=>(0,u.default)(s,{entity:e,config:t,embeddedTagsSet:i,isLast:a===n-1},a))}function r(e,t){const{isBold:i,isItalic:n,isUnderline:a,isStrike:o,isLink:r,linkHref:s,meta:l}=t;let c=e;return i&&(c=(0,u.default)("b",{},void 0,c)),n&&(c=(0,u.default)("i",{},void 0,c)),a&&(c=(0,u.default)("u",{},void 0,c)),o&&(c=(0,u.default)("s",{className:C("striked-text")},void 0,c)),r&&s&&(c=(0,u.default)(y.ArticleLink,{href:s,meta:l},void 0,c)),c}function s({entity:e,config:t,embeddedTagsSet:i,isLast:n}){const{isLink:a,isUnstyledHashTag:o}=e.styleData,s=a||o?function(t,i){let n=r(e.text,e.styleData);return L&&(n=m.default.createElement(m.default.Fragment,null,l(L),m.default.createElement(m.default.Fragment,null,n)),c()),n}():(0,u.default)("span",{},void 0,w(e,n,t,i));return m.default.createElement(m.default.Fragment,null,s)}function l(e,t=!1){return t?(0,u.default)("span",{},void 0,e.parts.slice(1).map(e=>r(e.text,e.style))):(0,u.default)("span",{},void 0,e.parts.map(e=>r(e.text,e.style)))}function c(){L.text="",L.parts=[]}var d=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRender=void 0;var u=d(i(2)),p=d(i(11)),m=d(i(0)),h=i(54),f=i(1209),g=i(1712),b=i(1333),_=i(143),v=i(1691),y=i(1720),S=i(170),I=i(91),T=i(660),P=i(23);let E=(0,T.getRenderBl)(!1),C=(0,T.getRenderEl)(!1);const A=e=>{const t=(0,T.getRenderEl)(e);return e=>t("block",{[e]:!0})},k={allowedSymbols:"\\d\\wа-яА-ЯёЁ-−–—_ʼ\"«»„“'/\\\\().,%$€\\-₽:#+&…№",maxTagLength:40};t.ArticleRender=class extends m.default.Component{constructor(e){super(e),(0,p.default)(this,"elemToRenderBlock",new Map),(0,p.default)(this,"groupIsAdEmbed",e=>{var t,i,n;if(e.type!==f.BlockType.AtomicEmbed||e.items.length<1)return!1;const a=e.items[0];return null!==(t="yandex-direct"===(null===(i=a.embedData)||void 0===i?void 0:i.data.type)||"adfox"===(null===(n=a.embedData)||void 0===n?void 0:n.data.type))&&void 0!==t&&t}),(0,p.default)(this,"getOrderedListPreviousItemsCount",e=>{if(e<2)return 0;const{renderPublication:{groups:t}}=this.props;let i=e-1,n=0;for(;i>0&&this.groupIsAdEmbed(t[i]);){const e=t[i-=1];e.type===f.BlockType.OrderedListItem&&(n+=e.items.length,i-=1)}return n}),(0,p.default)(this,"showImageOfElem",e=>{const t=e&&this.elemToRenderBlock.get(e);if(!e||!t||this.state.loadedImageBlockKeys[t.key])return Promise.resolve();const i=(0,f.getImageSources)(t);t.isLazy&&this.asyncObserver?this.asyncObserver.then(t=>{t.unobserve(e),this.elemToRenderBlock.delete(e)}):this.elemToRenderBlock.delete(e);const n=(null===i||void 0===i?void 0:i.previewSrc)||(null===i||void 0===i?void 0:i.src);return n?(0,h.waitImageLoad)(n,null===i||void 0===i?void 0:i.srcSet).then(()=>this.setState(({loadedImageBlockKeys:e})=>({loadedImageBlockKeys:{...e,[t.key]:!0}}))):Promise.resolve()}),(0,p.default)(this,"setElemToRenderBlock",(e,t)=>{"atomic:image"===t.type&&(this.elemToRenderBlock.set(e,t),t.isLazy&&this.asyncObserver&&this.asyncObserver.then(t=>{t.observe(e)}))}),this.state={loadedImageBlockKeys:{}},E=(0,T.getRenderBl)(e.isMobile),C=(0,T.getRenderEl)(e.isMobile),"undefined"!=typeof window&&(this.asyncObserver=(0,_.initIntersectionObserver)((0,_.makeHandleIntersection)(this.showImageOfElem),{rootMargin:"50% 0%",threshold:[.5]}))}render(){const{renderPublication:e,isMobile:t,config:i=k,embeddedTags:a=[],statsData:o}=this.props,{loadedImageBlockKeys:r}=this.state,s=new Set(a.map(e=>e.title.toLowerCase())),l=A(t);return(0,u.default)("div",{className:E({mobile:t}),itemProp:"articleBody"},void 0,e.groups.map(({items:e,type:a},c)=>{const d=e.map(e=>(0,u.default)(n,{block:e,isMobile:t,setRefToRenderBlock:this.setElemToRenderBlock,isLoaded:Boolean(r[e.key]),config:i,embeddedTagsSet:s,statsData:o},e.key));switch(a){case f.BlockType.UnorderedListItem:return(0,u.default)("ul",{className:l("ul")},`${a}_${c}`,d);case f.BlockType.OrderedListItem:return(0,u.default)("ol",{className:l("ol"),start:this.getOrderedListPreviousItemsCount(c)+1},`${a}_${c}`,d);default:return(0,u.default)(m.default.Fragment,{},`${a}_${c}`,d)}}))}componentDidMount(){let e=!1;[...this.elemToRenderBlock.keys()].reduce((t,i,n)=>t.then(()=>this.showImageOfElem(i)).then(()=>{if(n>0&&e)return;const t=this.elemToRenderBlock.get(i);if(!t)return;const a=(0,f.getImageSources)(t),o=a?[a.src,a.previewSrc,a.srcSet?(0,P.srcSetToSourcesList)(a.srcSet):void 0].filter(e=>Boolean(e)):[];t.isLazy?(e=!0,I.rumManager.firstLazyImageShow(),I.rumManager.firstLazyImageLoad(o)):0===n&&I.rumManager.firstNonLazyImageLoaded(o)}).catch(e=>{var t;null===(t=window)||void 0===t||t.console.error(e)}),Promise.resolve())}};var O=(0,u.default)("div",{id:"content-ending"});const L={parts:[],text:""},w=(e,t,i,n)=>{const a=[];return R(e.text).forEach(o=>{"string"==typeof o?function(e,{text:t,styleData:i},n,a=k,o=new Set){let s,d=null,p=t;const m=S.HASHTAG.REGEXP.HASHTAG_COMMON(a,0),h=new RegExp(S.HASHTAG.SPACE,"g");for(""!==L.text&&(p=L.text+p);null!==(s=m.exec(p));){const t=s[0].slice(1);if(null===d?e.push(r(p.slice(0,s.index),i)):d<s.index&&(L.text&&(e.push(r(L.text,i)),c()),e.push(r(p.slice(d,s.index),i))),d=s[0].length+s.index,s[0].length>a.maxTagLength+1)c(),e.push(r(s[0],i));else if(t.length&&o.has(t.replace(h," ").toLowerCase().trim())){if(""!==L.text){const{length:n}=L.text;L.parts.push({text:s[0].slice(n),style:i}),e.push((0,u.default)(b.Hashtag,{title:t},void 0,l(L,!0)))}else e.push((0,u.default)(b.Hashtag,{title:t},void 0,r(t,i)));c()}else{const{length:e}=L.text;L.text=s[0],L.parts.length?L.parts.push({text:s[0].slice(e,d).replace(h," "),style:i}):L.parts.push({text:"#",style:i},{text:s[0].slice(e+1,d).replace(h," "),style:i})}}(""===L.text||null!==d&&d<p.length&&""!==L.text)&&(""!==L.text&&void 0!==d&&e.push(r(L.text,i)),e.push(r(p.slice(d||0),i)),c()),n&&L.text.length>0&&(L.text!==S.HASHTAG.HASH_SYMBOL&&o.has(L.text)?e.push((0,u.default)(b.Hashtag,{title:L.text},void 0,l(L,!0))):e.push(L.text),c())}(a,{text:o,styleData:e.styleData},t,i,n):a.push(o)}),a};var D=(0,u.default)("br",{});const R=e=>-1===e.indexOf("\n")?[e]:e.split(/(^|$)/gm).reduce((e,t)=>("\n"===t?e.push(D):0!==t.trim().length&&e.push(t),e),[])},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleImage",{enumerable:!0,get:function(){return n.ArticleImage}});var n=i(1713)},function(e,t,i){"use strict";function n(e){const{imageData:t,og:i,isLazy:n,isLoaded:a,className:o,forwardedRef:r,isMobile:d=!1,isShown:f,isGallery:g,entityText:b,isSecondImage:_,renderBlockEntities:v,block:y,isLazyGif:S}=e,I=(0,h.getArticleImageBl)(d),T=(0,h.getArticleImageEl)(d),[P,E]=(0,l.useState)(!1),C=(0,c.getImageSources)({imageData:t,isMobile:y.isMobile}),A=(0,l.useCallback)(()=>C&&C.src?(0,u.waitImageLoad)(C.src).then(()=>{E(!0)}):Promise.resolve(),[C]);if(!C||!t)return null;const{content:k,mainColor:O,height:L,width:w,imageName:D,isGif:R}=t,M=Math.abs(L/w*100),N=!n||a&&!_,U=d?{}:{maxWidth:w},x=g?k:b,B={lazy:n,"lazy-shown":n&&f,"second-image":_,"is-gallery":g,"with-border-radius":!g&&!d},F=R?"gif-image":"";return l.default.createElement("figure",{className:I(B,[o]),itemScope:!0,itemProp:"image",itemType:"http://schema.org/ImageObject",ref:r},(0,s.default)("div",{className:T("container"),style:U},void 0,(0,s.default)("div",{className:T("placeholder",{hidden:f}),style:{backgroundColor:O,paddingBottom:`${M}%`}}),(0,s.default)("div",{className:T("zoom"),id:D},void 0,(0,s.default)("img",{itemProp:"image",className:T("image",{loaded:f,second:_},[F]),src:N?S&&!P?C.previewSrc:C.src:"",srcSet:N?C.srcSet:"",alt:x,"data-src":N&&!R?void 0:C.src,"data-srcset":N?void 0:C.srcSet,"data-previewsrc":S&&!P?C.previewSrc:void 0})),(0,s.default)("div",{className:T("gif-loader-container")},void 0,S&&!P&&!p.isSSR&&(0,s.default)(m.ArticleGifLoader,{onLoadClick:A}))),i&&(0,s.default)("meta",{itemProp:"url",content:i.url}),(0,s.default)("figcaption",{itemProp:"caption",className:T("caption")},void 0,v(y)))}var a=i(3),o=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleImage=void 0;var r=o(i(14)),s=o(i(2)),l=a(i(0)),c=i(1209),d=i(20),u=i(54),p=i(10),m=i(1714),h=i(660);class f extends l.default.PureComponent{constructor(e){super(e);const{block:{isLazy:t}}=e;this.state={isShown:!t}}componentDidUpdate(e){const{isLoaded:t}=this.props,{isShown:i}=this.state;i||e.isLoaded||!t||(0,d.raf)().then(d.raf).then(()=>this.setState({isShown:!0}))}render(){const{block:e,isLoaded:t,isMobile:i=!1,forwardedRef:a,className:o="",renderBlockEntities:r}=this.props,l=(0,h.getArticleImageEl)(i),{isShown:c}=this.state,{imagesData:d,isLazy:u,og:p,hasLazyGif:m}=e,f=Boolean(d&&d.length>1),[g]=e.entities,{text:b=""}=g||{},_=d&&d.map((l,d)=>(0,s.default)(n,{entityText:b,isGallery:f,imageData:l,isMobile:i,og:p,isLazy:u,isLoaded:t,forwardedRef:a,className:o,isShown:c,isSecondImage:d>0,renderBlockEntities:r,block:e,isLazyGif:m},d));return f?(0,s.default)("div",{className:l("gallery")},void 0,_):_}}const g=l.default.forwardRef((e,t)=>l.default.createElement(f,(0,r.default)({},e,{forwardedRef:t})));t.ArticleImage=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleGifLoader",{enumerable:!0,get:function(){return n.ArticleGifLoader}});var n=i(1715)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleGifLoader=function({onLoadClick:e}){const[t,i]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),s=(0,r.useCallback)(()=>{i(!0),e().then(()=>{i(!1),a(!0)})},[e]);return n?null:(0,o.default)("button",{className:c(),onClick:s},void 0,!t&&(0,o.default)("div",{className:d("triangle")}),(0,o.default)("div",{className:d("indicator-wrapper",{visible:t})},void 0,u))};var o=a(i(2)),r=n(i(0)),s=i(9),l=i(1716);i(1718);const{bl:c,el:d}=(0,s.createBlock)("article-gif-loader");var u=(0,o.default)(l.CircularProgressIndicatorLazy,{isActive:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CircularProgressIndicatorLazy",{enumerable:!0,get:function(){return n.CircularProgressIndicatorLazy}});var n=i(1717)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CircularProgressIndicatorLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(36).then(i.t.bind(null,2702,7)),loading:()=>null,render:({CircularProgressIndicator:e},t)=>a.default.createElement(e,t)});t.CircularProgressIndicatorLazy=o},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleLink",{enumerable:!0,get:function(){return n.ArticleLink}});var n=i(1721)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleLink=void 0;var a=n(i(14)),o=n(i(2)),r=n(i(0)),s=i(9),l=i(1722),c=i(92);const{bl:d,el:u}=(0,s.createBlock)("article-link");t.ArticleLink=(({href:e,meta:t,children:i})=>{let n="noopener";/^(http(s)?:\/\/)?zen\.yandex\./.test(e)||(n+=" nofollow");const s=(null===t||void 0===t?void 0:t.type)===c.LinkMetaDataType.productPreview,p={};return s&&(p["data-service-action"]="product-link"),r.default.createElement("a",(0,a.default)({className:d(),rel:n,target:"_blank",href:e},p),t&&s&&(0,o.default)(l.ArticleProductLinkPreview,{className:u("product-preview"),productPreview:t.payload}),i)})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleProductLinkPreview",{enumerable:!0,get:function(){return n.ArticleProductLinkPreview}});var n=i(1723)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleProductLinkPreview=void 0;var a=n(i(2)),o=(n(i(0)),i(9)),r=i(1043);i(1724);const{bl:s,el:l}=(0,o.createBlock)("article-product-link-preview");t.ArticleProductLinkPreview=(({className:e,productPreview:t,price:i})=>{const{pictureUrl:n,title:o,platform:c}=t;return(0,a.default)("div",{className:s(void 0,e?[e]:[])},void 0,(0,a.default)("div",{className:l("content")},void 0,n&&(0,a.default)("img",{className:l("picture"),src:n,alt:o}),(0,a.default)("div",{className:l("description")},void 0,(0,a.default)("div",{className:l("title")},void 0,o),void 0!==i&&(0,a.default)("span",{className:l("price")},void 0,i),(0,a.default)("span",{className:l("platform")},void 0,r.platformTitles[c]))))})},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleAlertList",{enumerable:!0,get:function(){return n.ArticleAlertList}});var n=i(2437)},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleAlertList=function(e){const{maybeFake:t,alcoholTobaccoMentioned:i,isMobile:n,covid19Mentioned:s}=e,l=(0,p.formatMessageRich)((0,d.lang)('a8a40fb2'),{link:h});return o.default.createElement(o.default.Fragment,null,t&&(0,a.default)(r.ArticleAlert,{icon:r.ArticleAlertIcon.Attention,isMobile:n},void 0,(0,d.lang)('5070b89c')),i&&(0,a.default)(r.ArticleAlert,{icon:r.ArticleAlertIcon.Info,isMobile:n},void 0,(0,u.addNoBreakingSpaces)((0,d.lang)('4a50258d'))),s&&(0,a.default)(r.ArticleAlert,{icon:r.ArticleAlertIcon.Covid19,isMobile:n},void 0,l))};var a=n(i(2)),o=n(i(0)),r=i(1231),s=n(i(219)),l=i(1203),c=i(9),d=i(8),u=i(83),p=i(99);i(2438);const{el:m}=(0,c.createBlock)("article-alert-list"),h=({children:e})=>(0,a.default)(s.default,{href:l.YANDEX_COVID19,target:"_blank",className:m("link")},void 0,e)},function(e,t,i){},,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CountdownWrapper=function({children:e,value:t,stopOnIntersection:i=!1}){const[n,a]=(0,r.useState)(!1),c=(0,r.useRef)();return(0,s.useMounted)(()=>{const e=setTimeout(()=>{a(!0)},t||0);c.current=e}),r.default.createElement(r.default.Fragment,null,i&&(0,o.default)(l.ActionOnIntersectionWrapper,{onIntersect:()=>{clearTimeout(c.current)}}),e({isCountdownFinished:n}))};var o=a(i(2)),r=n(i(0)),s=i(79),l=i(1114)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleFeedbackObserver",{enumerable:!0,get:function(){return n.ArticleFeedbackObserver}});var n=i(2442)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleFeedbackObserver=function({observableElement:e,hideTriggerElement:t,isMobile:n,initialQuestion:a,questionsMap:s,publicationItemId:p,publicationType:m}){const[h,f]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),_=(0,r.useCallback)(()=>{f(!0)},[]),v=n?"0px 0px -300px 0px":"0px 0px -100px 0px";(0,d.useIntersectionObserver)({observableElement:e,onIntersect:_,rootMargin:v,shouldDisconnectOnIntersecting:!0});const y=(0,r.useCallback)(async()=>{f(!1),await(0,l.wait)(1200),b(!0)},[]),S=n?"0px 0px -400px 0px":"0px 0px -200px 0px";return(0,d.useIntersectionObserver)({observableElement:t,onIntersect:y,rootMargin:S,shouldDisconnectOnIntersecting:!0}),(0,o.default)("div",{className:u({mobile:n,hidden:!h})},void 0,g?null:(0,o.default)(c.LazyComponent,{getImportStatement:()=>i.e(10).then(i.t.bind(null,2710,7)),getRenderedComponent:({ArticleFeedbackLayout:e},t)=>r.default.createElement(e,t),skipInShadowWebview:!0,observableElement:e,observerRootMargin:"0px 0px 1000px 0px",isMobile:n,isVisible:h,onClose:y,initialQuestion:a,questionsMap:s,publicationItemId:p,publicationType:m}))};var o=a(i(2)),r=n(i(0)),s=i(9),l=i(20),c=i(784),d=i(633);i(2443);const{bl:u}=(0,s.createBlock)("article-feedback-observer")},function(e,t,i){},,,,,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2)),o=n(i(11)),r=n(i(0)),s=i(789),l=i(861),c=i(1148),d=i(9),u=i(309),p=i(46);i(2449);const m={x:"left",y:"top",shifts:{top:40},shouldOverlap:!0,shouldFlip:!0},{bl:h}=(0,d.createBlock)("article-header");var f=(0,s.removePublication)(class extends r.default.PureComponent{constructor(...e){super(...e),(0,o.default)(this,"renderEditLink",()=>{const{publication:e,canEdit:t,isEditDisable:i,hasUnpublishedChanges:n,onEdit:o,openDropPublication:r,openDropUnsavedChanges:s,publisher:c}=this.props;return(0,a.default)(l.OwnPublicationControls,{publisher:c,publication:e,canEdit:t,isEditDisable:i,hasUnpublishedChanges:n,onEdit:o,openDropPublication:r,openDropUnsavedChanges:s,mod:p.ButtonViewType.border,textColor:u.PostTextColor.black})})}render(){const{publication:e,publisher:t,canEdit:i,className:n="",isAdaptedForITablet:o,channelUrl:r,blockPublisher:s,likePublisher:l,unblockPublisher:d,unlikePublisher:f,preferences:g,pageType:b,parentItemId:_,parentType:v,nonce:y,loadAppPromise:S}=this.props,I={tablet:o};return(0,a.default)("nav",{className:h(I,[n])},void 0,(0,a.default)(c.PublisherControlsContainer,{publication:e,publisher:t,position:m,canEdit:i,channelUrl:r,mod:p.ButtonViewType.blue,withOwnerMenu:!1,desktop:!0,preferences:g,pageType:b,parentItemId:_,parentType:v,blockPublisher:s,likePublisher:l,unblockPublisher:d,unlikePublisher:f,textColor:u.PostTextColor.black,nonce:y,loadAppPromise:S}),this.renderEditLink())}});t.default=f},function(e,t,i){},,function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ShareLeftBlock=void 0;var o=a(i(2)),r=n(i(0)),s=a(i(331)),l=i(79),c=i(867),d=i(971),u=i(972),p=i(9),m=i(32),h=i(287),f=i(29);i(1646);const g=[f.ShareType.fb,f.ShareType.vk,f.ShareType.ok,f.ShareType.tw,f.ShareType.tg],{bl:b,el:_}=(0,p.createBlock)("share-left-block");t.ShareLeftBlock=(({shareUrl:e,title:t,description:i,imageUrl:n,networks:a,commentsCount:p,commentsEnabled:f,isSocialsLoaded:v,isSocialsBlockExpanded:y,onShareSocialClick:S,onCommentsClick:I,socialShareShortLinkExperiment:T})=>{const[P,E]=(0,r.useState)(!1),[C,A]=(0,r.useState)(void 0),[k,O]=(0,r.useState)(!1),L=(0,r.useRef)(null),w=(0,r.useRef)(null);(0,l.useMounted)(()=>{const e=L.current;e&&e.addEventListener("transitionend",()=>{e.style.pointerEvents="auto"},{once:!0})});const D=(0,r.useCallback)(()=>{E(!0)},[E]),R=(0,r.useCallback)(e=>{O(!1),A(e),setTimeout(()=>O(!0),200)},[O,A]),M=(0,r.useCallback)(()=>{A(void 0),O(!1)},[O,A]),N=a&&a.length?a:g,U=N.slice(0,2),x=N.slice(2,4),B=(0,r.useRef)(N.reduce((e,t)=>Object.assign(e,{[t]:r.default.createRef()}),{})),F=y||P,H=a=>r.default.createElement("div",{key:a,onMouseEnter:()=>R(a),ref:B.current[a],onMouseLeave:M,className:_("tooltip-button-container")},(0,o.default)(c.NetworkShare,{networkName:a,isColored:!1,url:e,title:t,description:i,image:n,onClick:S,color:h.Colors.black,size:m.Sizes.xl,name:a,isBig:!0,withLargeIcons:!0,isMobile:!1,className:_("network"),withOpacity:!1,socialShareShortLink:T}));return r.default.createElement(r.default.Fragment,null,(0,o.default)("div",{className:b()},void 0,U.map(H),(0,o.default)("div",{className:_("dynamic-container",{expanded:F})},void 0,r.default.createElement("div",{className:_("other-networks-container"),ref:L},x.map(H)),(0,o.default)("div",{className:_("comments",{visible:f}),onClick:I},void 0,(0,o.default)(d.CommentsCounter,{commentsCount:p,isLoaded:v,isNarrative:!1})),(0,o.default)("div",{className:_("more"),onClick:D}))),(0,o.default)(s.default,{containerClassName:_("tip-block"),targetElem:C?B.current[C].current:void 0,isOpen:!!C&&k,side:"left",position:"center",withCloseButton:!1,withTail:!1,isWhiteBackground:!1,close:M,setPopupBaseRef:w},void 0,C&&u.networkButtonCaptions[C]))})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initYaBroStripe=function(e,t,i){const o=document.createElement("div");o.id=a,i&&t?t.insertBefore(o,e):document.body&&document.body.insertBefore(o,e),(0,n.initAd)({blockId:"Y-A-286150-1",renderTo:a})};var n=i(551);const a="yabro-strip-element"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleContentHeight=void 0;let n;t.ArticleContentHeight=n,function(e){e.tiny="tiny",e.short="short",e.normal="normal",e.long="long"}(n||(t.ArticleContentHeight=n={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(174),i(187),e.exports=i(2731)},function(e,t,i){"use strict";var n=i(1),a=n(i(2)),o=(n(i(0)),i(42)),r=i(18),s=i(1192),l=i(2732),c=i(785),d=i(9),u=i(120),p=i(1106),m=n(i(10)),h=i(166),f=i(501),g=i(367),b=i(133),_=i(1589);i(2753),i(1615);var v=i(91);i(730),(0,f.registerMediaServiceWorker)();const{el:y}=(0,d.createBlock)("article"),S=(0,p.getElemById)(y("page-root")),I={...(0,b.getArticleStoreDataFromGlobals)(),language:(0,_.getLanguageStoreData)(m.default.language)},{isIZenKit:T,isZenKit:P,uatraits:E,yaNonce:C,zenlibPath:A}=m.default,k=location.search.includes("moderationMode"),O=(0,b.createStoreWithData)(s.articleReducer,I),L=O.getState(),w=Boolean((0,h.getArticleS2SDesign)(L.publication&&L.publication.swipeToSite)),D=!w,{feedExpConfigByTags:R}=L.experiments,{publicationPixels:M,commentsToken:N,commentsEnabledForPublication:U,publisher:x,adData:B,og:F,adContent:H,isRightAdBlockAvailable:V}=m.default.data,{commentsEnabled:j,commentsApiUrl:z,commentsBundleUrl:G,publishersMobileDomain:$,publishersDesktopDomain:W}=L.config,Y=j&&U&&D,{channelUrl:K,shareUrl:X,shouldProtectFromRedirects:Z}=(0,u.getProtectedLinks)({host:location.host,pathName:location.pathname},x,W,$),{hash:q}=location,Q=(0,g.initSocialsLazyLoading)({isMobile:!1,isAutoscrollEnable:!1,store:O,commentsToken:N,commentsApiUrl:z,commentsBundleUrl:G,uatraits:m.default.uatraits,locationHash:q,commentsEnabled:Y}),J=(m.default.omittedQueryParams||{}).from;!S&&"undefined"!=typeof window&&window.console&&window.console.error("The following elements were not found in article.tsx: articlePageRoot"),S&&(0,o.hydrate)((0,a.default)(r.Provider,{store:O},void 0,(0,a.default)(l.ArticlePageContainer,{isModerationMode:k,queryParamFrom:J,channelUrl:K,shareUrl:X,shouldProtectFromRedirects:Z,isAdaptedForTablet:T||P,socialsLoadingData:Q,shouldScrollToComments:Boolean(q),shouldRenderPromotion:w,feedExpConfigByTags:R,uatraits:E,publicationPixels:M,adData:B,adContent:H,og:F,skipEmbedsInit:!1,themeTags:L.publication.tags,nonce:C,isRightAdBlockAvailable:Boolean(V),zenlibloaderBundleUrl:A}),(0,a.default)(c.SocialLoginPopupContainerLazy,{isMobile:!1})),S),v.rumManager.frameworkInitTimeMark()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticlePageContainer=void 0;var n=i(18),a=i(2733);const o=(0,n.connect)(function(e){const{publication:t,config:i,url:n,statData:a,images:o,experiments:r,publicationUtmConfig:s,publisher:{publisher:{statId:l,itemId:c}},social:{isCommentsBlockRevealed:d},feedback:{likes:u}}=e,{zenlibHostUrl:p,commentsEnabled:m,showAdvancedStatistic:h,showAdvancedStatisticFromTs:f,avatarsHost:g,iframeHost:b,yzclid:_,pixelsWhiteList:v}=i,{articleRedesignMovedSimilar:y,articleRedesignMovedBothSimilar:S,s2sTimer:I,viewStatEndTriggerShift:T,fullReadDelay:P,blocksWithNonLazyGifsCount:E,articleRightAdBlockId:C,articleCommentsAdBlockId:A,isDesktopArticleTagsBlockHidden:k,isDesktopArticleBottomSocialBlockHidden:O,adCustomGrabOn:L,isHeaderAvatarUploadable:w,socialsBottomDesktopWithSubscription:D,isHeaderMessengerEnabled:R,headerMessengerTimeout:M,shouldCollapseTags:N,messengerDevUrl:U,shouldUseGroupIdsInCommonStats:x}=r,{flight_id:B,secdata:F}=n.omittedQueryParams,{itemId:H}=t;return{publication:t,publisherItemId:c,isLikedNow:u.includes(H),zenlibHostUrl:p||"",commentsEnabled:m,showAdvancedStatistic:h,showAdvancedStatisticFromTs:f,flightId:B,statDataClid:a.clid,statDataDeviceId:a.deviceId,images:o||{},avatarsHost:g,iframeHost:b,renderBottomSimilarBlock:y||S,s2sTimer:I,viewStatEndTriggerShift:T,fullReadDelay:P,yzclid:_,blocksWithNonLazyGifsCount:E,secdata:F,publicationUtmConfig:s,articleRightAdBlockId:C,shouldCollapseTags:Boolean(N),articleCommentsAdBlockId:A,isCommentsBlockRevealed:d,statId:l,isDesktopArticleTagsBlockHidden:k,isDesktopArticleBottomSocialBlockHidden:O,adCustomGrabOn:L,isHeaderAvatarUploadable:w,socialsBottomDesktopWithSubscription:D,isHeaderMessengerEnabled:R,headerMessengerTimeout:M,pixelsWhiteList:v,messengerDevUrl:U,shouldUseGroupIdsInCommonStats:x}})(a.ArticlePage);t.ArticlePageContainer=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticlePage",{enumerable:!0,get:function(){return n.ArticlePage}});var n=i(2734)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticlePage=void 0;var o=a(i(2)),r=a(i(11)),s=n(i(0)),l=i(369),c=i(1245),d=i(1171),u=i(974),p=i(2735),m=i(1009),h=i(746),f=i(1643),g=i(2738),b=i(1606),_=i(2739),v=i(2703),y=i(1311),S=i(2743),I=i(1644),T=i(1312),P=i(1296),E=i(1641),C=i(1219),A=i(1642),k=a(i(912)),O=i(1298),L=i(1710),w=i(2744),D=i(880),R=i(1310),M=i(2748),N=i(9),U=i(2752),x=i(54),B=i(20),F=i(2452),H=i(638),V=i(77),j=i(139),z=i(35),G=i(1209),$=i(10),W=i(36),Y=i(40),K=i(29),X=i(27);const{bl:Z,el:q}=(0,N.createBlock)("article");var Q=(0,o.default)(T.SubscribeStatusHoc,{}),J=(0,o.default)(u.NotificationsPopupContainerLazy,{}),ee=(0,o.default)(E.ArticleAlertListContainer,{isMobile:!1}),te=(0,o.default)(_.ArticleSimilarContainer,{});t.ArticlePage=class extends s.default.Component{constructor(...e){super(...e),(0,r.default)(this,"state",{isMounted:!1,suggestedBlockBottomMargin:0}),(0,r.default)(this,"articleRef",(0,s.createRef)()),(0,r.default)(this,"contentRef",(0,s.createRef)()),(0,r.default)(this,"commentsRef",(0,s.createRef)()),(0,r.default)(this,"leftBlockRef",(0,s.createRef)()),(0,r.default)(this,"contentContainerRef",(0,s.createRef)()),(0,r.default)(this,"middleBlockRef",(0,s.createRef)()),(0,r.default)(this,"headerContainerRef",(0,s.createRef)()),(0,r.default)(this,"bottomEmbedRef",(0,s.createRef)()),(0,r.default)(this,"suggestedUpperBlockRef",(0,s.createRef)()),(0,r.default)(this,"suggestedBottomBlockRef",(0,s.createRef)()),(0,r.default)(this,"bottomMiddleBlockRef",(0,s.createRef)()),(0,r.default)(this,"feedContainerRef",(0,s.createRef)()),(0,r.default)(this,"s2sContainerRef",(0,s.createRef)()),(0,r.default)(this,"shouldRenderZenServices",()=>!this.props.shouldRenderPromotion),(0,r.default)(this,"shouldRenderCommentsBlock",()=>{const{isModerationMode:e,commentsEnabled:t}=this.props;return!e&&t})}componentDidMount(){const{publication:e,shareUrl:t,flightId:i,publicationPixels:n,statDataClid:a,adData:o,skipEmbedsInit:r,shouldScrollToComments:s,viewStatEndTriggerShift:l,fullReadDelay:c,shouldRenderPromotion:d,yzclid:u,secdata:p,publicationUtmConfig:m,socialsLoadingData:h,pixelsWhiteList:f,shouldUseGroupIdsInCommonStats:g}=this.props;if(!r&&e.content.type===X.PublicationContentType.article){const{articleContent:r}=e.content;!(0,W.isYandexBrowser)()&&this.headerContainerRef.current&&(0,F.initYaBroStripe)(this.headerContainerRef.current,this.middleBlockRef.current,!0);const{getStatCsrfToken:b}=(0,z.loadBulkParams)(this.getBulkInitParams(),{link:t,...z.commonBulkRequestParams});(0,H.initTotalArticleStat)({publication:e,articleElement:this.articleRef.current||void 0,pixels:n,rumName:"article",link:t,flightId:i,clid:a,getStatCsrfToken:b,rid:(0,Y.getRid)(),disableActivityTracking:this.shouldRenderCommentsBlock()&&s,viewStatEndTriggerShift:d?void 0:l,fullReadDelay:c,secdata:p,pixelsWhiteList:f,shouldUseGroupIdsInCommonStats:g}),(0,O.parameterizedPositionAd)(o),(0,x.fixScrollBar)(),(0,j.initArticleLinks)({publicationUtmConfig:m,yzclid:u}),(0,k.default)({rawContent:(0,V.getRawContent)(r),isMobile:!1}),s&&(null===h||void 0===h||h.allowLoadSocials())}this.setState({isMounted:!0})}getBulkInitParams(){const{statDataClid:e,statDataDeviceId:t}=this.props;return{...e?{clid:e}:{},...t?{device_id:t}:{}}}getS2SComponents(){const{publicationPixels:e,shouldRenderPromotion:t}=this.props;let i=null;return t&&(i=(0,o.default)(A.CountdownWrapper,{value:1e3*this.props.s2sTimer,stopOnIntersection:!0},void 0,({isCountdownFinished:t})=>(0,o.default)(f.ArticleScrollToSiteLazy,{isAdArticle:!1,isMobile:!1,isFastScroll:!t,statPixels:e}))),{s2sElemComponent:i,subscribeElemComponent:null}}getRightBlockHeight(){const e=this.middleBlockRef.current,t=this.contentContainerRef.current;return e&&t?`calc(100% - ${e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom}px)`:"100%"}getArticleContentHeightForRightBlock(){const e=this.contentContainerRef.current;if(!e)return v.ArticleContentHeight.tiny;let t;return t=(0,x.isElementHigher)(e,1800)?v.ArticleContentHeight.long:(0,x.isElementHigher)(e,600)?v.ArticleContentHeight.normal:(0,x.isElementHigher)(e,300)?v.ArticleContentHeight.short:v.ArticleContentHeight.tiny}getArticleRightPosition(){const e=this.contentContainerRef.current;return e?e.getBoundingClientRect().right:0}hasRightAdBlock(){const{adContent:e,adData:t,isRightAdBlockAvailable:i,articleRightAdBlockId:n}=this.props;return Boolean(i&&n&&(0,U.articleHasAd)(t,e))}isRightAdBlockVisible(){if(!this.hasRightAdBlock())return!1;const e=this.contentContainerRef.current;return!!e&&e&&e.getBoundingClientRect().height>1400}isCommentsAdBlockVisible(){const{adContent:e,adData:t}=this.props;if(!(0,U.articleHasAd)(t,e))return!1;const i=this.contentContainerRef.current,n=this.commentsRef.current;return!(!i||!n)&&n.getBoundingClientRect().height>600}getArticleContent(){const{adContent:e,adData:t,contentHTML:i,publication:{content:n,embeddedTags:a,id:r,itemId:s,marketWidgetConstructorInfo:l},images:c,og:d,avatarsHost:u,iframeHost:p,blocksWithNonLazyGifsCount:m,themeTags:h,adCustomGrabOn:f,publisherItemId:g}=this.props;if(n.type===X.PublicationContentType.video||!n.articleContent)return null;const{articleContent:{contentState:b}}=n;if(i)return i;const _=f?h:void 0,v={publicationItemId:s,publicationId:r,publisherItemId:g},y=(0,G.convertToRenderPublication)({contentState:JSON.parse(b),imagesDict:c,options:{og:d,isMobile:!1,isLazy:!0,avatarsHost:u,iframeHost:p||"",blocksWithNonLazyGifsCount:m},hasRightAdBlock:this.hasRightAdBlock(),themeTags:_,adData:t,adContent:e,marketWidgetConstructorInfo:l});return(0,o.default)(L.ArticleRender,{renderPublication:y,embeddedTags:a,isMobile:!1,statsData:v})}render(){var e,t;const{isModerationMode:i,queryParamFrom:n,channelUrl:a,isAdaptedForTablet:r,publication:u,articleSeo:f,socialsLoadingData:_,shareUrl:v,shouldProtectFromRedirects:T,shouldScrollToComments:E,shouldRenderPromotion:A,feedExpConfigByTags:k,zenlibHostUrl:O,zenlibloaderBundleUrl:L,uatraits:N,showAdvancedStatistic:U,showAdvancedStatisticFromTs:x,renderBottomSimilarBlock:F,skipEmbedsInit:H,articleRightAdBlockId:V,shouldCollapseTags:j,articleCommentsAdBlockId:z,isCommentsBlockRevealed:G,statId:W,isDesktopArticleTagsBlockHidden:Y,isDesktopArticleBottomSocialBlockHidden:ie,nonce:ne,isRightAdBlockAvailable:ae,isHeaderAvatarUploadable:oe,socialsBottomDesktopWithSubscription:re,isHeaderMessengerEnabled:se,headerMessengerTimeout:le,messengerDevUrl:ce,isLikedNow:de}=this.props,{suggestedBlockBottomMargin:ue}=this.state,{hasNativeAds:pe,swipeToSite:me,addTime:he,content:{preview:{title:fe},type:ge},commentsFlagState:be,call2ActionDto:_e,activeOnAdFlight:ve}=u,ye=!!k&&k.shouldRender,Se=k?k.activeClid:"",Ie=null===_||void 0===_?void 0:_.socialsLoadingPromise,Te=null!==(e=null===_||void 0===_?void 0:_.waitTillCanLoadSocials)&&void 0!==e?e:Promise.resolve(),Pe=null!==(t=null===_||void 0===_?void 0:_.allowLoadSocials)&&void 0!==t?t:()=>{},{s2sElemComponent:Ee,subscribeElemComponent:Ce}=this.getS2SComponents(),Ae=this.shouldRenderZenServices(),ke=this.shouldRenderCommentsBlock(),Oe=ke&&Ae,Le=be===K.FlagState.off,we=U&&he&&x<he&&!i,De=ye&&!H&&Ae&&!r&&!i,Re=!i&&!$.isSSR&&this.shouldRenderZenServices()&&!ie,{contentRef:{current:Me},bottomEmbedRef:{current:Ne},feedContainerRef:{current:Ue}}=this,xe=[];Me&&xe.push(Me),Ne&&xe.push(Ne);const Be=!$.isSSR&&ge===X.PublicationContentType.article,Fe=!i&&A&&Ee||null,He={tablet:r},Ve={...He},je={...He,disabled:!De};return s.default.createElement(s.default.Fragment,null,!$.isSSR&&Q,!r&&(0,o.default)("header",{id:"header-container"},void 0,!i&&(0,o.default)(d.ZenHeaderContainer,{loadAppPromise:Ie,activePage:K.EditorPage.publications,pageType:"article",isHeaderAvatarUploadable:oe,nonce:ne,isHeaderMessengerEnabled:se,headerMessengerTimeout:le,messengerDevUrl:ce})),s.default.createElement("article",{className:Z(Ve),ref:this.articleRef,itemScope:!0,itemType:"http://www.schema.org/BlogPosting"},f,s.default.createElement("div",{className:q("content",He),ref:this.contentRef},s.default.createElement("div",{id:q("left"),className:q("left",He),ref:this.leftBlockRef},!$.isSSR&&!r&&(0,o.default)(b.ArticleLeftBlockContainer,{shareUrl:v,loadAppPromise:Ie,commentsEnabled:Oe&&!Le,commentsBlock:Oe&&this.commentsRef.current?this.commentsRef.current:void 0,parentElement:this.leftBlockRef.current||void 0,paddingBottom:40,pageType:"publisher_platform_sidebar",suggestedUpperBlock:this.suggestedUpperBlockRef.current,suggestedBottomBlock:this.suggestedBottomBlockRef.current,rightBlockHeight:this.getRightBlockHeight(),allowLoadSocials:Pe})),s.default.createElement("div",{className:q("middle",He),ref:this.middleBlockRef},s.default.createElement("div",{ref:this.headerContainerRef},!$.isSSR&&J,(0,o.default)(p.ArticleRootContainer,{from:n,channelUrl:a,isAdaptedForITablet:r,nonce:ne,loadAppPromise:Ie})),(0,o.default)("div",{className:q("zoom-overlay")}),(0,o.default)("div",{className:q("alerts-block")},void 0,ee),(0,o.default)("h1",{className:q("title",He),itemProp:"headline"},void 0,fe),(0,o.default)("footer",{className:q("statistics",He),"aria-hidden":"true"},void 0,(0,o.default)(l.Access,{},void 0,({canWrite:e})=>e&&(0,o.default)(P.PublicationStatus,{publication:u,isMobile:!1,isProcessing:!1,currentTimestamp:Date.now()})),(0,o.default)("div",{},void 0,we?s.default.createElement(s.default.Fragment,null,(0,o.default)(h.ArticleStatHOC,{publicationId:u.id},void 0,({statistic:e})=>(0,o.default)(C.ArticleStat,{publication:u,statistic:e}))):he&&!i&&s.default.createElement(s.default.Fragment,null,(pe||ve)&&(0,o.default)(D.ArticleAdLabel,{isPartner:ve}),(0,B.toHumanDate)(u.content.modTime)))),s.default.createElement("div",{ref:this.contentContainerRef},this.getArticleContent())),(0,o.default)("div",{id:q("right"),className:q("right",He),style:{marginBottom:ue,...ue?{zIndex:1}:{}}},void 0,!me&&!$.isSSR&&(this.isRightAdBlockVisible()&&V?(0,o.default)(M.ArticleRightAdBlock,{blockId:V,statId:W}):(0,o.default)(g.ArticleRightSuggestedPublicationsContainerLazy,{articleHeight:this.getArticleContentHeightForRightBlock(),height:this.getRightBlockHeight(),suggestedUpperBlockRef:this.suggestedUpperBlockRef,suggestedBottomBlockRef:this.suggestedBottomBlockRef}))))),(0,o.default)("div",{className:q("content",He)},void 0,(0,o.default)("div",{className:q("left",He)}),s.default.createElement("div",{className:q("middle",He),ref:this.bottomMiddleBlockRef},Be&&(0,o.default)(c.CallToActionLazy,{articleElement:this.contentContainerRef.current,adHideTriggerElement:this.bottomEmbedRef.current,commentsHideTriggerElement:this.commentsRef.current,hideTriggerElement:this.bottomMiddleBlockRef.current,feedContainerElement:this.feedContainerRef.current,s2sContainerElement:Fe?this.s2sContainerRef.current:null,initialArticleRightPosition:this.getArticleRightPosition(),isOpenedShareDialog:!1,callToLinkData:_e,isMobile:!1,isLikedNow:de,loadAppPromise:Ie}),!i&&!$.isSSR&&!Y&&(0,o.default)(m.ThemeTagsContainer,{shouldProtectFromRedirects:T,isMobile:!1,mobileArticleBottomRedisign:j}),Re&&(0,o.default)(l.Access,{},void 0,({canWrite:e})=>(0,o.default)(S.ArticleBottomContainerLazy,{loadAppPromise:Ie,shareUrl:v,useLargeShareIcons:!0,isMobile:!1,shouldRenderComments:Oe&&!Le,pageType:"publisher_platform_footer",commentsBlock:Oe&&this.commentsRef.current?this.commentsRef.current:void 0,shouldScrollToComments:E,isNarrative:!1,mobileArticleBottomRedisign:!1,isOwner:e,socialsBottomDesktopWithSubscription:re,shouldCollapseTags:j}))),(0,o.default)("div",{className:q("right",{"no-padding":!0,...He})})),!$.isSSR&&s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{id:q("s2s"),ref:this.s2sContainerRef},Fe),(0,o.default)("div",{className:q("content",He)},void 0,(0,o.default)("div",{className:q("left",{...He})}),(0,o.default)("div",{className:q("middle",{...He})},void 0,s.default.createElement("div",{id:q("bottom-embed"),ref:this.bottomEmbedRef,className:q("bottom-embed")}),(0,o.default)("div",{id:q("subscribe")},void 0,!i&&A&&Ce)),(0,o.default)("div",{className:q("right",{"no-padding":!0,...He})})),(0,o.default)("div",{className:q("content",He)},void 0,(0,o.default)("div",{className:q("left",He)}),(0,o.default)("div",{className:q("middle",He)},void 0,s.default.createElement("div",{id:q("comments"),ref:this.commentsRef},ke&&xe.length&&(0,o.default)(R.ArticleCommentsObserver,{waitTillCanLoadSocials:Te,allowLoadSocials:Pe,elementsToWatch:xe,isMobile:!1,loadAppPromise:Ie,shouldRenderComments:Oe,shouldScroll:E})),Ne&&!A&&(0,o.default)(I.ArticleFeedbackContainer,{isMobile:!1,observableElement:Ne,hideTriggerElement:null!==Ue&&void 0!==Ue?Ue:void 0})),(0,o.default)("div",{className:q("right",He)},void 0,!me&&!$.isSSR&&z&&G&&this.isCommentsAdBlockVisible()&&ae&&(0,o.default)(w.ArticleAdComments,{blockId:z,statId:W}))),F&&te,s.default.createElement("div",{id:q("zen-feed"),className:q("zen-feed",je),ref:this.feedContainerRef},De&&(0,o.default)(y.ArticleRecommenderContainerLazy,{clid:Se,host:O,isMobile:!1,itemType:K.ArticleItemType.native,loaderBundleUrl:L,uatraits:N,isOffline:!1,bulkInitParams:this.getBulkInitParams()}))))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRootContainer=void 0;var n=i(18),a=i(1189),o=i(132),r=i(2736);const s=(0,n.connect)(e=>{const{experiments:t,publication:i,profile:{user:n},publisher:{publisher:o},preferences:r}=e,s=!!i.privateData&&"has-unpublished-changes"===i.privateData.draftStatus;return{preferences:r,isEditDisable:(0,a.isMicroPost)(),publisher:o,publication:i,user:n,needBackButton:t.showBackButton,hasUnpublishedChanges:s}},{likePublisher:o.likePublisher,unlikePublisher:o.unlikePublisher,blockPublisher:o.blockPublisher,unblockPublisher:o.unblockPublisher})(r.ArticleRoot);t.ArticleRootContainer=s},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRoot=void 0;var a=n(i(2)),o=(n(i(0)),i(9)),r=i(2737),s=i(313);i(1169),i(1604);const{bl:l}=(0,o.createBlock)("article-root");t.ArticleRoot=(({publication:e,publisher:t,preferences:i,isEditDisable:n,user:o,from:c,channelUrl:d,isAdaptedForITablet:u,needBackButton:p,hasUnpublishedChanges:m,blockPublisher:h,likePublisher:f,unblockPublisher:g,unlikePublisher:b,nonce:_,loadAppPromise:v})=>{const{canWrite:y}=(0,s.useAccess)();return(0,a.default)("div",{className:l({tablet:u})},void 0,(0,a.default)(r.ArticleHeader,{hasUnpublishedChanges:m,publisher:t,publication:e,preferences:i,canEdit:y,isEditDisable:n,channelUrl:d,user:o,from:c,isAdaptedForITablet:u,needBackButton:p,blockPublisher:h,likePublisher:f,unblockPublisher:g,unlikePublisher:b,nonce:_,loadAppPromise:v}))})},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleHeader=void 0;var a=n(i(14)),o=n(i(11)),r=n(i(0)),s=i(7),l=n(i(2448));t.ArticleHeader=class extends r.default.PureComponent{constructor(...e){super(...e),(0,o.default)(this,"handleEditClick",()=>{const{publication:e}=this.props;location.href=(0,s.toEditUrl)({publication:e})})}render(){return r.default.createElement(l.default,(0,a.default)({},this.props,{onEdit:this.handleEditClick}))}}},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRightSuggestedPublicationsContainerLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(16).then(i.t.bind(null,3122,7)),loading:()=>null,render:({ArticleRightSuggestedPublicationsContainer:e},t)=>a.default.createElement(e,t)});t.ArticleRightSuggestedPublicationsContainerLazy=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleSimilarContainer=void 0;var n=i(18),a=i(1115),o=i(2740),r=i(370),s=i(1189);const l=(0,n.connect)(e=>({publisher:e.publisher.publisher,isOwner:(0,s.isPublisherBelongToUser)(),similarArticles:e.similarArticles.publisherSuggested}),{loadSimilarArticles:a.loadPublisherSuggested},r.defaultMergeProps)(o.ArticleSimilar);t.ArticleSimilarContainer=l},function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleSimilar=void 0;var a=n(i(2)),o=n(i(0)),r=n(i(76)),s=i(9),l=i(8);i(2741);const{bl:c,el:d}=(0,s.createBlock)("article-similar");t.ArticleSimilar=class extends o.default.PureComponent{componentDidMount(){this.props.loadSimilarArticles()}render(){const{publisher:e,similarArticles:t}=this.props;return t.length?(0,a.default)("div",{className:c({similar:!0})},void 0,(0,a.default)("div",{className:d("back")}),(0,a.default)("div",{className:d("title")},void 0,(0,a.default)("span",{className:d("title-divider",{left:!0})}),(0,l.lang)('7372c314'),(0,a.default)("span",{className:d("title-divider",{right:!0})})),(0,a.default)("div",{className:d("content")},void 0,(0,a.default)(u,{publisher:e,similarArticles:t}))):null}};const u=(0,r.default)({loader:()=>i.e(62).then(i.t.bind(null,3123,7)),loading:()=>"",render(e,t){const{ArticleSimilarItem:i}=e,{similarArticles:n=[],publisher:r}=t;return(0,a.default)(o.default.Fragment,{},void 0,n.map(e=>(0,a.default)(i,{title:e.title,link:e.link,images:e.images,text:e.text,card_colors:e.card_colors,stats:e.stats,publisherName:r.name||""},e.link)))}})},function(e,t,i){},,function(e,t,i){"use strict";var n=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleBottomContainerLazy=void 0;var a=n(i(0));const o=(0,n(i(76)).default)({loader:()=>i.e(6).then(i.t.bind(null,1770,7)),loading:()=>null,render:({ArticleBottomContainer:e},t)=>a.default.createElement(e,t)});t.ArticleBottomContainerLazy=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleAdComments",{enumerable:!0,get:function(){return n.ArticleAdCommentsMemo}});var n=i(2745)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleAdCommentsMemo=void 0;var o=a(i(2)),r=n(i(0)),s=i(1286),l=i(550),c=i(9);i(2746);const{bl:d,el:u}=(0,c.createBlock)("article-ad-comments"),p=(0,r.memo)(({blockId:e,statId:t})=>(0,o.default)("div",{className:d()},void 0,(0,o.default)(s.Sticky,{className:u("sticky")},void 0,(0,o.default)("div",{className:u("content")},void 0,(0,o.default)(l.YandexDirectEmbed,{data:{blockId:e,statId:t},blockKey:`ad-comments-${e}`})))));t.ArticleAdCommentsMemo=p},function(e,t,i){},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ArticleRightAdBlock",{enumerable:!0,get:function(){return n.ArticleRightAdBlock}});var n=i(2749)},function(e,t,i){"use strict";var n=i(3),a=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRightAdBlock=void 0;var o=a(i(2)),r=n(i(0)),s=i(1286),l=i(550),c=i(9);i(2750);const{bl:d,el:u}=(0,c.createBlock)("article-right-ad-block"),p=(0,r.memo)(e=>{const{statId:t,blockId:i}=e;return(0,o.default)("div",{className:d()},void 0,(0,o.default)("div",{className:u("margin-block")}),(0,o.default)("div",{className:u("main")},void 0,(0,o.default)(s.Sticky,{className:u("sticky")},void 0,(0,o.default)("div",{className:u("ad-content")},void 0,(0,o.default)(l.YandexDirectEmbed,{data:{blockId:i,statId:t},blockKey:`ad-right-${i}`,style:{maxHeight:9999}})))))});t.ArticleRightAdBlock=p},function(e,t,i){},,function(e,t,i){"use strict";function n(e){return!e.rsyaAdData&&!e.adfoxAdData}Object.defineProperty(t,"__esModule",{value:!0}),t.articleHasAd=function(e,t){return!n(e.topAdv)||!n(e.bottomAdv)||!t}},function(e,t,i){}]);if (window._scriptExecutionTO) { clearTimeout(window._scriptExecutionTO); }